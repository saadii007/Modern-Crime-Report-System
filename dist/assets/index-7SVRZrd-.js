var KR=Object.defineProperty;var YR=(n,t,e)=>t in n?KR(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Mt=(n,t,e)=>YR(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function q_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ig={exports:{}},Wc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wb;function XR(){if(Wb)return Wc;Wb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var c=null;if(o!==void 0&&(c=""+o),r.key!==void 0&&(c=""+r.key),"key"in r){o={};for(var f in r)f!=="key"&&(o[f]=r[f])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:c,ref:r!==void 0?r:null,props:o}}return Wc.Fragment=t,Wc.jsx=e,Wc.jsxs=e,Wc}var Kb;function QR(){return Kb||(Kb=1,Ig.exports=XR()),Ig.exports}var X=QR(),Mg={exports:{}},Qt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yb;function $R(){if(Yb)return Qt;Yb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),E=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=E&&U[E]||U["@@iterator"],typeof U=="function"?U:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,O={};function D(U,ct,bt){this.props=U,this.context=ct,this.refs=O,this.updater=bt||R}D.prototype.isReactComponent={},D.prototype.setState=function(U,ct){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ct,"setState")},D.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function V(){}V.prototype=D.prototype;function K(U,ct,bt){this.props=U,this.context=ct,this.refs=O,this.updater=bt||R}var W=K.prototype=new V;W.constructor=K,I(W,D.prototype),W.isPureReactComponent=!0;var ut=Array.isArray,et={H:null,A:null,T:null,S:null,V:null},_t=Object.prototype.hasOwnProperty;function B(U,ct,bt,gt,St,At){return bt=At.ref,{$$typeof:n,type:U,key:ct,ref:bt!==void 0?bt:null,props:At}}function k(U,ct){return B(U.type,ct,void 0,void 0,void 0,U.props)}function z(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function H(U){var ct={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(bt){return ct[bt]})}var F=/\/+/g;function Z(U,ct){return typeof U=="object"&&U!==null&&U.key!=null?H(""+U.key):ct.toString(36)}function j(){}function Yt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(j,j):(U.status="pending",U.then(function(ct){U.status==="pending"&&(U.status="fulfilled",U.value=ct)},function(ct){U.status==="pending"&&(U.status="rejected",U.reason=ct)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function Lt(U,ct,bt,gt,St){var At=typeof U;(At==="undefined"||At==="boolean")&&(U=null);var Et=!1;if(U===null)Et=!0;else switch(At){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(U.$$typeof){case n:case t:Et=!0;break;case v:return Et=U._init,Lt(Et(U._payload),ct,bt,gt,St)}}if(Et)return St=St(U),Et=gt===""?"."+Z(U,0):gt,ut(St)?(bt="",Et!=null&&(bt=Et.replace(F,"$&/")+"/"),Lt(St,ct,bt,"",function(yi){return yi})):St!=null&&(z(St)&&(St=k(St,bt+(St.key==null||U&&U.key===St.key?"":(""+St.key).replace(F,"$&/")+"/")+Et)),ct.push(St)),1;Et=0;var xe=gt===""?".":gt+":";if(ut(U))for(var ue=0;ue<U.length;ue++)gt=U[ue],At=xe+Z(gt,ue),Et+=Lt(gt,ct,bt,At,St);else if(ue=x(U),typeof ue=="function")for(U=ue.call(U),ue=0;!(gt=U.next()).done;)gt=gt.value,At=xe+Z(gt,ue++),Et+=Lt(gt,ct,bt,At,St);else if(At==="object"){if(typeof U.then=="function")return Lt(Yt(U),ct,bt,gt,St);throw ct=String(U),Error("Objects are not valid as a React child (found: "+(ct==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ct)+"). If you meant to render a collection of children, use an array instead.")}return Et}function it(U,ct,bt){if(U==null)return U;var gt=[],St=0;return Lt(U,gt,"","",function(At){return ct.call(bt,At,St++)}),gt}function vt(U){if(U._status===-1){var ct=U._result;ct=ct(),ct.then(function(bt){(U._status===0||U._status===-1)&&(U._status=1,U._result=bt)},function(bt){(U._status===0||U._status===-1)&&(U._status=2,U._result=bt)}),U._status===-1&&(U._status=0,U._result=ct)}if(U._status===1)return U._result.default;throw U._result}var pt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ct=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ct))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function Vt(){}return Qt.Children={map:it,forEach:function(U,ct,bt){it(U,function(){ct.apply(this,arguments)},bt)},count:function(U){var ct=0;return it(U,function(){ct++}),ct},toArray:function(U){return it(U,function(ct){return ct})||[]},only:function(U){if(!z(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Qt.Component=D,Qt.Fragment=e,Qt.Profiler=r,Qt.PureComponent=K,Qt.StrictMode=i,Qt.Suspense=m,Qt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et,Qt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return et.H.useMemoCache(U)}},Qt.cache=function(U){return function(){return U.apply(null,arguments)}},Qt.cloneElement=function(U,ct,bt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var gt=I({},U.props),St=U.key,At=void 0;if(ct!=null)for(Et in ct.ref!==void 0&&(At=void 0),ct.key!==void 0&&(St=""+ct.key),ct)!_t.call(ct,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&ct.ref===void 0||(gt[Et]=ct[Et]);var Et=arguments.length-2;if(Et===1)gt.children=bt;else if(1<Et){for(var xe=Array(Et),ue=0;ue<Et;ue++)xe[ue]=arguments[ue+2];gt.children=xe}return B(U.type,St,void 0,void 0,At,gt)},Qt.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},Qt.createElement=function(U,ct,bt){var gt,St={},At=null;if(ct!=null)for(gt in ct.key!==void 0&&(At=""+ct.key),ct)_t.call(ct,gt)&&gt!=="key"&&gt!=="__self"&&gt!=="__source"&&(St[gt]=ct[gt]);var Et=arguments.length-2;if(Et===1)St.children=bt;else if(1<Et){for(var xe=Array(Et),ue=0;ue<Et;ue++)xe[ue]=arguments[ue+2];St.children=xe}if(U&&U.defaultProps)for(gt in Et=U.defaultProps,Et)St[gt]===void 0&&(St[gt]=Et[gt]);return B(U,At,void 0,void 0,null,St)},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(U){return{$$typeof:f,render:U}},Qt.isValidElement=z,Qt.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:vt}},Qt.memo=function(U,ct){return{$$typeof:p,type:U,compare:ct===void 0?null:ct}},Qt.startTransition=function(U){var ct=et.T,bt={};et.T=bt;try{var gt=U(),St=et.S;St!==null&&St(bt,gt),typeof gt=="object"&&gt!==null&&typeof gt.then=="function"&&gt.then(Vt,pt)}catch(At){pt(At)}finally{et.T=ct}},Qt.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()},Qt.use=function(U){return et.H.use(U)},Qt.useActionState=function(U,ct,bt){return et.H.useActionState(U,ct,bt)},Qt.useCallback=function(U,ct){return et.H.useCallback(U,ct)},Qt.useContext=function(U){return et.H.useContext(U)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(U,ct){return et.H.useDeferredValue(U,ct)},Qt.useEffect=function(U,ct,bt){var gt=et.H;if(typeof bt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return gt.useEffect(U,ct)},Qt.useId=function(){return et.H.useId()},Qt.useImperativeHandle=function(U,ct,bt){return et.H.useImperativeHandle(U,ct,bt)},Qt.useInsertionEffect=function(U,ct){return et.H.useInsertionEffect(U,ct)},Qt.useLayoutEffect=function(U,ct){return et.H.useLayoutEffect(U,ct)},Qt.useMemo=function(U,ct){return et.H.useMemo(U,ct)},Qt.useOptimistic=function(U,ct){return et.H.useOptimistic(U,ct)},Qt.useReducer=function(U,ct,bt){return et.H.useReducer(U,ct,bt)},Qt.useRef=function(U){return et.H.useRef(U)},Qt.useState=function(U){return et.H.useState(U)},Qt.useSyncExternalStore=function(U,ct,bt){return et.H.useSyncExternalStore(U,ct,bt)},Qt.useTransition=function(){return et.H.useTransition()},Qt.version="19.1.0",Qt}var Xb;function G_(){return Xb||(Xb=1,Mg.exports=$R()),Mg.exports}var $=G_();const ji=q_($);var Pg={exports:{}},Kc={},Og={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qb;function JR(){return Qb||(Qb=1,function(n){function t(it,vt){var pt=it.length;it.push(vt);t:for(;0<pt;){var Vt=pt-1>>>1,U=it[Vt];if(0<r(U,vt))it[Vt]=vt,it[pt]=U,pt=Vt;else break t}}function e(it){return it.length===0?null:it[0]}function i(it){if(it.length===0)return null;var vt=it[0],pt=it.pop();if(pt!==vt){it[0]=pt;t:for(var Vt=0,U=it.length,ct=U>>>1;Vt<ct;){var bt=2*(Vt+1)-1,gt=it[bt],St=bt+1,At=it[St];if(0>r(gt,pt))St<U&&0>r(At,gt)?(it[Vt]=At,it[St]=pt,Vt=St):(it[Vt]=gt,it[bt]=pt,Vt=bt);else if(St<U&&0>r(At,pt))it[Vt]=At,it[St]=pt,Vt=St;else break t}}return vt}function r(it,vt){var pt=it.sortIndex-vt.sortIndex;return pt!==0?pt:it.id-vt.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,f=c.now();n.unstable_now=function(){return c.now()-f}}var m=[],p=[],v=1,E=null,x=3,R=!1,I=!1,O=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ut(it){for(var vt=e(p);vt!==null;){if(vt.callback===null)i(p);else if(vt.startTime<=it)i(p),vt.sortIndex=vt.expirationTime,t(m,vt);else break;vt=e(p)}}function et(it){if(O=!1,ut(it),!I)if(e(m)!==null)I=!0,_t||(_t=!0,Z());else{var vt=e(p);vt!==null&&Lt(et,vt.startTime-it)}}var _t=!1,B=-1,k=5,z=-1;function H(){return D?!0:!(n.unstable_now()-z<k)}function F(){if(D=!1,_t){var it=n.unstable_now();z=it;var vt=!0;try{t:{I=!1,O&&(O=!1,K(B),B=-1),R=!0;var pt=x;try{e:{for(ut(it),E=e(m);E!==null&&!(E.expirationTime>it&&H());){var Vt=E.callback;if(typeof Vt=="function"){E.callback=null,x=E.priorityLevel;var U=Vt(E.expirationTime<=it);if(it=n.unstable_now(),typeof U=="function"){E.callback=U,ut(it),vt=!0;break e}E===e(m)&&i(m),ut(it)}else i(m);E=e(m)}if(E!==null)vt=!0;else{var ct=e(p);ct!==null&&Lt(et,ct.startTime-it),vt=!1}}break t}finally{E=null,x=pt,R=!1}vt=void 0}}finally{vt?Z():_t=!1}}}var Z;if(typeof W=="function")Z=function(){W(F)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,Yt=j.port2;j.port1.onmessage=F,Z=function(){Yt.postMessage(null)}}else Z=function(){V(F,0)};function Lt(it,vt){B=V(function(){it(n.unstable_now())},vt)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(it){it.callback=null},n.unstable_forceFrameRate=function(it){0>it||125<it?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<it?Math.floor(1e3/it):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(it){switch(x){case 1:case 2:case 3:var vt=3;break;default:vt=x}var pt=x;x=vt;try{return it()}finally{x=pt}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(it,vt){switch(it){case 1:case 2:case 3:case 4:case 5:break;default:it=3}var pt=x;x=it;try{return vt()}finally{x=pt}},n.unstable_scheduleCallback=function(it,vt,pt){var Vt=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?Vt+pt:Vt):pt=Vt,it){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=pt+U,it={id:v++,callback:vt,priorityLevel:it,startTime:pt,expirationTime:U,sortIndex:-1},pt>Vt?(it.sortIndex=pt,t(p,it),e(m)===null&&it===e(p)&&(O?(K(B),B=-1):O=!0,Lt(et,pt-Vt))):(it.sortIndex=U,t(m,it),I||R||(I=!0,_t||(_t=!0,Z()))),it},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(it){var vt=x;return function(){var pt=x;x=vt;try{return it.apply(this,arguments)}finally{x=pt}}}}(Dg)),Dg}var $b;function tC(){return $b||($b=1,Og.exports=JR()),Og.exports}var kg={exports:{}},Wn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jb;function eC(){if(Jb)return Wn;Jb=1;var n=G_();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(m,p,v){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:E==null?null:""+E,children:m,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Wn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Wn.createPortal=function(m,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return o(m,p,null,v)},Wn.flushSync=function(m){var p=c.T,v=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=v,i.d.f()}},Wn.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},Wn.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},Wn.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var v=p.as,E=f(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:E,integrity:x,fetchPriority:R}):v==="script"&&i.d.X(m,{crossOrigin:E,integrity:x,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Wn.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},Wn.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,E=f(v,p.crossOrigin);i.d.L(m,v,{crossOrigin:E,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Wn.preloadModule=function(m,p){if(typeof m=="string")if(p){var v=f(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},Wn.requestFormReset=function(m){i.d.r(m)},Wn.unstable_batchedUpdates=function(m,p){return m(p)},Wn.useFormState=function(m,p,v){return c.H.useFormState(m,p,v)},Wn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wn.version="19.1.0",Wn}var tT;function $w(){if(tT)return kg.exports;tT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),kg.exports=eC(),kg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eT;function nC(){if(eT)return Kc;eT=1;var n=tC(),t=G_(),e=$w();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)a+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,u=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(u=a.return),s=a.return;while(s)}return a.tag===3?u:null}function c(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var u=s,d=a;;){var y=u.return;if(y===null)break;var b=y.alternate;if(b===null){if(d=y.return,d!==null){u=d;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===u)return f(y),s;if(b===d)return f(y),a;b=b.sibling}throw Error(i(188))}if(u.return!==d.return)u=y,d=b;else{for(var C=!1,P=y.child;P;){if(P===u){C=!0,u=y,d=b;break}if(P===d){C=!0,d=y,u=b;break}P=P.sibling}if(!C){for(P=b.child;P;){if(P===u){C=!0,u=b,d=y;break}if(P===d){C=!0,d=b,u=y;break}P=P.sibling}if(!C)throw Error(i(189))}}if(u.alternate!==d)throw Error(i(190))}if(u.tag!==3)throw Error(i(188));return u.stateNode.current===u?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var v=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),K=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),_t=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function Z(s){return s===null||typeof s!="object"?null:(s=F&&s[F]||s["@@iterator"],typeof s=="function"?s:null)}var j=Symbol.for("react.client.reference");function Yt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===j?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case D:return"Profiler";case O:return"StrictMode";case et:return"Suspense";case _t:return"SuspenseList";case z:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case R:return"Portal";case W:return(s.displayName||"Context")+".Provider";case K:return(s._context.displayName||"Context")+".Consumer";case ut:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case B:return a=s.displayName||null,a!==null?a:Yt(s.type)||"Memo";case k:a=s._payload,s=s._init;try{return Yt(s(a))}catch{}}return null}var Lt=Array.isArray,it=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,vt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},Vt=[],U=-1;function ct(s){return{current:s}}function bt(s){0>U||(s.current=Vt[U],Vt[U]=null,U--)}function gt(s,a){U++,Vt[U]=s.current,s.current=a}var St=ct(null),At=ct(null),Et=ct(null),xe=ct(null);function ue(s,a){switch(gt(Et,a),gt(At,s),gt(St,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?Tb(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=Tb(a),s=Eb(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}bt(St),gt(St,s)}function yi(){bt(St),bt(At),bt(Et)}function Fi(s){s.memoizedState!==null&&gt(xe,s);var a=St.current,u=Eb(a,s.type);a!==u&&(gt(At,s),gt(St,u))}function vi(s){At.current===s&&(bt(St),bt(At)),xe.current===s&&(bt(xe),Hc._currentValue=pt)}var bi=Object.prototype.hasOwnProperty,ds=n.unstable_scheduleCallback,yr=n.unstable_cancelCallback,oa=n.unstable_shouldYield,Oo=n.unstable_requestPaint,Bn=n.unstable_now,la=n.unstable_getCurrentPriorityLevel,Do=n.unstable_ImmediatePriority,vr=n.unstable_UserBlockingPriority,ms=n.unstable_NormalPriority,Bl=n.unstable_LowPriority,br=n.unstable_IdlePriority,ko=n.log,Ul=n.unstable_setDisableYieldValue,Oe=null,me=null;function Un(s){if(typeof ko=="function"&&Ul(s),me&&typeof me.setStrictMode=="function")try{me.setStrictMode(Oe,s)}catch{}}var vn=Math.clz32?Math.clz32:Tr,Lo=Math.log,jl=Math.LN2;function Tr(s){return s>>>=0,s===0?32:31-(Lo(s)/jl|0)|0}var Vs=256,ps=4194304;function ai(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function ua(s,a,u){var d=s.pendingLanes;if(d===0)return 0;var y=0,b=s.suspendedLanes,C=s.pingedLanes;s=s.warmLanes;var P=d&134217727;return P!==0?(d=P&~b,d!==0?y=ai(d):(C&=P,C!==0?y=ai(C):u||(u=P&~s,u!==0&&(y=ai(u))))):(P=d&~b,P!==0?y=ai(P):C!==0?y=ai(C):u||(u=d&~s,u!==0&&(y=ai(u)))),y===0?0:a!==0&&a!==y&&(a&b)===0&&(b=y&-y,u=a&-a,b>=u||b===32&&(u&4194048)!==0)?a:y}function Ti(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function No(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var s=Vs;return Vs<<=1,(Vs&4194048)===0&&(Vs=256),s}function ca(){var s=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),s}function qi(s){for(var a=[],u=0;31>u;u++)a.push(s);return a}function Gi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Vo(s,a,u,d,y,b){var C=s.pendingLanes;s.pendingLanes=u,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=u,s.entangledLanes&=u,s.errorRecoveryDisabledLanes&=u,s.shellSuspendCounter=0;var P=s.entanglements,G=s.expirationTimes,st=s.hiddenUpdates;for(u=C&~u;0<u;){var ht=31-vn(u),dt=1<<ht;P[ht]=0,G[ht]=-1;var rt=st[ht];if(rt!==null)for(st[ht]=null,ht=0;ht<rt.length;ht++){var at=rt[ht];at!==null&&(at.lane&=-536870913)}u&=~dt}d!==0&&Zi(s,d,0),b!==0&&y===0&&s.tag!==0&&(s.suspendedLanes|=b&~(C&~a))}function Zi(s,a,u){s.pendingLanes|=a,s.suspendedLanes&=~a;var d=31-vn(a);s.entangledLanes|=a,s.entanglements[d]=s.entanglements[d]|1073741824|u&4194090}function Bo(s,a){var u=s.entangledLanes|=a;for(s=s.entanglements;u;){var d=31-vn(u),y=1<<d;y&a|s[d]&a&&(s[d]|=a),u&=~y}}function Bs(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function ha(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Us(){var s=vt.p;return s!==0?s:(s=window.event,s===void 0?32:jb(s.type))}function fa(s,a){var u=vt.p;try{return vt.p=s,a()}finally{vt.p=u}}var De=Math.random().toString(36).slice(2),$e="__reactFiber$"+De,Ke="__reactProps$"+De,oi="__reactContainer$"+De,jn="__reactEvents$"+De,Ot="__reactListeners$"+De,gs="__reactHandles$"+De,Uo="__reactResources$"+De,js="__reactMarker$"+De;function _s(s){delete s[$e],delete s[Ke],delete s[jn],delete s[Ot],delete s[gs]}function Ei(s){var a=s[$e];if(a)return a;for(var u=s.parentNode;u;){if(a=u[oi]||u[$e]){if(u=a.alternate,a.child!==null||u!==null&&u.child!==null)for(s=Ab(s);s!==null;){if(u=s[$e])return u;s=Ab(s)}return a}s=u,u=s.parentNode}return null}function wi(s){if(s=s[$e]||s[oi]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Mn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function bn(s){var a=s[Uo];return a||(a=s[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Fe(s){s[js]=!0}var jo=new Set,da={};function Si(s,a){Wi(s,a),Wi(s+"Capture",a)}function Wi(s,a){for(da[s]=a,s=0;s<a.length;s++)jo.add(a[s])}var Hl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Er={},wr={};function Fl(s){return bi.call(wr,s)?!0:bi.call(Er,s)?!1:Hl.test(s)?wr[s]=!0:(Er[s]=!0,!1)}function Hs(s,a,u){if(Fl(a))if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var d=a.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+u)}}function Ki(s,a,u){if(u===null)s.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+u)}}function hn(s,a,u,d){if(d===null)s.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(u);return}s.setAttributeNS(a,u,""+d)}}var ys,Fs;function Yi(s){if(ys===void 0)try{throw Error()}catch(u){var a=u.stack.trim().match(/\n( *(at )?)/);ys=a&&a[1]||"",Fs=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+s+Fs}var Sr=!1;function Xi(s,a){if(!s||Sr)return"";Sr=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(a){var dt=function(){throw Error()};if(Object.defineProperty(dt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(dt,[])}catch(at){var rt=at}Reflect.construct(s,[],dt)}else{try{dt.call()}catch(at){rt=at}s.call(dt.prototype)}}else{try{throw Error()}catch(at){rt=at}(dt=s())&&typeof dt.catch=="function"&&dt.catch(function(){})}}catch(at){if(at&&rt&&typeof at.stack=="string")return[at.stack,rt.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=d.DetermineComponentFrameRoot(),C=b[0],P=b[1];if(C&&P){var G=C.split(`
`),st=P.split(`
`);for(y=d=0;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;for(;y<st.length&&!st[y].includes("DetermineComponentFrameRoot");)y++;if(d===G.length||y===st.length)for(d=G.length-1,y=st.length-1;1<=d&&0<=y&&G[d]!==st[y];)y--;for(;1<=d&&0<=y;d--,y--)if(G[d]!==st[y]){if(d!==1||y!==1)do if(d--,y--,0>y||G[d]!==st[y]){var ht=`
`+G[d].replace(" at new "," at ");return s.displayName&&ht.includes("<anonymous>")&&(ht=ht.replace("<anonymous>",s.displayName)),ht}while(1<=d&&0<=y);break}}}finally{Sr=!1,Error.prepareStackTrace=u}return(u=s?s.displayName||s.name:"")?Yi(u):""}function te(s){switch(s.tag){case 26:case 27:case 5:return Yi(s.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 15:return Xi(s.type,!1);case 11:return Xi(s.type.render,!1);case 1:return Xi(s.type,!0);case 31:return Yi("Activity");default:return""}}function _e(s){try{var a="";do a+=te(s),s=s.return;while(s);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Qi(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function qs(s){var a=Qi(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),d=""+s[a];if(!s.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var y=u.get,b=u.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return y.call(this)},set:function(C){d=""+C,b.call(this,C)}}),Object.defineProperty(s,a,{enumerable:u.enumerable}),{getValue:function(){return d},setValue:function(C){d=""+C},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Gs(s){s._valueTracker||(s._valueTracker=qs(s))}function Zt(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var u=a.getValue(),d="";return s&&(d=Qi(s)?s.checked?"true":"false":s.value),s=d,s!==u?(a.setValue(s),!0):!1}function Te(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ho=/[\n"\\]/g;function Ve(s){return s.replace(Ho,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function ke(s,a,u,d,y,b,C,P){s.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?s.type=C:s.removeAttribute("type"),a!=null?C==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+rn(a)):s.value!==""+rn(a)&&(s.value=""+rn(a)):C!=="submit"&&C!=="reset"||s.removeAttribute("value"),a!=null?xi(s,C,rn(a)):u!=null?xi(s,C,rn(u)):d!=null&&s.removeAttribute("value"),y==null&&b!=null&&(s.defaultChecked=!!b),y!=null&&(s.checked=y&&typeof y!="function"&&typeof y!="symbol"),P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?s.name=""+rn(P):s.removeAttribute("name")}function xr(s,a,u,d,y,b,C,P){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||u!=null){if(!(b!=="submit"&&b!=="reset"||a!=null))return;u=u!=null?""+rn(u):"",a=a!=null?""+rn(a):u,P||a===s.value||(s.value=a),s.defaultValue=a}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,s.checked=P?s.checked:!!d,s.defaultChecked=!!d,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(s.name=C)}function xi(s,a,u){a==="number"&&Te(s.ownerDocument)===s||s.defaultValue===""+u||(s.defaultValue=""+u)}function Pn(s,a,u,d){if(s=s.options,a){a={};for(var y=0;y<u.length;y++)a["$"+u[y]]=!0;for(u=0;u<s.length;u++)y=a.hasOwnProperty("$"+s[u].value),s[u].selected!==y&&(s[u].selected=y),y&&d&&(s[u].defaultSelected=!0)}else{for(u=""+rn(u),a=null,y=0;y<s.length;y++){if(s[y].value===u){s[y].selected=!0,d&&(s[y].defaultSelected=!0);return}a!==null||s[y].disabled||(a=s[y])}a!==null&&(a.selected=!0)}}function jt(s,a,u){if(a!=null&&(a=""+rn(a),a!==s.value&&(s.value=a),u==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=u!=null?""+rn(u):""}function Jn(s,a,u,d){if(a==null){if(d!=null){if(u!=null)throw Error(i(92));if(Lt(d)){if(1<d.length)throw Error(i(93));d=d[0]}u=d}u==null&&(u=""),a=u}u=rn(a),s.defaultValue=u,d=s.textContent,d===u&&d!==""&&d!==null&&(s.value=d)}function Tn(s,a){if(a){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=a;return}}s.textContent=a}var Ai=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ma(s,a,u){var d=a.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?d?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":d?s.setProperty(a,u):typeof u!="number"||u===0||Ai.has(a)?a==="float"?s.cssFloat=u:s[a]=(""+u).trim():s[a]=u+"px"}function vs(s,a,u){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,u!=null){for(var d in u)!u.hasOwnProperty(d)||a!=null&&a.hasOwnProperty(d)||(d.indexOf("--")===0?s.setProperty(d,""):d==="float"?s.cssFloat="":s[d]="");for(var y in a)d=a[y],a.hasOwnProperty(y)&&u[y]!==d&&ma(s,y,d)}else for(var b in a)a.hasOwnProperty(b)&&ma(s,b,a[b])}function Ar(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(s){return pa.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var Ri=null;function On(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $i=null,Ci=null;function qo(s){var a=wi(s);if(a&&(s=a.stateNode)){var u=s[Ke]||null;t:switch(s=a.stateNode,a.type){case"input":if(ke(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),a=u.name,u.type==="radio"&&a!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+Ve(""+a)+'"][type="radio"]'),a=0;a<u.length;a++){var d=u[a];if(d!==s&&d.form===s.form){var y=d[Ke]||null;if(!y)throw Error(i(90));ke(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(a=0;a<u.length;a++)d=u[a],d.form===s.form&&Zt(d)}break t;case"textarea":jt(s,u.value,u.defaultValue);break t;case"select":a=u.value,a!=null&&Pn(s,!!u.multiple,a,!1)}}}var Nt=!1;function ti(s,a,u){if(Nt)return s(a,u);Nt=!0;try{var d=s(a);return d}finally{if(Nt=!1,($i!==null||Ci!==null)&&(Vf(),$i&&(a=$i,s=Ci,Ci=$i=null,qo(a),s)))for(a=0;a<s.length;a++)qo(s[a])}}function ce(s,a){var u=s.stateNode;if(u===null)return null;var d=u[Ke]||null;if(d===null)return null;u=d[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(s=s.type,d=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!d;break t;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(i(231,a,typeof u));return u}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hn=!1;if(li)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Hn=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Hn=!1}var ui=null,Fn=null,Ii=null;function Ts(){if(Ii)return Ii;var s,a=Fn,u=a.length,d,y="value"in ui?ui.value:ui.textContent,b=y.length;for(s=0;s<u&&a[s]===y[s];s++);var C=u-s;for(d=1;d<=C&&a[u-d]===y[b-d];d++);return Ii=y.slice(s,1<d?1-d:void 0)}function Ae(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function En(){return!0}function ga(){return!1}function Je(s){function a(u,d,y,b,C){this._reactName=u,this._targetInst=y,this.type=d,this.nativeEvent=b,this.target=C,this.currentTarget=null;for(var P in s)s.hasOwnProperty(P)&&(u=s[P],this[P]=u?u(b):b[P]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?En:ga,this.isPropagationStopped=ga,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=En)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=En)},persist:function(){},isPersistent:En}),a}var pe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rr=Je(pe),Es=v({},pe,{view:0,detail:0}),ql=Je(Es),Cr,Xt,Ji,fn=v({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ji&&(Ji&&s.type==="mousemove"?(Cr=s.screenX-Ji.screenX,Xt=s.screenY-Ji.screenY):Xt=Cr=0,Ji=s),Cr)},movementY:function(s){return"movementY"in s?s.movementY:Xt}}),wn=Je(fn),Go=v({},fn,{dataTransfer:0}),rc=Je(Go),ws=v({},Es,{relatedTarget:0}),_a=Je(ws),ya=v({},pe,{animationName:0,elapsedTime:0,pseudoElement:0}),va=Je(ya),Gl=v({},pe,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Ws=Je(Gl),ac=v({},pe,{data:0}),qn=Je(ac),Ir={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mi={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ba(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Mi[s])?!!a[s]:!1}function Ks(){return ba}var Ta=v({},Es,{key:function(s){if(s.key){var a=Ir[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ae(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zo[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(s){return s.type==="keypress"?Ae(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ae(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Ea=Je(Ta),Wo=v({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wa=Je(Wo),Ss=v({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),Zl=Je(Ss),Sa=v({},pe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wl=Je(Sa),Ko=v({},fn,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Mr=Je(Ko),an=v({},pe,{newState:0,oldState:0}),ts=Je(an),Kl=[9,13,27,32],Gn=li&&"CompositionEvent"in window,g=null;li&&"documentMode"in document&&(g=document.documentMode);var w=li&&"TextEvent"in window&&!g,A=li&&(!Gn||g&&8<g&&11>=g),N=" ",J=!1;function lt(s,a){switch(s){case"keyup":return Kl.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wt(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var re=!1;function Ye(s,a){switch(s){case"compositionend":return wt(a);case"keypress":return a.which!==32?null:(J=!0,N);case"textInput":return s=a.data,s===N&&J?null:s;default:return null}}function ae(s,a){if(re)return s==="compositionend"||!Gn&&lt(s,a)?(s=Ts(),Ii=Fn=ui=null,re=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return A&&a.locale!=="ko"?null:a.data;default:return null}}var ye={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!ye[s.type]:a==="textarea"}function xs(s,a,u,d){$i?Ci?Ci.push(d):Ci=[d]:$i=d,a=qf(a,"onChange"),0<a.length&&(u=new Rr("onChange","change",null,u,d),s.push({event:u,listeners:a}))}var Me=null,es=null;function ns(s){gb(s,0)}function Yl(s){var a=Mn(s);if(Zt(a))return s}function xa(s,a){if(s==="change")return a}var oc=!1;if(li){var Aa;if(li){var lc="oninput"in document;if(!lc){var As=document.createElement("div");As.setAttribute("oninput","return;"),lc=typeof As.oninput=="function"}Aa=lc}else Aa=!1;oc=Aa&&(!document.documentMode||9<document.documentMode)}function Yo(){Me&&(Me.detachEvent("onpropertychange",nf),es=Me=null)}function nf(s){if(s.propertyName==="value"&&Yl(es)){var a=[];xs(a,es,s,On(s)),ti(ns,a)}}function uc(s,a,u){s==="focusin"?(Yo(),Me=a,es=u,Me.attachEvent("onpropertychange",nf)):s==="focusout"&&Yo()}function Jm(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Yl(es)}function Rs(s,a){if(s==="click")return Yl(a)}function tp(s,a){if(s==="input"||s==="change")return Yl(a)}function Ra(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ei=typeof Object.is=="function"?Object.is:Ra;function ni(s,a){if(ei(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var u=Object.keys(s),d=Object.keys(a);if(u.length!==d.length)return!1;for(d=0;d<u.length;d++){var y=u[d];if(!bi.call(a,y)||!ei(s[y],a[y]))return!1}return!0}function Xo(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function cc(s,a){var u=Xo(s);s=0;for(var d;u;){if(u.nodeType===3){if(d=s+u.textContent.length,s<=a&&d>=a)return{node:u,offset:a-s};s=d}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=Xo(u)}}function Xl(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Xl(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Qo(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=Te(s.document);a instanceof s.HTMLIFrameElement;){try{var u=typeof a.contentWindow.location.href=="string"}catch{u=!1}if(u)s=a.contentWindow;else break;a=Te(s.document)}return a}function $o(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var Ql=li&&"documentMode"in document&&11>=document.documentMode,Pi=null,Ca=null,Pr=null,$l=!1;function sf(s,a,u){var d=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;$l||Pi==null||Pi!==Te(d)||(d=Pi,"selectionStart"in d&&$o(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Pr&&ni(Pr,d)||(Pr=d,d=qf(Ca,"onSelect"),0<d.length&&(a=new Rr("onSelect","select",null,a,u),s.push({event:a,listeners:d}),a.target=Pi)))}function is(s,a){var u={};return u[s.toLowerCase()]=a.toLowerCase(),u["Webkit"+s]="webkit"+a,u["Moz"+s]="moz"+a,u}var Ia={animationend:is("Animation","AnimationEnd"),animationiteration:is("Animation","AnimationIteration"),animationstart:is("Animation","AnimationStart"),transitionrun:is("Transition","TransitionRun"),transitionstart:is("Transition","TransitionStart"),transitioncancel:is("Transition","TransitionCancel"),transitionend:is("Transition","TransitionEnd")},Jl={},rf={};li&&(rf=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Ys(s){if(Jl[s])return Jl[s];if(!Ia[s])return s;var a=Ia[s],u;for(u in a)if(a.hasOwnProperty(u)&&u in rf)return Jl[s]=a[u];return s}var af=Ys("animationend"),Oi=Ys("animationiteration"),Jo=Ys("animationstart"),ep=Ys("transitionrun"),tu=Ys("transitionstart"),np=Ys("transitioncancel"),hc=Ys("transitionend"),of=new Map,Or="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Or.push("scrollEnd");function Di(s,a){of.set(s,a),Si(a,[s])}var Dr=new WeakMap;function ii(s,a){if(typeof s=="object"&&s!==null){var u=Dr.get(s);return u!==void 0?u:(a={value:s,source:a,stack:_e(a)},Dr.set(s,a),a)}return{value:s,source:a,stack:_e(a)}}var si=[],Ma=0,ki=0;function tl(){for(var s=Ma,a=ki=Ma=0;a<s;){var u=si[a];si[a++]=null;var d=si[a];si[a++]=null;var y=si[a];si[a++]=null;var b=si[a];if(si[a++]=null,d!==null&&y!==null){var C=d.pending;C===null?y.next=y:(y.next=C.next,C.next=y),d.pending=y}b!==0&&nl(u,y,b)}}function el(s,a,u,d){si[Ma++]=s,si[Ma++]=a,si[Ma++]=u,si[Ma++]=d,ki|=d,s.lanes|=d,s=s.alternate,s!==null&&(s.lanes|=d)}function kr(s,a,u,d){return el(s,a,u,d),Xs(s)}function Pa(s,a){return el(s,null,null,a),Xs(s)}function nl(s,a,u){s.lanes|=u;var d=s.alternate;d!==null&&(d.lanes|=u);for(var y=!1,b=s.return;b!==null;)b.childLanes|=u,d=b.alternate,d!==null&&(d.childLanes|=u),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(y=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,y&&a!==null&&(y=31-vn(u),s=b.hiddenUpdates,d=s[y],d===null?s[y]=[a]:d.push(a),a.lane=u|536870912),b):null}function Xs(s){if(50<kc)throw kc=0,Jp=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Lr={};function lf(s,a,u,d){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(s,a,u,d){return new lf(s,a,u,d)}function eu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ss(s,a){var u=s.alternate;return u===null?(u=ri(s.tag,a,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=a,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&65011712,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,a=s.dependencies,u.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u.refCleanup=s.refCleanup,u}function fc(s,a){s.flags&=65011714;var u=s.alternate;return u===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,a=u.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function il(s,a,u,d,y,b){var C=0;if(d=s,typeof s=="function")eu(s)&&(C=1);else if(typeof s=="string")C=LR(s,u,St.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case z:return s=ri(31,u,a,y),s.elementType=z,s.lanes=b,s;case I:return Qs(u.children,y,b,a);case O:C=8,y|=24;break;case D:return s=ri(12,u,a,y|2),s.elementType=D,s.lanes=b,s;case et:return s=ri(13,u,a,y),s.elementType=et,s.lanes=b,s;case _t:return s=ri(19,u,a,y),s.elementType=_t,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case V:case W:C=10;break t;case K:C=9;break t;case ut:C=11;break t;case B:C=14;break t;case k:C=16,d=null;break t}C=29,u=Error(i(130,s===null?"null":typeof s,"")),d=null}return a=ri(C,u,a,y),a.elementType=s,a.type=d,a.lanes=b,a}function Qs(s,a,u,d){return s=ri(7,s,d,a),s.lanes=u,s}function dc(s,a,u){return s=ri(6,s,null,a),s.lanes=u,s}function nu(s,a,u){return a=ri(4,s.children!==null?s.children:[],s.key,a),a.lanes=u,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Nr=[],Oa=0,l=null,h=0,_=[],T=0,S=null,M=1,q="";function tt(s,a){Nr[Oa++]=h,Nr[Oa++]=l,l=s,h=a}function ot(s,a,u){_[T++]=M,_[T++]=q,_[T++]=S,S=s;var d=M;s=q;var y=32-vn(d)-1;d&=~(1<<y),u+=1;var b=32-vn(a)+y;if(30<b){var C=y-y%5;b=(d&(1<<C)-1).toString(32),d>>=C,y-=C,M=1<<32-vn(a)+y|u<<y|d,q=b+s}else M=1<<b|u<<y|d,q=s}function yt(s){s.return!==null&&(tt(s,1),ot(s,1,0))}function xt(s){for(;s===l;)l=Nr[--Oa],Nr[Oa]=null,h=Nr[--Oa],Nr[Oa]=null;for(;s===S;)S=_[--T],_[T]=null,q=_[--T],_[T]=null,M=_[--T],_[T]=null}var Ct=null,Pt=null,Gt=!1,Ne=null,qe=!1,Sn=Error(i(519));function ci(s){var a=Error(i(418,""));throw ka(ii(a,s)),Sn}function uf(s){var a=s.stateNode,u=s.type,d=s.memoizedProps;switch(a[$e]=s,a[Ke]=d,u){case"dialog":ie("cancel",a),ie("close",a);break;case"iframe":case"object":case"embed":ie("load",a);break;case"video":case"audio":for(u=0;u<Nc.length;u++)ie(Nc[u],a);break;case"source":ie("error",a);break;case"img":case"image":case"link":ie("error",a),ie("load",a);break;case"details":ie("toggle",a);break;case"input":ie("invalid",a),xr(a,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),Gs(a);break;case"select":ie("invalid",a);break;case"textarea":ie("invalid",a),Jn(a,d.value,d.defaultValue,d.children),Gs(a)}u=d.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||a.textContent===""+u||d.suppressHydrationWarning===!0||bb(a.textContent,u)?(d.popover!=null&&(ie("beforetoggle",a),ie("toggle",a)),d.onScroll!=null&&ie("scroll",a),d.onScrollEnd!=null&&ie("scrollend",a),d.onClick!=null&&(a.onclick=Gf),a=!0):a=!1,a||ci(s)}function cf(s){for(Ct=s.return;Ct;)switch(Ct.tag){case 5:case 13:qe=!1;return;case 27:case 3:qe=!0;return;default:Ct=Ct.return}}function sl(s){if(s!==Ct)return!1;if(!Gt)return cf(s),Gt=!0,!1;var a=s.tag,u;if((u=a!==3&&a!==27)&&((u=a===5)&&(u=s.type,u=!(u!=="form"&&u!=="button")||pg(s.type,s.memoizedProps)),u=!u),u&&Pt&&ci(s),cf(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));t:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(u=s.data,u==="/$"){if(a===0){Pt=Ps(s.nextSibling);break t}a--}else u!=="$"&&u!=="$!"&&u!=="$?"||a++;s=s.nextSibling}Pt=null}}else a===27?(a=Pt,Ya(s.type)?(s=vg,vg=null,Pt=s):Pt=a):Pt=Ct?Ps(s.stateNode.nextSibling):null;return!0}function Da(){Pt=Ct=null,Gt=!1}function hf(){var s=Ne;return s!==null&&(di===null?di=s:di.push.apply(di,s),Ne=null),s}function ka(s){Ne===null?Ne=[s]:Ne.push(s)}var Ue=ct(null),rs=null,Cs=null;function $s(s,a,u){gt(Ue,a._currentValue),a._currentValue=u}function Is(s){s._currentValue=Ue.current,bt(Ue)}function rl(s,a,u){for(;s!==null;){var d=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,d!==null&&(d.childLanes|=a)):d!==null&&(d.childLanes&a)!==a&&(d.childLanes|=a),s===u)break;s=s.return}}function iu(s,a,u,d){var y=s.child;for(y!==null&&(y.return=s);y!==null;){var b=y.dependencies;if(b!==null){var C=y.child;b=b.firstContext;t:for(;b!==null;){var P=b;b=y;for(var G=0;G<a.length;G++)if(P.context===a[G]){b.lanes|=u,P=b.alternate,P!==null&&(P.lanes|=u),rl(b.return,u,s),d||(C=null);break t}b=P.next}}else if(y.tag===18){if(C=y.return,C===null)throw Error(i(341));C.lanes|=u,b=C.alternate,b!==null&&(b.lanes|=u),rl(C,u,s),C=null}else C=y.child;if(C!==null)C.return=y;else for(C=y;C!==null;){if(C===s){C=null;break}if(y=C.sibling,y!==null){y.return=C.return,C=y;break}C=C.return}y=C}}function al(s,a,u,d){s=null;for(var y=a,b=!1;y!==null;){if(!b){if((y.flags&524288)!==0)b=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var C=y.alternate;if(C===null)throw Error(i(387));if(C=C.memoizedProps,C!==null){var P=y.type;ei(y.pendingProps.value,C.value)||(s!==null?s.push(P):s=[P])}}else if(y===xe.current){if(C=y.alternate,C===null)throw Error(i(387));C.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(s!==null?s.push(Hc):s=[Hc])}y=y.return}s!==null&&iu(a,s,u,d),a.flags|=262144}function ff(s){for(s=s.firstContext;s!==null;){if(!ei(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ol(s){rs=s,Cs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Zn(s){return av(rs,s)}function df(s,a){return rs===null&&ol(s),av(s,a)}function av(s,a){var u=a._currentValue;if(a={context:a,memoizedValue:u,next:null},Cs===null){if(s===null)throw Error(i(308));Cs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Cs=Cs.next=a;return u}var kA=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(u,d){s.push(d)}};this.abort=function(){a.aborted=!0,s.forEach(function(u){return u()})}},LA=n.unstable_scheduleCallback,NA=n.unstable_NormalPriority,dn={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ip(){return{controller:new kA,data:new Map,refCount:0}}function mc(s){s.refCount--,s.refCount===0&&LA(NA,function(){s.controller.abort()})}var pc=null,sp=0,su=0,ru=null;function zA(s,a){if(pc===null){var u=pc=[];sp=0,su=ag(),ru={status:"pending",value:void 0,then:function(d){u.push(d)}}}return sp++,a.then(ov,ov),a}function ov(){if(--sp===0&&pc!==null){ru!==null&&(ru.status="fulfilled");var s=pc;pc=null,su=0,ru=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function VA(s,a){var u=[],d={status:"pending",value:null,reason:null,then:function(y){u.push(y)}};return s.then(function(){d.status="fulfilled",d.value=a;for(var y=0;y<u.length;y++)(0,u[y])(a)},function(y){for(d.status="rejected",d.reason=y,y=0;y<u.length;y++)(0,u[y])(void 0)}),d}var lv=it.S;it.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&zA(s,a),lv!==null&&lv(s,a)};var ll=ct(null);function rp(){var s=ll.current;return s!==null?s:ze.pooledCache}function mf(s,a){a===null?gt(ll,ll.current):gt(ll,a.pool)}function uv(){var s=rp();return s===null?null:{parent:dn._currentValue,pool:s}}var gc=Error(i(460)),cv=Error(i(474)),pf=Error(i(542)),ap={then:function(){}};function hv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function gf(){}function fv(s,a,u){switch(u=s[u],u===void 0?s.push(a):u!==a&&(a.then(gf,gf),a=u),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,mv(s),s;default:if(typeof a.status=="string")a.then(gf,gf);else{if(s=ze,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(d){if(a.status==="pending"){var y=a;y.status="fulfilled",y.value=d}},function(d){if(a.status==="pending"){var y=a;y.status="rejected",y.reason=d}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,mv(s),s}throw _c=a,gc}}var _c=null;function dv(){if(_c===null)throw Error(i(459));var s=_c;return _c=null,s}function mv(s){if(s===gc||s===pf)throw Error(i(483))}var La=!1;function op(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Na(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function za(s,a,u){var d=s.updateQueue;if(d===null)return null;if(d=d.shared,(Ee&2)!==0){var y=d.pending;return y===null?a.next=a:(a.next=y.next,y.next=a),d.pending=a,a=Xs(s),nl(s,null,u),a}return el(s,d,a,u),Xs(s)}function yc(s,a,u){if(a=a.updateQueue,a!==null&&(a=a.shared,(u&4194048)!==0)){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,Bo(s,u)}}function up(s,a){var u=s.updateQueue,d=s.alternate;if(d!==null&&(d=d.updateQueue,u===d)){var y=null,b=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};b===null?y=b=C:b=b.next=C,u=u.next}while(u!==null);b===null?y=b=a:b=b.next=a}else y=b=a;u={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:d.shared,callbacks:d.callbacks},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=a:s.next=a,u.lastBaseUpdate=a}var cp=!1;function vc(){if(cp){var s=ru;if(s!==null)throw s}}function bc(s,a,u,d){cp=!1;var y=s.updateQueue;La=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var G=P,st=G.next;G.next=null,C===null?b=st:C.next=st,C=G;var ht=s.alternate;ht!==null&&(ht=ht.updateQueue,P=ht.lastBaseUpdate,P!==C&&(P===null?ht.firstBaseUpdate=st:P.next=st,ht.lastBaseUpdate=G))}if(b!==null){var dt=y.baseState;C=0,ht=st=G=null,P=b;do{var rt=P.lane&-536870913,at=rt!==P.lane;if(at?(he&rt)===rt:(d&rt)===rt){rt!==0&&rt===su&&(cp=!0),ht!==null&&(ht=ht.next={lane:0,tag:P.tag,payload:P.payload,callback:null,next:null});t:{var qt=s,Bt=P;rt=a;var Ie=u;switch(Bt.tag){case 1:if(qt=Bt.payload,typeof qt=="function"){dt=qt.call(Ie,dt,rt);break t}dt=qt;break t;case 3:qt.flags=qt.flags&-65537|128;case 0:if(qt=Bt.payload,rt=typeof qt=="function"?qt.call(Ie,dt,rt):qt,rt==null)break t;dt=v({},dt,rt);break t;case 2:La=!0}}rt=P.callback,rt!==null&&(s.flags|=64,at&&(s.flags|=8192),at=y.callbacks,at===null?y.callbacks=[rt]:at.push(rt))}else at={lane:rt,tag:P.tag,payload:P.payload,callback:P.callback,next:null},ht===null?(st=ht=at,G=dt):ht=ht.next=at,C|=rt;if(P=P.next,P===null){if(P=y.shared.pending,P===null)break;at=P,P=at.next,at.next=null,y.lastBaseUpdate=at,y.shared.pending=null}}while(!0);ht===null&&(G=dt),y.baseState=G,y.firstBaseUpdate=st,y.lastBaseUpdate=ht,b===null&&(y.shared.lanes=0),Ga|=C,s.lanes=C,s.memoizedState=dt}}function pv(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function gv(s,a){var u=s.callbacks;if(u!==null)for(s.callbacks=null,s=0;s<u.length;s++)pv(u[s],a)}var au=ct(null),_f=ct(0);function _v(s,a){s=Fr,gt(_f,s),gt(au,a),Fr=s|a.baseLanes}function hp(){gt(_f,Fr),gt(au,au.current)}function fp(){Fr=_f.current,bt(au),bt(_f)}var Va=0,$t=null,Re=null,on=null,yf=!1,ou=!1,ul=!1,vf=0,Tc=0,lu=null,BA=0;function tn(){throw Error(i(321))}function dp(s,a){if(a===null)return!1;for(var u=0;u<a.length&&u<s.length;u++)if(!ei(s[u],a[u]))return!1;return!0}function mp(s,a,u,d,y,b){return Va=b,$t=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,it.H=s===null||s.memoizedState===null?t0:e0,ul=!1,b=u(d,y),ul=!1,ou&&(b=vv(a,u,d,y)),yv(s),b}function yv(s){it.H=xf;var a=Re!==null&&Re.next!==null;if(Va=0,on=Re=$t=null,yf=!1,Tc=0,lu=null,a)throw Error(i(300));s===null||xn||(s=s.dependencies,s!==null&&ff(s)&&(xn=!0))}function vv(s,a,u,d){$t=s;var y=0;do{if(ou&&(lu=null),Tc=0,ou=!1,25<=y)throw Error(i(301));if(y+=1,on=Re=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}it.H=ZA,b=a(u,d)}while(ou);return b}function UA(){var s=it.H,a=s.useState()[0];return a=typeof a.then=="function"?Ec(a):a,s=s.useState()[0],(Re!==null?Re.memoizedState:null)!==s&&($t.flags|=1024),a}function pp(){var s=vf!==0;return vf=0,s}function gp(s,a,u){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~u}function _p(s){if(yf){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}yf=!1}Va=0,on=Re=$t=null,ou=!1,Tc=vf=0,lu=null}function hi(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?$t.memoizedState=on=s:on=on.next=s,on}function ln(){if(Re===null){var s=$t.alternate;s=s!==null?s.memoizedState:null}else s=Re.next;var a=on===null?$t.memoizedState:on.next;if(a!==null)on=a,Re=s;else{if(s===null)throw $t.alternate===null?Error(i(467)):Error(i(310));Re=s,s={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},on===null?$t.memoizedState=on=s:on=on.next=s}return on}function yp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ec(s){var a=Tc;return Tc+=1,lu===null&&(lu=[]),s=fv(lu,s,a),a=$t,(on===null?a.memoizedState:on.next)===null&&(a=a.alternate,it.H=a===null||a.memoizedState===null?t0:e0),s}function bf(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ec(s);if(s.$$typeof===W)return Zn(s)}throw Error(i(438,String(s)))}function vp(s){var a=null,u=$t.updateQueue;if(u!==null&&(a=u.memoCache),a==null){var d=$t.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(a={data:d.data.map(function(y){return y.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),u===null&&(u=yp(),$t.updateQueue=u),u.memoCache=a,u=a.data[a.index],u===void 0)for(u=a.data[a.index]=Array(s),d=0;d<s;d++)u[d]=H;return a.index++,u}function zr(s,a){return typeof a=="function"?a(s):a}function Tf(s){var a=ln();return bp(a,Re,s)}function bp(s,a,u){var d=s.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=u;var y=s.baseQueue,b=d.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}a.baseQueue=y=b,d.pending=null}if(b=s.baseState,y===null)s.memoizedState=b;else{a=y.next;var P=C=null,G=null,st=a,ht=!1;do{var dt=st.lane&-536870913;if(dt!==st.lane?(he&dt)===dt:(Va&dt)===dt){var rt=st.revertLane;if(rt===0)G!==null&&(G=G.next={lane:0,revertLane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),dt===su&&(ht=!0);else if((Va&rt)===rt){st=st.next,rt===su&&(ht=!0);continue}else dt={lane:0,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},G===null?(P=G=dt,C=b):G=G.next=dt,$t.lanes|=rt,Ga|=rt;dt=st.action,ul&&u(b,dt),b=st.hasEagerState?st.eagerState:u(b,dt)}else rt={lane:dt,revertLane:st.revertLane,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null},G===null?(P=G=rt,C=b):G=G.next=rt,$t.lanes|=dt,Ga|=dt;st=st.next}while(st!==null&&st!==a);if(G===null?C=b:G.next=P,!ei(b,s.memoizedState)&&(xn=!0,ht&&(u=ru,u!==null)))throw u;s.memoizedState=b,s.baseState=C,s.baseQueue=G,d.lastRenderedState=b}return y===null&&(d.lanes=0),[s.memoizedState,d.dispatch]}function Tp(s){var a=ln(),u=a.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=s;var d=u.dispatch,y=u.pending,b=a.memoizedState;if(y!==null){u.pending=null;var C=y=y.next;do b=s(b,C.action),C=C.next;while(C!==y);ei(b,a.memoizedState)||(xn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),u.lastRenderedState=b}return[b,d]}function bv(s,a,u){var d=$t,y=ln(),b=Gt;if(b){if(u===void 0)throw Error(i(407));u=u()}else u=a();var C=!ei((Re||y).memoizedState,u);C&&(y.memoizedState=u,xn=!0),y=y.queue;var P=wv.bind(null,d,y,s);if(wc(2048,8,P,[s]),y.getSnapshot!==a||C||on!==null&&on.memoizedState.tag&1){if(d.flags|=2048,uu(9,Ef(),Ev.bind(null,d,y,u,a),null),ze===null)throw Error(i(349));b||(Va&124)!==0||Tv(d,a,u)}return u}function Tv(s,a,u){s.flags|=16384,s={getSnapshot:a,value:u},a=$t.updateQueue,a===null?(a=yp(),$t.updateQueue=a,a.stores=[s]):(u=a.stores,u===null?a.stores=[s]:u.push(s))}function Ev(s,a,u,d){a.value=u,a.getSnapshot=d,Sv(a)&&xv(s)}function wv(s,a,u){return u(function(){Sv(a)&&xv(s)})}function Sv(s){var a=s.getSnapshot;s=s.value;try{var u=a();return!ei(s,u)}catch{return!0}}function xv(s){var a=Pa(s,2);a!==null&&Bi(a,s,2)}function Ep(s){var a=hi();if(typeof s=="function"){var u=s;if(s=u(),ul){Un(!0);try{u()}finally{Un(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:s},a}function Av(s,a,u,d){return s.baseState=u,bp(s,Re,typeof d=="function"?d:zr)}function jA(s,a,u,d,y){if(Sf(s))throw Error(i(485));if(s=a.action,s!==null){var b={payload:y,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){b.listeners.push(C)}};it.T!==null?u(!0):b.isTransition=!1,d(b),u=a.pending,u===null?(b.next=a.pending=b,Rv(a,b)):(b.next=u.next,a.pending=u.next=b)}}function Rv(s,a){var u=a.action,d=a.payload,y=s.state;if(a.isTransition){var b=it.T,C={};it.T=C;try{var P=u(y,d),G=it.S;G!==null&&G(C,P),Cv(s,a,P)}catch(st){wp(s,a,st)}finally{it.T=b}}else try{b=u(y,d),Cv(s,a,b)}catch(st){wp(s,a,st)}}function Cv(s,a,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(d){Iv(s,a,d)},function(d){return wp(s,a,d)}):Iv(s,a,u)}function Iv(s,a,u){a.status="fulfilled",a.value=u,Mv(a),s.state=u,a=s.pending,a!==null&&(u=a.next,u===a?s.pending=null:(u=u.next,a.next=u,Rv(s,u)))}function wp(s,a,u){var d=s.pending;if(s.pending=null,d!==null){d=d.next;do a.status="rejected",a.reason=u,Mv(a),a=a.next;while(a!==d)}s.action=null}function Mv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function Pv(s,a){return a}function Ov(s,a){if(Gt){var u=ze.formState;if(u!==null){t:{var d=$t;if(Gt){if(Pt){e:{for(var y=Pt,b=qe;y.nodeType!==8;){if(!b){y=null;break e}if(y=Ps(y.nextSibling),y===null){y=null;break e}}b=y.data,y=b==="F!"||b==="F"?y:null}if(y){Pt=Ps(y.nextSibling),d=y.data==="F!";break t}}ci(d)}d=!1}d&&(a=u[0])}}return u=hi(),u.memoizedState=u.baseState=a,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pv,lastRenderedState:a},u.queue=d,u=Qv.bind(null,$t,d),d.dispatch=u,d=Ep(!1),b=Cp.bind(null,$t,!1,d.queue),d=hi(),y={state:a,dispatch:null,action:s,pending:null},d.queue=y,u=jA.bind(null,$t,y,b,u),y.dispatch=u,d.memoizedState=s,[a,u,!1]}function Dv(s){var a=ln();return kv(a,Re,s)}function kv(s,a,u){if(a=bp(s,a,Pv)[0],s=Tf(zr)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var d=Ec(a)}catch(C){throw C===gc?pf:C}else d=a;a=ln();var y=a.queue,b=y.dispatch;return u!==a.memoizedState&&($t.flags|=2048,uu(9,Ef(),HA.bind(null,y,u),null)),[d,b,s]}function HA(s,a){s.action=a}function Lv(s){var a=ln(),u=Re;if(u!==null)return kv(a,u,s);ln(),a=a.memoizedState,u=ln();var d=u.queue.dispatch;return u.memoizedState=s,[a,d,!1]}function uu(s,a,u,d){return s={tag:s,create:u,deps:d,inst:a,next:null},a=$t.updateQueue,a===null&&(a=yp(),$t.updateQueue=a),u=a.lastEffect,u===null?a.lastEffect=s.next=s:(d=u.next,u.next=s,s.next=d,a.lastEffect=s),s}function Ef(){return{destroy:void 0,resource:void 0}}function Nv(){return ln().memoizedState}function wf(s,a,u,d){var y=hi();d=d===void 0?null:d,$t.flags|=s,y.memoizedState=uu(1|a,Ef(),u,d)}function wc(s,a,u,d){var y=ln();d=d===void 0?null:d;var b=y.memoizedState.inst;Re!==null&&d!==null&&dp(d,Re.memoizedState.deps)?y.memoizedState=uu(a,b,u,d):($t.flags|=s,y.memoizedState=uu(1|a,b,u,d))}function zv(s,a){wf(8390656,8,s,a)}function Vv(s,a){wc(2048,8,s,a)}function Bv(s,a){return wc(4,2,s,a)}function Uv(s,a){return wc(4,4,s,a)}function jv(s,a){if(typeof a=="function"){s=s();var u=a(s);return function(){typeof u=="function"?u():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Hv(s,a,u){u=u!=null?u.concat([s]):null,wc(4,4,jv.bind(null,a,s),u)}function Sp(){}function Fv(s,a){var u=ln();a=a===void 0?null:a;var d=u.memoizedState;return a!==null&&dp(a,d[1])?d[0]:(u.memoizedState=[s,a],s)}function qv(s,a){var u=ln();a=a===void 0?null:a;var d=u.memoizedState;if(a!==null&&dp(a,d[1]))return d[0];if(d=s(),ul){Un(!0);try{s()}finally{Un(!1)}}return u.memoizedState=[d,a],d}function xp(s,a,u){return u===void 0||(Va&1073741824)!==0?s.memoizedState=a:(s.memoizedState=u,s=W0(),$t.lanes|=s,Ga|=s,u)}function Gv(s,a,u,d){return ei(u,a)?u:au.current!==null?(s=xp(s,u,d),ei(s,a)||(xn=!0),s):(Va&42)===0?(xn=!0,s.memoizedState=u):(s=W0(),$t.lanes|=s,Ga|=s,a)}function Zv(s,a,u,d,y){var b=vt.p;vt.p=b!==0&&8>b?b:8;var C=it.T,P={};it.T=P,Cp(s,!1,a,u);try{var G=y(),st=it.S;if(st!==null&&st(P,G),G!==null&&typeof G=="object"&&typeof G.then=="function"){var ht=VA(G,d);Sc(s,a,ht,Vi(s))}else Sc(s,a,d,Vi(s))}catch(dt){Sc(s,a,{then:function(){},status:"rejected",reason:dt},Vi())}finally{vt.p=b,it.T=C}}function FA(){}function Ap(s,a,u,d){if(s.tag!==5)throw Error(i(476));var y=Wv(s).queue;Zv(s,y,a,pt,u===null?FA:function(){return Kv(s),u(d)})}function Wv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:pt},next:null};var u={};return a.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zr,lastRenderedState:u},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Kv(s){var a=Wv(s).next.queue;Sc(s,a,{},Vi())}function Rp(){return Zn(Hc)}function Yv(){return ln().memoizedState}function Xv(){return ln().memoizedState}function qA(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var u=Vi();s=Na(u);var d=za(a,s,u);d!==null&&(Bi(d,a,u),yc(d,a,u)),a={cache:ip()},s.payload=a;return}a=a.return}}function GA(s,a,u){var d=Vi();u={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Sf(s)?$v(a,u):(u=kr(s,a,u,d),u!==null&&(Bi(u,s,d),Jv(u,a,d)))}function Qv(s,a,u){var d=Vi();Sc(s,a,u,d)}function Sc(s,a,u,d){var y={lane:d,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Sf(s))$v(a,y);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var C=a.lastRenderedState,P=b(C,u);if(y.hasEagerState=!0,y.eagerState=P,ei(P,C))return el(s,a,y,0),ze===null&&tl(),!1}catch{}finally{}if(u=kr(s,a,y,d),u!==null)return Bi(u,s,d),Jv(u,a,d),!0}return!1}function Cp(s,a,u,d){if(d={lane:2,revertLane:ag(),action:d,hasEagerState:!1,eagerState:null,next:null},Sf(s)){if(a)throw Error(i(479))}else a=kr(s,u,d,2),a!==null&&Bi(a,s,2)}function Sf(s){var a=s.alternate;return s===$t||a!==null&&a===$t}function $v(s,a){ou=yf=!0;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}function Jv(s,a,u){if((u&4194048)!==0){var d=a.lanes;d&=s.pendingLanes,u|=d,a.lanes=u,Bo(s,u)}}var xf={readContext:Zn,use:bf,useCallback:tn,useContext:tn,useEffect:tn,useImperativeHandle:tn,useLayoutEffect:tn,useInsertionEffect:tn,useMemo:tn,useReducer:tn,useRef:tn,useState:tn,useDebugValue:tn,useDeferredValue:tn,useTransition:tn,useSyncExternalStore:tn,useId:tn,useHostTransitionStatus:tn,useFormState:tn,useActionState:tn,useOptimistic:tn,useMemoCache:tn,useCacheRefresh:tn},t0={readContext:Zn,use:bf,useCallback:function(s,a){return hi().memoizedState=[s,a===void 0?null:a],s},useContext:Zn,useEffect:zv,useImperativeHandle:function(s,a,u){u=u!=null?u.concat([s]):null,wf(4194308,4,jv.bind(null,a,s),u)},useLayoutEffect:function(s,a){return wf(4194308,4,s,a)},useInsertionEffect:function(s,a){wf(4,2,s,a)},useMemo:function(s,a){var u=hi();a=a===void 0?null:a;var d=s();if(ul){Un(!0);try{s()}finally{Un(!1)}}return u.memoizedState=[d,a],d},useReducer:function(s,a,u){var d=hi();if(u!==void 0){var y=u(a);if(ul){Un(!0);try{u(a)}finally{Un(!1)}}}else y=a;return d.memoizedState=d.baseState=y,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:y},d.queue=s,s=s.dispatch=GA.bind(null,$t,s),[d.memoizedState,s]},useRef:function(s){var a=hi();return s={current:s},a.memoizedState=s},useState:function(s){s=Ep(s);var a=s.queue,u=Qv.bind(null,$t,a);return a.dispatch=u,[s.memoizedState,u]},useDebugValue:Sp,useDeferredValue:function(s,a){var u=hi();return xp(u,s,a)},useTransition:function(){var s=Ep(!1);return s=Zv.bind(null,$t,s.queue,!0,!1),hi().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,u){var d=$t,y=hi();if(Gt){if(u===void 0)throw Error(i(407));u=u()}else{if(u=a(),ze===null)throw Error(i(349));(he&124)!==0||Tv(d,a,u)}y.memoizedState=u;var b={value:u,getSnapshot:a};return y.queue=b,zv(wv.bind(null,d,b,s),[s]),d.flags|=2048,uu(9,Ef(),Ev.bind(null,d,b,u,a),null),u},useId:function(){var s=hi(),a=ze.identifierPrefix;if(Gt){var u=q,d=M;u=(d&~(1<<32-vn(d)-1)).toString(32)+u,a="«"+a+"R"+u,u=vf++,0<u&&(a+="H"+u.toString(32)),a+="»"}else u=BA++,a="«"+a+"r"+u.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:Rp,useFormState:Ov,useActionState:Ov,useOptimistic:function(s){var a=hi();a.memoizedState=a.baseState=s;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=u,a=Cp.bind(null,$t,!0,u),u.dispatch=a,[s,a]},useMemoCache:vp,useCacheRefresh:function(){return hi().memoizedState=qA.bind(null,$t)}},e0={readContext:Zn,use:bf,useCallback:Fv,useContext:Zn,useEffect:Vv,useImperativeHandle:Hv,useInsertionEffect:Bv,useLayoutEffect:Uv,useMemo:qv,useReducer:Tf,useRef:Nv,useState:function(){return Tf(zr)},useDebugValue:Sp,useDeferredValue:function(s,a){var u=ln();return Gv(u,Re.memoizedState,s,a)},useTransition:function(){var s=Tf(zr)[0],a=ln().memoizedState;return[typeof s=="boolean"?s:Ec(s),a]},useSyncExternalStore:bv,useId:Yv,useHostTransitionStatus:Rp,useFormState:Dv,useActionState:Dv,useOptimistic:function(s,a){var u=ln();return Av(u,Re,s,a)},useMemoCache:vp,useCacheRefresh:Xv},ZA={readContext:Zn,use:bf,useCallback:Fv,useContext:Zn,useEffect:Vv,useImperativeHandle:Hv,useInsertionEffect:Bv,useLayoutEffect:Uv,useMemo:qv,useReducer:Tp,useRef:Nv,useState:function(){return Tp(zr)},useDebugValue:Sp,useDeferredValue:function(s,a){var u=ln();return Re===null?xp(u,s,a):Gv(u,Re.memoizedState,s,a)},useTransition:function(){var s=Tp(zr)[0],a=ln().memoizedState;return[typeof s=="boolean"?s:Ec(s),a]},useSyncExternalStore:bv,useId:Yv,useHostTransitionStatus:Rp,useFormState:Lv,useActionState:Lv,useOptimistic:function(s,a){var u=ln();return Re!==null?Av(u,Re,s,a):(u.baseState=s,[s,u.queue.dispatch])},useMemoCache:vp,useCacheRefresh:Xv},cu=null,xc=0;function Af(s){var a=xc;return xc+=1,cu===null&&(cu=[]),fv(cu,s,a)}function Ac(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Rf(s,a){throw a.$$typeof===E?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function n0(s){var a=s._init;return a(s._payload)}function i0(s){function a(Q,Y){if(s){var nt=Q.deletions;nt===null?(Q.deletions=[Y],Q.flags|=16):nt.push(Y)}}function u(Q,Y){if(!s)return null;for(;Y!==null;)a(Q,Y),Y=Y.sibling;return null}function d(Q){for(var Y=new Map;Q!==null;)Q.key!==null?Y.set(Q.key,Q):Y.set(Q.index,Q),Q=Q.sibling;return Y}function y(Q,Y){return Q=ss(Q,Y),Q.index=0,Q.sibling=null,Q}function b(Q,Y,nt){return Q.index=nt,s?(nt=Q.alternate,nt!==null?(nt=nt.index,nt<Y?(Q.flags|=67108866,Y):nt):(Q.flags|=67108866,Y)):(Q.flags|=1048576,Y)}function C(Q){return s&&Q.alternate===null&&(Q.flags|=67108866),Q}function P(Q,Y,nt,ft){return Y===null||Y.tag!==6?(Y=dc(nt,Q.mode,ft),Y.return=Q,Y):(Y=y(Y,nt),Y.return=Q,Y)}function G(Q,Y,nt,ft){var It=nt.type;return It===I?ht(Q,Y,nt.props.children,ft,nt.key):Y!==null&&(Y.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===k&&n0(It)===Y.type)?(Y=y(Y,nt.props),Ac(Y,nt),Y.return=Q,Y):(Y=il(nt.type,nt.key,nt.props,null,Q.mode,ft),Ac(Y,nt),Y.return=Q,Y)}function st(Q,Y,nt,ft){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==nt.containerInfo||Y.stateNode.implementation!==nt.implementation?(Y=nu(nt,Q.mode,ft),Y.return=Q,Y):(Y=y(Y,nt.children||[]),Y.return=Q,Y)}function ht(Q,Y,nt,ft,It){return Y===null||Y.tag!==7?(Y=Qs(nt,Q.mode,ft,It),Y.return=Q,Y):(Y=y(Y,nt),Y.return=Q,Y)}function dt(Q,Y,nt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=dc(""+Y,Q.mode,nt),Y.return=Q,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case x:return nt=il(Y.type,Y.key,Y.props,null,Q.mode,nt),Ac(nt,Y),nt.return=Q,nt;case R:return Y=nu(Y,Q.mode,nt),Y.return=Q,Y;case k:var ft=Y._init;return Y=ft(Y._payload),dt(Q,Y,nt)}if(Lt(Y)||Z(Y))return Y=Qs(Y,Q.mode,nt,null),Y.return=Q,Y;if(typeof Y.then=="function")return dt(Q,Af(Y),nt);if(Y.$$typeof===W)return dt(Q,df(Q,Y),nt);Rf(Q,Y)}return null}function rt(Q,Y,nt,ft){var It=Y!==null?Y.key:null;if(typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint")return It!==null?null:P(Q,Y,""+nt,ft);if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case x:return nt.key===It?G(Q,Y,nt,ft):null;case R:return nt.key===It?st(Q,Y,nt,ft):null;case k:return It=nt._init,nt=It(nt._payload),rt(Q,Y,nt,ft)}if(Lt(nt)||Z(nt))return It!==null?null:ht(Q,Y,nt,ft,null);if(typeof nt.then=="function")return rt(Q,Y,Af(nt),ft);if(nt.$$typeof===W)return rt(Q,Y,df(Q,nt),ft);Rf(Q,nt)}return null}function at(Q,Y,nt,ft,It){if(typeof ft=="string"&&ft!==""||typeof ft=="number"||typeof ft=="bigint")return Q=Q.get(nt)||null,P(Y,Q,""+ft,It);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case x:return Q=Q.get(ft.key===null?nt:ft.key)||null,G(Y,Q,ft,It);case R:return Q=Q.get(ft.key===null?nt:ft.key)||null,st(Y,Q,ft,It);case k:var ee=ft._init;return ft=ee(ft._payload),at(Q,Y,nt,ft,It)}if(Lt(ft)||Z(ft))return Q=Q.get(nt)||null,ht(Y,Q,ft,It,null);if(typeof ft.then=="function")return at(Q,Y,nt,Af(ft),It);if(ft.$$typeof===W)return at(Q,Y,nt,df(Y,ft),It);Rf(Y,ft)}return null}function qt(Q,Y,nt,ft){for(var It=null,ee=null,Dt=Y,Ut=Y=0,Rn=null;Dt!==null&&Ut<nt.length;Ut++){Dt.index>Ut?(Rn=Dt,Dt=null):Rn=Dt.sibling;var ge=rt(Q,Dt,nt[Ut],ft);if(ge===null){Dt===null&&(Dt=Rn);break}s&&Dt&&ge.alternate===null&&a(Q,Dt),Y=b(ge,Y,Ut),ee===null?It=ge:ee.sibling=ge,ee=ge,Dt=Rn}if(Ut===nt.length)return u(Q,Dt),Gt&&tt(Q,Ut),It;if(Dt===null){for(;Ut<nt.length;Ut++)Dt=dt(Q,nt[Ut],ft),Dt!==null&&(Y=b(Dt,Y,Ut),ee===null?It=Dt:ee.sibling=Dt,ee=Dt);return Gt&&tt(Q,Ut),It}for(Dt=d(Dt);Ut<nt.length;Ut++)Rn=at(Dt,Q,Ut,nt[Ut],ft),Rn!==null&&(s&&Rn.alternate!==null&&Dt.delete(Rn.key===null?Ut:Rn.key),Y=b(Rn,Y,Ut),ee===null?It=Rn:ee.sibling=Rn,ee=Rn);return s&&Dt.forEach(function(to){return a(Q,to)}),Gt&&tt(Q,Ut),It}function Bt(Q,Y,nt,ft){if(nt==null)throw Error(i(151));for(var It=null,ee=null,Dt=Y,Ut=Y=0,Rn=null,ge=nt.next();Dt!==null&&!ge.done;Ut++,ge=nt.next()){Dt.index>Ut?(Rn=Dt,Dt=null):Rn=Dt.sibling;var to=rt(Q,Dt,ge.value,ft);if(to===null){Dt===null&&(Dt=Rn);break}s&&Dt&&to.alternate===null&&a(Q,Dt),Y=b(to,Y,Ut),ee===null?It=to:ee.sibling=to,ee=to,Dt=Rn}if(ge.done)return u(Q,Dt),Gt&&tt(Q,Ut),It;if(Dt===null){for(;!ge.done;Ut++,ge=nt.next())ge=dt(Q,ge.value,ft),ge!==null&&(Y=b(ge,Y,Ut),ee===null?It=ge:ee.sibling=ge,ee=ge);return Gt&&tt(Q,Ut),It}for(Dt=d(Dt);!ge.done;Ut++,ge=nt.next())ge=at(Dt,Q,Ut,ge.value,ft),ge!==null&&(s&&ge.alternate!==null&&Dt.delete(ge.key===null?Ut:ge.key),Y=b(ge,Y,Ut),ee===null?It=ge:ee.sibling=ge,ee=ge);return s&&Dt.forEach(function(WR){return a(Q,WR)}),Gt&&tt(Q,Ut),It}function Ie(Q,Y,nt,ft){if(typeof nt=="object"&&nt!==null&&nt.type===I&&nt.key===null&&(nt=nt.props.children),typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case x:t:{for(var It=nt.key;Y!==null;){if(Y.key===It){if(It=nt.type,It===I){if(Y.tag===7){u(Q,Y.sibling),ft=y(Y,nt.props.children),ft.return=Q,Q=ft;break t}}else if(Y.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===k&&n0(It)===Y.type){u(Q,Y.sibling),ft=y(Y,nt.props),Ac(ft,nt),ft.return=Q,Q=ft;break t}u(Q,Y);break}else a(Q,Y);Y=Y.sibling}nt.type===I?(ft=Qs(nt.props.children,Q.mode,ft,nt.key),ft.return=Q,Q=ft):(ft=il(nt.type,nt.key,nt.props,null,Q.mode,ft),Ac(ft,nt),ft.return=Q,Q=ft)}return C(Q);case R:t:{for(It=nt.key;Y!==null;){if(Y.key===It)if(Y.tag===4&&Y.stateNode.containerInfo===nt.containerInfo&&Y.stateNode.implementation===nt.implementation){u(Q,Y.sibling),ft=y(Y,nt.children||[]),ft.return=Q,Q=ft;break t}else{u(Q,Y);break}else a(Q,Y);Y=Y.sibling}ft=nu(nt,Q.mode,ft),ft.return=Q,Q=ft}return C(Q);case k:return It=nt._init,nt=It(nt._payload),Ie(Q,Y,nt,ft)}if(Lt(nt))return qt(Q,Y,nt,ft);if(Z(nt)){if(It=Z(nt),typeof It!="function")throw Error(i(150));return nt=It.call(nt),Bt(Q,Y,nt,ft)}if(typeof nt.then=="function")return Ie(Q,Y,Af(nt),ft);if(nt.$$typeof===W)return Ie(Q,Y,df(Q,nt),ft);Rf(Q,nt)}return typeof nt=="string"&&nt!==""||typeof nt=="number"||typeof nt=="bigint"?(nt=""+nt,Y!==null&&Y.tag===6?(u(Q,Y.sibling),ft=y(Y,nt),ft.return=Q,Q=ft):(u(Q,Y),ft=dc(nt,Q.mode,ft),ft.return=Q,Q=ft),C(Q)):u(Q,Y)}return function(Q,Y,nt,ft){try{xc=0;var It=Ie(Q,Y,nt,ft);return cu=null,It}catch(Dt){if(Dt===gc||Dt===pf)throw Dt;var ee=ri(29,Dt,null,Q.mode);return ee.lanes=ft,ee.return=Q,ee}finally{}}}var hu=i0(!0),s0=i0(!1),as=ct(null),Js=null;function Ba(s){var a=s.alternate;gt(mn,mn.current&1),gt(as,s),Js===null&&(a===null||au.current!==null||a.memoizedState!==null)&&(Js=s)}function r0(s){if(s.tag===22){if(gt(mn,mn.current),gt(as,s),Js===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Js=s)}}else Ua()}function Ua(){gt(mn,mn.current),gt(as,as.current)}function Vr(s){bt(as),Js===s&&(Js=null),bt(mn)}var mn=ct(0);function Cf(s){for(var a=s;a!==null;){if(a.tag===13){var u=a.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||yg(u)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function Ip(s,a,u,d){a=s.memoizedState,u=u(d,a),u=u==null?a:v({},a,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var Mp={enqueueSetState:function(s,a,u){s=s._reactInternals;var d=Vi(),y=Na(d);y.payload=a,u!=null&&(y.callback=u),a=za(s,y,d),a!==null&&(Bi(a,s,d),yc(a,s,d))},enqueueReplaceState:function(s,a,u){s=s._reactInternals;var d=Vi(),y=Na(d);y.tag=1,y.payload=a,u!=null&&(y.callback=u),a=za(s,y,d),a!==null&&(Bi(a,s,d),yc(a,s,d))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var u=Vi(),d=Na(u);d.tag=2,a!=null&&(d.callback=a),a=za(s,d,u),a!==null&&(Bi(a,s,u),yc(a,s,u))}};function a0(s,a,u,d,y,b,C){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(d,b,C):a.prototype&&a.prototype.isPureReactComponent?!ni(u,d)||!ni(y,b):!0}function o0(s,a,u,d){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(u,d),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(u,d),a.state!==s&&Mp.enqueueReplaceState(a,a.state,null)}function cl(s,a){var u=a;if("ref"in a){u={};for(var d in a)d!=="ref"&&(u[d]=a[d])}if(s=s.defaultProps){u===a&&(u=v({},u));for(var y in s)u[y]===void 0&&(u[y]=s[y])}return u}var If=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function l0(s){If(s)}function u0(s){console.error(s)}function c0(s){If(s)}function Mf(s,a){try{var u=s.onUncaughtError;u(a.value,{componentStack:a.stack})}catch(d){setTimeout(function(){throw d})}}function h0(s,a,u){try{var d=s.onCaughtError;d(u.value,{componentStack:u.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Pp(s,a,u){return u=Na(u),u.tag=3,u.payload={element:null},u.callback=function(){Mf(s,a)},u}function f0(s){return s=Na(s),s.tag=3,s}function d0(s,a,u,d){var y=u.type.getDerivedStateFromError;if(typeof y=="function"){var b=d.value;s.payload=function(){return y(b)},s.callback=function(){h0(a,u,d)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(s.callback=function(){h0(a,u,d),typeof y!="function"&&(Za===null?Za=new Set([this]):Za.add(this));var P=d.stack;this.componentDidCatch(d.value,{componentStack:P!==null?P:""})})}function WA(s,a,u,d,y){if(u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(a=u.alternate,a!==null&&al(a,u,y,!0),u=as.current,u!==null){switch(u.tag){case 13:return Js===null?eg():u.alternate===null&&Xe===0&&(Xe=3),u.flags&=-257,u.flags|=65536,u.lanes=y,d===ap?u.flags|=16384:(a=u.updateQueue,a===null?u.updateQueue=new Set([d]):a.add(d),ig(s,d,y)),!1;case 22:return u.flags|=65536,d===ap?u.flags|=16384:(a=u.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([d])},u.updateQueue=a):(u=a.retryQueue,u===null?a.retryQueue=new Set([d]):u.add(d)),ig(s,d,y)),!1}throw Error(i(435,u.tag))}return ig(s,d,y),eg(),!1}if(Gt)return a=as.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=y,d!==Sn&&(s=Error(i(422),{cause:d}),ka(ii(s,u)))):(d!==Sn&&(a=Error(i(423),{cause:d}),ka(ii(a,u))),s=s.current.alternate,s.flags|=65536,y&=-y,s.lanes|=y,d=ii(d,u),y=Pp(s.stateNode,d,y),up(s,y),Xe!==4&&(Xe=2)),!1;var b=Error(i(520),{cause:d});if(b=ii(b,u),Dc===null?Dc=[b]:Dc.push(b),Xe!==4&&(Xe=2),a===null)return!0;d=ii(d,u),u=a;do{switch(u.tag){case 3:return u.flags|=65536,s=y&-y,u.lanes|=s,s=Pp(u.stateNode,d,s),up(u,s),!1;case 1:if(a=u.type,b=u.stateNode,(u.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Za===null||!Za.has(b))))return u.flags|=65536,y&=-y,u.lanes|=y,y=f0(y),d0(y,s,u,d),up(u,y),!1}u=u.return}while(u!==null);return!1}var m0=Error(i(461)),xn=!1;function Dn(s,a,u,d){a.child=s===null?s0(a,null,u,d):hu(a,s.child,u,d)}function p0(s,a,u,d,y){u=u.render;var b=a.ref;if("ref"in d){var C={};for(var P in d)P!=="ref"&&(C[P]=d[P])}else C=d;return ol(a),d=mp(s,a,u,C,b,y),P=pp(),s!==null&&!xn?(gp(s,a,y),Br(s,a,y)):(Gt&&P&&yt(a),a.flags|=1,Dn(s,a,d,y),a.child)}function g0(s,a,u,d,y){if(s===null){var b=u.type;return typeof b=="function"&&!eu(b)&&b.defaultProps===void 0&&u.compare===null?(a.tag=15,a.type=b,_0(s,a,b,d,y)):(s=il(u.type,null,d,a,a.mode,y),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!Bp(s,y)){var C=b.memoizedProps;if(u=u.compare,u=u!==null?u:ni,u(C,d)&&s.ref===a.ref)return Br(s,a,y)}return a.flags|=1,s=ss(b,d),s.ref=a.ref,s.return=a,a.child=s}function _0(s,a,u,d,y){if(s!==null){var b=s.memoizedProps;if(ni(b,d)&&s.ref===a.ref)if(xn=!1,a.pendingProps=d=b,Bp(s,y))(s.flags&131072)!==0&&(xn=!0);else return a.lanes=s.lanes,Br(s,a,y)}return Op(s,a,u,d,y)}function y0(s,a,u){var d=a.pendingProps,y=d.children,b=s!==null?s.memoizedState:null;if(d.mode==="hidden"){if((a.flags&128)!==0){if(d=b!==null?b.baseLanes|u:u,s!==null){for(y=a.child=s.child,b=0;y!==null;)b=b|y.lanes|y.childLanes,y=y.sibling;a.childLanes=b&~d}else a.childLanes=0,a.child=null;return v0(s,a,d,u)}if((u&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&mf(a,b!==null?b.cachePool:null),b!==null?_v(a,b):hp(),r0(a);else return a.lanes=a.childLanes=536870912,v0(s,a,b!==null?b.baseLanes|u:u,u)}else b!==null?(mf(a,b.cachePool),_v(a,b),Ua(),a.memoizedState=null):(s!==null&&mf(a,null),hp(),Ua());return Dn(s,a,y,u),a.child}function v0(s,a,u,d){var y=rp();return y=y===null?null:{parent:dn._currentValue,pool:y},a.memoizedState={baseLanes:u,cachePool:y},s!==null&&mf(a,null),hp(),r0(a),s!==null&&al(s,a,d,!0),null}function Pf(s,a){var u=a.ref;if(u===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(i(284));(s===null||s.ref!==u)&&(a.flags|=4194816)}}function Op(s,a,u,d,y){return ol(a),u=mp(s,a,u,d,void 0,y),d=pp(),s!==null&&!xn?(gp(s,a,y),Br(s,a,y)):(Gt&&d&&yt(a),a.flags|=1,Dn(s,a,u,y),a.child)}function b0(s,a,u,d,y,b){return ol(a),a.updateQueue=null,u=vv(a,d,u,y),yv(s),d=pp(),s!==null&&!xn?(gp(s,a,b),Br(s,a,b)):(Gt&&d&&yt(a),a.flags|=1,Dn(s,a,u,b),a.child)}function T0(s,a,u,d,y){if(ol(a),a.stateNode===null){var b=Lr,C=u.contextType;typeof C=="object"&&C!==null&&(b=Zn(C)),b=new u(d,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Mp,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=d,b.state=a.memoizedState,b.refs={},op(a),C=u.contextType,b.context=typeof C=="object"&&C!==null?Zn(C):Lr,b.state=a.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(Ip(a,u,C,d),b.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(C=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),C!==b.state&&Mp.enqueueReplaceState(b,b.state,null),bc(a,d,b,y),vc(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!0}else if(s===null){b=a.stateNode;var P=a.memoizedProps,G=cl(u,P);b.props=G;var st=b.context,ht=u.contextType;C=Lr,typeof ht=="object"&&ht!==null&&(C=Zn(ht));var dt=u.getDerivedStateFromProps;ht=typeof dt=="function"||typeof b.getSnapshotBeforeUpdate=="function",P=a.pendingProps!==P,ht||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(P||st!==C)&&o0(a,b,d,C),La=!1;var rt=a.memoizedState;b.state=rt,bc(a,d,b,y),vc(),st=a.memoizedState,P||rt!==st||La?(typeof dt=="function"&&(Ip(a,u,dt,d),st=a.memoizedState),(G=La||a0(a,u,G,d,rt,st,C))?(ht||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=d,a.memoizedState=st),b.props=d,b.state=st,b.context=C,d=G):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),d=!1)}else{b=a.stateNode,lp(s,a),C=a.memoizedProps,ht=cl(u,C),b.props=ht,dt=a.pendingProps,rt=b.context,st=u.contextType,G=Lr,typeof st=="object"&&st!==null&&(G=Zn(st)),P=u.getDerivedStateFromProps,(st=typeof P=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(C!==dt||rt!==G)&&o0(a,b,d,G),La=!1,rt=a.memoizedState,b.state=rt,bc(a,d,b,y),vc();var at=a.memoizedState;C!==dt||rt!==at||La||s!==null&&s.dependencies!==null&&ff(s.dependencies)?(typeof P=="function"&&(Ip(a,u,P,d),at=a.memoizedState),(ht=La||a0(a,u,ht,d,rt,at,G)||s!==null&&s.dependencies!==null&&ff(s.dependencies))?(st||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(d,at,G),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(d,at,G)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&rt===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&rt===s.memoizedState||(a.flags|=1024),a.memoizedProps=d,a.memoizedState=at),b.props=d,b.state=at,b.context=G,d=ht):(typeof b.componentDidUpdate!="function"||C===s.memoizedProps&&rt===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||C===s.memoizedProps&&rt===s.memoizedState||(a.flags|=1024),d=!1)}return b=d,Pf(s,a),d=(a.flags&128)!==0,b||d?(b=a.stateNode,u=d&&typeof u.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&d?(a.child=hu(a,s.child,null,y),a.child=hu(a,null,u,y)):Dn(s,a,u,y),a.memoizedState=b.state,s=a.child):s=Br(s,a,y),s}function E0(s,a,u,d){return Da(),a.flags|=256,Dn(s,a,u,d),a.child}var Dp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kp(s){return{baseLanes:s,cachePool:uv()}}function Lp(s,a,u){return s=s!==null?s.childLanes&~u:0,a&&(s|=os),s}function w0(s,a,u){var d=a.pendingProps,y=!1,b=(a.flags&128)!==0,C;if((C=b)||(C=s!==null&&s.memoizedState===null?!1:(mn.current&2)!==0),C&&(y=!0,a.flags&=-129),C=(a.flags&32)!==0,a.flags&=-33,s===null){if(Gt){if(y?Ba(a):Ua(),Gt){var P=Pt,G;if(G=P){t:{for(G=P,P=qe;G.nodeType!==8;){if(!P){P=null;break t}if(G=Ps(G.nextSibling),G===null){P=null;break t}}P=G}P!==null?(a.memoizedState={dehydrated:P,treeContext:S!==null?{id:M,overflow:q}:null,retryLane:536870912,hydrationErrors:null},G=ri(18,null,null,0),G.stateNode=P,G.return=a,a.child=G,Ct=a,Pt=null,G=!0):G=!1}G||ci(a)}if(P=a.memoizedState,P!==null&&(P=P.dehydrated,P!==null))return yg(P)?a.lanes=32:a.lanes=536870912,null;Vr(a)}return P=d.children,d=d.fallback,y?(Ua(),y=a.mode,P=Of({mode:"hidden",children:P},y),d=Qs(d,y,u,null),P.return=a,d.return=a,P.sibling=d,a.child=P,y=a.child,y.memoizedState=kp(u),y.childLanes=Lp(s,C,u),a.memoizedState=Dp,d):(Ba(a),Np(a,P))}if(G=s.memoizedState,G!==null&&(P=G.dehydrated,P!==null)){if(b)a.flags&256?(Ba(a),a.flags&=-257,a=zp(s,a,u)):a.memoizedState!==null?(Ua(),a.child=s.child,a.flags|=128,a=null):(Ua(),y=d.fallback,P=a.mode,d=Of({mode:"visible",children:d.children},P),y=Qs(y,P,u,null),y.flags|=2,d.return=a,y.return=a,d.sibling=y,a.child=d,hu(a,s.child,null,u),d=a.child,d.memoizedState=kp(u),d.childLanes=Lp(s,C,u),a.memoizedState=Dp,a=y);else if(Ba(a),yg(P)){if(C=P.nextSibling&&P.nextSibling.dataset,C)var st=C.dgst;C=st,d=Error(i(419)),d.stack="",d.digest=C,ka({value:d,source:null,stack:null}),a=zp(s,a,u)}else if(xn||al(s,a,u,!1),C=(u&s.childLanes)!==0,xn||C){if(C=ze,C!==null&&(d=u&-u,d=(d&42)!==0?1:Bs(d),d=(d&(C.suspendedLanes|u))!==0?0:d,d!==0&&d!==G.retryLane))throw G.retryLane=d,Pa(s,d),Bi(C,s,d),m0;P.data==="$?"||eg(),a=zp(s,a,u)}else P.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=G.treeContext,Pt=Ps(P.nextSibling),Ct=a,Gt=!0,Ne=null,qe=!1,s!==null&&(_[T++]=M,_[T++]=q,_[T++]=S,M=s.id,q=s.overflow,S=a),a=Np(a,d.children),a.flags|=4096);return a}return y?(Ua(),y=d.fallback,P=a.mode,G=s.child,st=G.sibling,d=ss(G,{mode:"hidden",children:d.children}),d.subtreeFlags=G.subtreeFlags&65011712,st!==null?y=ss(st,y):(y=Qs(y,P,u,null),y.flags|=2),y.return=a,d.return=a,d.sibling=y,a.child=d,d=y,y=a.child,P=s.child.memoizedState,P===null?P=kp(u):(G=P.cachePool,G!==null?(st=dn._currentValue,G=G.parent!==st?{parent:st,pool:st}:G):G=uv(),P={baseLanes:P.baseLanes|u,cachePool:G}),y.memoizedState=P,y.childLanes=Lp(s,C,u),a.memoizedState=Dp,d):(Ba(a),u=s.child,s=u.sibling,u=ss(u,{mode:"visible",children:d.children}),u.return=a,u.sibling=null,s!==null&&(C=a.deletions,C===null?(a.deletions=[s],a.flags|=16):C.push(s)),a.child=u,a.memoizedState=null,u)}function Np(s,a){return a=Of({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Of(s,a){return s=ri(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function zp(s,a,u){return hu(a,s.child,null,u),s=Np(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function S0(s,a,u){s.lanes|=a;var d=s.alternate;d!==null&&(d.lanes|=a),rl(s.return,a,u)}function Vp(s,a,u,d,y){var b=s.memoizedState;b===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:d,tail:u,tailMode:y}:(b.isBackwards=a,b.rendering=null,b.renderingStartTime=0,b.last=d,b.tail=u,b.tailMode=y)}function x0(s,a,u){var d=a.pendingProps,y=d.revealOrder,b=d.tail;if(Dn(s,a,d.children,u),d=mn.current,(d&2)!==0)d=d&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&S0(s,u,a);else if(s.tag===19)S0(s,u,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}d&=1}switch(gt(mn,d),y){case"forwards":for(u=a.child,y=null;u!==null;)s=u.alternate,s!==null&&Cf(s)===null&&(y=u),u=u.sibling;u=y,u===null?(y=a.child,a.child=null):(y=u.sibling,u.sibling=null),Vp(a,!1,y,u,b);break;case"backwards":for(u=null,y=a.child,a.child=null;y!==null;){if(s=y.alternate,s!==null&&Cf(s)===null){a.child=y;break}s=y.sibling,y.sibling=u,u=y,y=s}Vp(a,!0,u,null,b);break;case"together":Vp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Br(s,a,u){if(s!==null&&(a.dependencies=s.dependencies),Ga|=a.lanes,(u&a.childLanes)===0)if(s!==null){if(al(s,a,u,!1),(u&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,u=ss(s,s.pendingProps),a.child=u,u.return=a;s.sibling!==null;)s=s.sibling,u=u.sibling=ss(s,s.pendingProps),u.return=a;u.sibling=null}return a.child}function Bp(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&ff(s)))}function KA(s,a,u){switch(a.tag){case 3:ue(a,a.stateNode.containerInfo),$s(a,dn,s.memoizedState.cache),Da();break;case 27:case 5:Fi(a);break;case 4:ue(a,a.stateNode.containerInfo);break;case 10:$s(a,a.type,a.memoizedProps.value);break;case 13:var d=a.memoizedState;if(d!==null)return d.dehydrated!==null?(Ba(a),a.flags|=128,null):(u&a.child.childLanes)!==0?w0(s,a,u):(Ba(a),s=Br(s,a,u),s!==null?s.sibling:null);Ba(a);break;case 19:var y=(s.flags&128)!==0;if(d=(u&a.childLanes)!==0,d||(al(s,a,u,!1),d=(u&a.childLanes)!==0),y){if(d)return x0(s,a,u);a.flags|=128}if(y=a.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),gt(mn,mn.current),d)break;return null;case 22:case 23:return a.lanes=0,y0(s,a,u);case 24:$s(a,dn,s.memoizedState.cache)}return Br(s,a,u)}function A0(s,a,u){if(s!==null)if(s.memoizedProps!==a.pendingProps)xn=!0;else{if(!Bp(s,u)&&(a.flags&128)===0)return xn=!1,KA(s,a,u);xn=(s.flags&131072)!==0}else xn=!1,Gt&&(a.flags&1048576)!==0&&ot(a,h,a.index);switch(a.lanes=0,a.tag){case 16:t:{s=a.pendingProps;var d=a.elementType,y=d._init;if(d=y(d._payload),a.type=d,typeof d=="function")eu(d)?(s=cl(d,s),a.tag=1,a=T0(null,a,d,s,u)):(a.tag=0,a=Op(null,a,d,s,u));else{if(d!=null){if(y=d.$$typeof,y===ut){a.tag=11,a=p0(null,a,d,s,u);break t}else if(y===B){a.tag=14,a=g0(null,a,d,s,u);break t}}throw a=Yt(d)||d,Error(i(306,a,""))}}return a;case 0:return Op(s,a,a.type,a.pendingProps,u);case 1:return d=a.type,y=cl(d,a.pendingProps),T0(s,a,d,y,u);case 3:t:{if(ue(a,a.stateNode.containerInfo),s===null)throw Error(i(387));d=a.pendingProps;var b=a.memoizedState;y=b.element,lp(s,a),bc(a,d,null,u);var C=a.memoizedState;if(d=C.cache,$s(a,dn,d),d!==b.cache&&iu(a,[dn],u,!0),vc(),d=C.element,b.isDehydrated)if(b={element:d,isDehydrated:!1,cache:C.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=E0(s,a,d,u);break t}else if(d!==y){y=ii(Error(i(424)),a),ka(y),a=E0(s,a,d,u);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Pt=Ps(s.firstChild),Ct=a,Gt=!0,Ne=null,qe=!0,u=s0(a,null,d,u),a.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Da(),d===y){a=Br(s,a,u);break t}Dn(s,a,d,u)}a=a.child}return a;case 26:return Pf(s,a),s===null?(u=Mb(a.type,null,a.pendingProps,null))?a.memoizedState=u:Gt||(u=a.type,s=a.pendingProps,d=Zf(Et.current).createElement(u),d[$e]=a,d[Ke]=s,Ln(d,u,s),Fe(d),a.stateNode=d):a.memoizedState=Mb(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Fi(a),s===null&&Gt&&(d=a.stateNode=Rb(a.type,a.pendingProps,Et.current),Ct=a,qe=!0,y=Pt,Ya(a.type)?(vg=y,Pt=Ps(d.firstChild)):Pt=y),Dn(s,a,a.pendingProps.children,u),Pf(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Gt&&((y=d=Pt)&&(d=ER(d,a.type,a.pendingProps,qe),d!==null?(a.stateNode=d,Ct=a,Pt=Ps(d.firstChild),qe=!1,y=!0):y=!1),y||ci(a)),Fi(a),y=a.type,b=a.pendingProps,C=s!==null?s.memoizedProps:null,d=b.children,pg(y,b)?d=null:C!==null&&pg(y,C)&&(a.flags|=32),a.memoizedState!==null&&(y=mp(s,a,UA,null,null,u),Hc._currentValue=y),Pf(s,a),Dn(s,a,d,u),a.child;case 6:return s===null&&Gt&&((s=u=Pt)&&(u=wR(u,a.pendingProps,qe),u!==null?(a.stateNode=u,Ct=a,Pt=null,s=!0):s=!1),s||ci(a)),null;case 13:return w0(s,a,u);case 4:return ue(a,a.stateNode.containerInfo),d=a.pendingProps,s===null?a.child=hu(a,null,d,u):Dn(s,a,d,u),a.child;case 11:return p0(s,a,a.type,a.pendingProps,u);case 7:return Dn(s,a,a.pendingProps,u),a.child;case 8:return Dn(s,a,a.pendingProps.children,u),a.child;case 12:return Dn(s,a,a.pendingProps.children,u),a.child;case 10:return d=a.pendingProps,$s(a,a.type,d.value),Dn(s,a,d.children,u),a.child;case 9:return y=a.type._context,d=a.pendingProps.children,ol(a),y=Zn(y),d=d(y),a.flags|=1,Dn(s,a,d,u),a.child;case 14:return g0(s,a,a.type,a.pendingProps,u);case 15:return _0(s,a,a.type,a.pendingProps,u);case 19:return x0(s,a,u);case 31:return d=a.pendingProps,u=a.mode,d={mode:d.mode,children:d.children},s===null?(u=Of(d,u),u.ref=a.ref,a.child=u,u.return=a,a=u):(u=ss(s.child,d),u.ref=a.ref,a.child=u,u.return=a,a=u),a;case 22:return y0(s,a,u);case 24:return ol(a),d=Zn(dn),s===null?(y=rp(),y===null&&(y=ze,b=ip(),y.pooledCache=b,b.refCount++,b!==null&&(y.pooledCacheLanes|=u),y=b),a.memoizedState={parent:d,cache:y},op(a),$s(a,dn,y)):((s.lanes&u)!==0&&(lp(s,a),bc(a,null,null,u),vc()),y=s.memoizedState,b=a.memoizedState,y.parent!==d?(y={parent:d,cache:d},a.memoizedState=y,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=y),$s(a,dn,d)):(d=b.cache,$s(a,dn,d),d!==y.cache&&iu(a,[dn],u,!0))),Dn(s,a,a.pendingProps.children,u),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ur(s){s.flags|=4}function R0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Lb(a)){if(a=as.current,a!==null&&((he&4194048)===he?Js!==null:(he&62914560)!==he&&(he&536870912)===0||a!==Js))throw _c=ap,cv;s.flags|=8192}}function Df(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ca():536870912,s.lanes|=a,pu|=a)}function Rc(s,a){if(!Gt)switch(s.tailMode){case"hidden":a=s.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:d.sibling=null}}function Ge(s){var a=s.alternate!==null&&s.alternate.child===s.child,u=0,d=0;if(a)for(var y=s.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=s,y=y.sibling;else for(y=s.child;y!==null;)u|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=s,y=y.sibling;return s.subtreeFlags|=d,s.childLanes=u,a}function YA(s,a,u){var d=a.pendingProps;switch(xt(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(a),null;case 1:return Ge(a),null;case 3:return u=a.stateNode,d=null,s!==null&&(d=s.memoizedState.cache),a.memoizedState.cache!==d&&(a.flags|=2048),Is(dn),yi(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(s===null||s.child===null)&&(sl(a)?Ur(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,hf())),Ge(a),null;case 26:return u=a.memoizedState,s===null?(Ur(a),u!==null?(Ge(a),R0(a,u)):(Ge(a),a.flags&=-16777217)):u?u!==s.memoizedState?(Ur(a),Ge(a),R0(a,u)):(Ge(a),a.flags&=-16777217):(s.memoizedProps!==d&&Ur(a),Ge(a),a.flags&=-16777217),null;case 27:vi(a),u=Et.current;var y=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==d&&Ur(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Ge(a),null}s=St.current,sl(a)?uf(a):(s=Rb(y,d,u),a.stateNode=s,Ur(a))}return Ge(a),null;case 5:if(vi(a),u=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==d&&Ur(a);else{if(!d){if(a.stateNode===null)throw Error(i(166));return Ge(a),null}if(s=St.current,sl(a))uf(a);else{switch(y=Zf(Et.current),s){case 1:s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":s=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":s=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":s=y.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?s.multiple=!0:d.size&&(s.size=d.size);break;default:s=typeof d.is=="string"?y.createElement(u,{is:d.is}):y.createElement(u)}}s[$e]=a,s[Ke]=d;t:for(y=a.child;y!==null;){if(y.tag===5||y.tag===6)s.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===a)break t;for(;y.sibling===null;){if(y.return===null||y.return===a)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}a.stateNode=s;t:switch(Ln(s,u,d),u){case"button":case"input":case"select":case"textarea":s=!!d.autoFocus;break t;case"img":s=!0;break t;default:s=!1}s&&Ur(a)}}return Ge(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==d&&Ur(a);else{if(typeof d!="string"&&a.stateNode===null)throw Error(i(166));if(s=Et.current,sl(a)){if(s=a.stateNode,u=a.memoizedProps,d=null,y=Ct,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}s[$e]=a,s=!!(s.nodeValue===u||d!==null&&d.suppressHydrationWarning===!0||bb(s.nodeValue,u)),s||ci(a)}else s=Zf(s).createTextNode(d),s[$e]=a,a.stateNode=s}return Ge(a),null;case 13:if(d=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(y=sl(a),d!==null&&d.dehydrated!==null){if(s===null){if(!y)throw Error(i(318));if(y=a.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[$e]=a}else Da(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ge(a),y=!1}else y=hf(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=y),y=!0;if(!y)return a.flags&256?(Vr(a),a):(Vr(a),null)}if(Vr(a),(a.flags&128)!==0)return a.lanes=u,a;if(u=d!==null,s=s!==null&&s.memoizedState!==null,u){d=a.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var b=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==y&&(d.flags|=2048)}return u!==s&&u&&(a.child.flags|=8192),Df(a,a.updateQueue),Ge(a),null;case 4:return yi(),s===null&&cg(a.stateNode.containerInfo),Ge(a),null;case 10:return Is(a.type),Ge(a),null;case 19:if(bt(mn),y=a.memoizedState,y===null)return Ge(a),null;if(d=(a.flags&128)!==0,b=y.rendering,b===null)if(d)Rc(y,!1);else{if(Xe!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=Cf(s),b!==null){for(a.flags|=128,Rc(y,!1),s=b.updateQueue,a.updateQueue=s,Df(a,s),a.subtreeFlags=0,s=u,u=a.child;u!==null;)fc(u,s),u=u.sibling;return gt(mn,mn.current&1|2),a.child}s=s.sibling}y.tail!==null&&Bn()>Nf&&(a.flags|=128,d=!0,Rc(y,!1),a.lanes=4194304)}else{if(!d)if(s=Cf(b),s!==null){if(a.flags|=128,d=!0,s=s.updateQueue,a.updateQueue=s,Df(a,s),Rc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!Gt)return Ge(a),null}else 2*Bn()-y.renderingStartTime>Nf&&u!==536870912&&(a.flags|=128,d=!0,Rc(y,!1),a.lanes=4194304);y.isBackwards?(b.sibling=a.child,a.child=b):(s=y.last,s!==null?s.sibling=b:a.child=b,y.last=b)}return y.tail!==null?(a=y.tail,y.rendering=a,y.tail=a.sibling,y.renderingStartTime=Bn(),a.sibling=null,s=mn.current,gt(mn,d?s&1|2:s&1),a):(Ge(a),null);case 22:case 23:return Vr(a),fp(),d=a.memoizedState!==null,s!==null?s.memoizedState!==null!==d&&(a.flags|=8192):d&&(a.flags|=8192),d?(u&536870912)!==0&&(a.flags&128)===0&&(Ge(a),a.subtreeFlags&6&&(a.flags|=8192)):Ge(a),u=a.updateQueue,u!==null&&Df(a,u.retryQueue),u=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),d=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),d!==u&&(a.flags|=2048),s!==null&&bt(ll),null;case 24:return u=null,s!==null&&(u=s.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),Is(dn),Ge(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function XA(s,a){switch(xt(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Is(dn),yi(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return vi(a),null;case 13:if(Vr(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));Da()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return bt(mn),null;case 4:return yi(),null;case 10:return Is(a.type),null;case 22:case 23:return Vr(a),fp(),s!==null&&bt(ll),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Is(dn),null;case 25:return null;default:return null}}function C0(s,a){switch(xt(a),a.tag){case 3:Is(dn),yi();break;case 26:case 27:case 5:vi(a);break;case 4:yi();break;case 13:Vr(a);break;case 19:bt(mn);break;case 10:Is(a.type);break;case 22:case 23:Vr(a),fp(),s!==null&&bt(ll);break;case 24:Is(dn)}}function Cc(s,a){try{var u=a.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var y=d.next;u=y;do{if((u.tag&s)===s){d=void 0;var b=u.create,C=u.inst;d=b(),C.destroy=d}u=u.next}while(u!==y)}}catch(P){Pe(a,a.return,P)}}function ja(s,a,u){try{var d=a.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var b=y.next;d=b;do{if((d.tag&s)===s){var C=d.inst,P=C.destroy;if(P!==void 0){C.destroy=void 0,y=a;var G=u,st=P;try{st()}catch(ht){Pe(y,G,ht)}}}d=d.next}while(d!==b)}}catch(ht){Pe(a,a.return,ht)}}function I0(s){var a=s.updateQueue;if(a!==null){var u=s.stateNode;try{gv(a,u)}catch(d){Pe(s,s.return,d)}}}function M0(s,a,u){u.props=cl(s.type,s.memoizedProps),u.state=s.memoizedState;try{u.componentWillUnmount()}catch(d){Pe(s,a,d)}}function Ic(s,a){try{var u=s.ref;if(u!==null){switch(s.tag){case 26:case 27:case 5:var d=s.stateNode;break;case 30:d=s.stateNode;break;default:d=s.stateNode}typeof u=="function"?s.refCleanup=u(d):u.current=d}}catch(y){Pe(s,a,y)}}function tr(s,a){var u=s.ref,d=s.refCleanup;if(u!==null)if(typeof d=="function")try{d()}catch(y){Pe(s,a,y)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(y){Pe(s,a,y)}else u.current=null}function P0(s){var a=s.type,u=s.memoizedProps,d=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":u.autoFocus&&d.focus();break t;case"img":u.src?d.src=u.src:u.srcSet&&(d.srcset=u.srcSet)}}catch(y){Pe(s,s.return,y)}}function Up(s,a,u){try{var d=s.stateNode;_R(d,s.type,u,a),d[Ke]=a}catch(y){Pe(s,s.return,y)}}function O0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Ya(s.type)||s.tag===4}function jp(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||O0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Ya(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Hp(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(s,a):(a=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,a.appendChild(s),u=u._reactRootContainer,u!=null||a.onclick!==null||(a.onclick=Gf));else if(d!==4&&(d===27&&Ya(s.type)&&(u=s.stateNode,a=null),s=s.child,s!==null))for(Hp(s,a,u),s=s.sibling;s!==null;)Hp(s,a,u),s=s.sibling}function kf(s,a,u){var d=s.tag;if(d===5||d===6)s=s.stateNode,a?u.insertBefore(s,a):u.appendChild(s);else if(d!==4&&(d===27&&Ya(s.type)&&(u=s.stateNode),s=s.child,s!==null))for(kf(s,a,u),s=s.sibling;s!==null;)kf(s,a,u),s=s.sibling}function D0(s){var a=s.stateNode,u=s.memoizedProps;try{for(var d=s.type,y=a.attributes;y.length;)a.removeAttributeNode(y[0]);Ln(a,d,u),a[$e]=s,a[Ke]=u}catch(b){Pe(s,s.return,b)}}var jr=!1,en=!1,Fp=!1,k0=typeof WeakSet=="function"?WeakSet:Set,An=null;function QA(s,a){if(s=s.containerInfo,dg=$f,s=Qo(s),$o(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else t:{u=(u=s.ownerDocument)&&u.defaultView||window;var d=u.getSelection&&u.getSelection();if(d&&d.rangeCount!==0){u=d.anchorNode;var y=d.anchorOffset,b=d.focusNode;d=d.focusOffset;try{u.nodeType,b.nodeType}catch{u=null;break t}var C=0,P=-1,G=-1,st=0,ht=0,dt=s,rt=null;e:for(;;){for(var at;dt!==u||y!==0&&dt.nodeType!==3||(P=C+y),dt!==b||d!==0&&dt.nodeType!==3||(G=C+d),dt.nodeType===3&&(C+=dt.nodeValue.length),(at=dt.firstChild)!==null;)rt=dt,dt=at;for(;;){if(dt===s)break e;if(rt===u&&++st===y&&(P=C),rt===b&&++ht===d&&(G=C),(at=dt.nextSibling)!==null)break;dt=rt,rt=dt.parentNode}dt=at}u=P===-1||G===-1?null:{start:P,end:G}}else u=null}u=u||{start:0,end:0}}else u=null;for(mg={focusedElem:s,selectionRange:u},$f=!1,An=a;An!==null;)if(a=An,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,An=s;else for(;An!==null;){switch(a=An,b=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,u=a,y=b.memoizedProps,b=b.memoizedState,d=u.stateNode;try{var qt=cl(u.type,y,u.elementType===u.type);s=d.getSnapshotBeforeUpdate(qt,b),d.__reactInternalSnapshotBeforeUpdate=s}catch(Bt){Pe(u,u.return,Bt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,u=s.nodeType,u===9)_g(s);else if(u===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":_g(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,An=s;break}An=a.return}}function L0(s,a,u){var d=u.flags;switch(u.tag){case 0:case 11:case 15:Ha(s,u),d&4&&Cc(5,u);break;case 1:if(Ha(s,u),d&4)if(s=u.stateNode,a===null)try{s.componentDidMount()}catch(C){Pe(u,u.return,C)}else{var y=cl(u.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(y,a,s.__reactInternalSnapshotBeforeUpdate)}catch(C){Pe(u,u.return,C)}}d&64&&I0(u),d&512&&Ic(u,u.return);break;case 3:if(Ha(s,u),d&64&&(s=u.updateQueue,s!==null)){if(a=null,u.child!==null)switch(u.child.tag){case 27:case 5:a=u.child.stateNode;break;case 1:a=u.child.stateNode}try{gv(s,a)}catch(C){Pe(u,u.return,C)}}break;case 27:a===null&&d&4&&D0(u);case 26:case 5:Ha(s,u),a===null&&d&4&&P0(u),d&512&&Ic(u,u.return);break;case 12:Ha(s,u);break;case 13:Ha(s,u),d&4&&V0(s,u),d&64&&(s=u.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(u=aR.bind(null,u),SR(s,u))));break;case 22:if(d=u.memoizedState!==null||jr,!d){a=a!==null&&a.memoizedState!==null||en,y=jr;var b=en;jr=d,(en=a)&&!b?Fa(s,u,(u.subtreeFlags&8772)!==0):Ha(s,u),jr=y,en=b}break;case 30:break;default:Ha(s,u)}}function N0(s){var a=s.alternate;a!==null&&(s.alternate=null,N0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&_s(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var je=null,fi=!1;function Hr(s,a,u){for(u=u.child;u!==null;)z0(s,a,u),u=u.sibling}function z0(s,a,u){if(me&&typeof me.onCommitFiberUnmount=="function")try{me.onCommitFiberUnmount(Oe,u)}catch{}switch(u.tag){case 26:en||tr(u,a),Hr(s,a,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:en||tr(u,a);var d=je,y=fi;Ya(u.type)&&(je=u.stateNode,fi=!1),Hr(s,a,u),Vc(u.stateNode),je=d,fi=y;break;case 5:en||tr(u,a);case 6:if(d=je,y=fi,je=null,Hr(s,a,u),je=d,fi=y,je!==null)if(fi)try{(je.nodeType===9?je.body:je.nodeName==="HTML"?je.ownerDocument.body:je).removeChild(u.stateNode)}catch(b){Pe(u,a,b)}else try{je.removeChild(u.stateNode)}catch(b){Pe(u,a,b)}break;case 18:je!==null&&(fi?(s=je,xb(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,u.stateNode),Zc(s)):xb(je,u.stateNode));break;case 4:d=je,y=fi,je=u.stateNode.containerInfo,fi=!0,Hr(s,a,u),je=d,fi=y;break;case 0:case 11:case 14:case 15:en||ja(2,u,a),en||ja(4,u,a),Hr(s,a,u);break;case 1:en||(tr(u,a),d=u.stateNode,typeof d.componentWillUnmount=="function"&&M0(u,a,d)),Hr(s,a,u);break;case 21:Hr(s,a,u);break;case 22:en=(d=en)||u.memoizedState!==null,Hr(s,a,u),en=d;break;default:Hr(s,a,u)}}function V0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{Zc(s)}catch(u){Pe(a,a.return,u)}}function $A(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new k0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new k0),a;default:throw Error(i(435,s.tag))}}function qp(s,a){var u=$A(s);a.forEach(function(d){var y=oR.bind(null,s,d);u.has(d)||(u.add(d),d.then(y,y))})}function Li(s,a){var u=a.deletions;if(u!==null)for(var d=0;d<u.length;d++){var y=u[d],b=s,C=a,P=C;t:for(;P!==null;){switch(P.tag){case 27:if(Ya(P.type)){je=P.stateNode,fi=!1;break t}break;case 5:je=P.stateNode,fi=!1;break t;case 3:case 4:je=P.stateNode.containerInfo,fi=!0;break t}P=P.return}if(je===null)throw Error(i(160));z0(b,C,y),je=null,fi=!1,b=y.alternate,b!==null&&(b.return=null),y.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)B0(a,s),a=a.sibling}var Ms=null;function B0(s,a){var u=s.alternate,d=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Li(a,s),Ni(s),d&4&&(ja(3,s,s.return),Cc(3,s),ja(5,s,s.return));break;case 1:Li(a,s),Ni(s),d&512&&(en||u===null||tr(u,u.return)),d&64&&jr&&(s=s.updateQueue,s!==null&&(d=s.callbacks,d!==null&&(u=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=u===null?d:u.concat(d))));break;case 26:var y=Ms;if(Li(a,s),Ni(s),d&512&&(en||u===null||tr(u,u.return)),d&4){var b=u!==null?u.memoizedState:null;if(d=s.memoizedState,u===null)if(d===null)if(s.stateNode===null){t:{d=s.type,u=s.memoizedProps,y=y.ownerDocument||y;e:switch(d){case"title":b=y.getElementsByTagName("title")[0],(!b||b[js]||b[$e]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=y.createElement(d),y.head.insertBefore(b,y.querySelector("head > title"))),Ln(b,d,u),b[$e]=s,Fe(b),d=b;break t;case"link":var C=Db("link","href",y).get(d+(u.href||""));if(C){for(var P=0;P<C.length;P++)if(b=C[P],b.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&b.getAttribute("rel")===(u.rel==null?null:u.rel)&&b.getAttribute("title")===(u.title==null?null:u.title)&&b.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(P,1);break e}}b=y.createElement(d),Ln(b,d,u),y.head.appendChild(b);break;case"meta":if(C=Db("meta","content",y).get(d+(u.content||""))){for(P=0;P<C.length;P++)if(b=C[P],b.getAttribute("content")===(u.content==null?null:""+u.content)&&b.getAttribute("name")===(u.name==null?null:u.name)&&b.getAttribute("property")===(u.property==null?null:u.property)&&b.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&b.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(P,1);break e}}b=y.createElement(d),Ln(b,d,u),y.head.appendChild(b);break;default:throw Error(i(468,d))}b[$e]=s,Fe(b),d=b}s.stateNode=d}else kb(y,s.type,s.stateNode);else s.stateNode=Ob(y,d,s.memoizedProps);else b!==d?(b===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):b.count--,d===null?kb(y,s.type,s.stateNode):Ob(y,d,s.memoizedProps)):d===null&&s.stateNode!==null&&Up(s,s.memoizedProps,u.memoizedProps)}break;case 27:Li(a,s),Ni(s),d&512&&(en||u===null||tr(u,u.return)),u!==null&&d&4&&Up(s,s.memoizedProps,u.memoizedProps);break;case 5:if(Li(a,s),Ni(s),d&512&&(en||u===null||tr(u,u.return)),s.flags&32){y=s.stateNode;try{Tn(y,"")}catch(at){Pe(s,s.return,at)}}d&4&&s.stateNode!=null&&(y=s.memoizedProps,Up(s,y,u!==null?u.memoizedProps:y)),d&1024&&(Fp=!0);break;case 6:if(Li(a,s),Ni(s),d&4){if(s.stateNode===null)throw Error(i(162));d=s.memoizedProps,u=s.stateNode;try{u.nodeValue=d}catch(at){Pe(s,s.return,at)}}break;case 3:if(Yf=null,y=Ms,Ms=Wf(a.containerInfo),Li(a,s),Ms=y,Ni(s),d&4&&u!==null&&u.memoizedState.isDehydrated)try{Zc(a.containerInfo)}catch(at){Pe(s,s.return,at)}Fp&&(Fp=!1,U0(s));break;case 4:d=Ms,Ms=Wf(s.stateNode.containerInfo),Li(a,s),Ni(s),Ms=d;break;case 12:Li(a,s),Ni(s);break;case 13:Li(a,s),Ni(s),s.child.flags&8192&&s.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Xp=Bn()),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,qp(s,d)));break;case 22:y=s.memoizedState!==null;var G=u!==null&&u.memoizedState!==null,st=jr,ht=en;if(jr=st||y,en=ht||G,Li(a,s),en=ht,jr=st,Ni(s),d&8192)t:for(a=s.stateNode,a._visibility=y?a._visibility&-2:a._visibility|1,y&&(u===null||G||jr||en||hl(s)),u=null,a=s;;){if(a.tag===5||a.tag===26){if(u===null){G=u=a;try{if(b=G.stateNode,y)C=b.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{P=G.stateNode;var dt=G.memoizedProps.style,rt=dt!=null&&dt.hasOwnProperty("display")?dt.display:null;P.style.display=rt==null||typeof rt=="boolean"?"":(""+rt).trim()}}catch(at){Pe(G,G.return,at)}}}else if(a.tag===6){if(u===null){G=a;try{G.stateNode.nodeValue=y?"":G.memoizedProps}catch(at){Pe(G,G.return,at)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;u===a&&(u=null),a=a.return}u===a&&(u=null),a.sibling.return=a.return,a=a.sibling}d&4&&(d=s.updateQueue,d!==null&&(u=d.retryQueue,u!==null&&(d.retryQueue=null,qp(s,u))));break;case 19:Li(a,s),Ni(s),d&4&&(d=s.updateQueue,d!==null&&(s.updateQueue=null,qp(s,d)));break;case 30:break;case 21:break;default:Li(a,s),Ni(s)}}function Ni(s){var a=s.flags;if(a&2){try{for(var u,d=s.return;d!==null;){if(O0(d)){u=d;break}d=d.return}if(u==null)throw Error(i(160));switch(u.tag){case 27:var y=u.stateNode,b=jp(s);kf(s,b,y);break;case 5:var C=u.stateNode;u.flags&32&&(Tn(C,""),u.flags&=-33);var P=jp(s);kf(s,P,C);break;case 3:case 4:var G=u.stateNode.containerInfo,st=jp(s);Hp(s,st,G);break;default:throw Error(i(161))}}catch(ht){Pe(s,s.return,ht)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function U0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;U0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ha(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)L0(s,a.alternate,a),a=a.sibling}function hl(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:ja(4,a,a.return),hl(a);break;case 1:tr(a,a.return);var u=a.stateNode;typeof u.componentWillUnmount=="function"&&M0(a,a.return,u),hl(a);break;case 27:Vc(a.stateNode);case 26:case 5:tr(a,a.return),hl(a);break;case 22:a.memoizedState===null&&hl(a);break;case 30:hl(a);break;default:hl(a)}s=s.sibling}}function Fa(s,a,u){for(u=u&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var d=a.alternate,y=s,b=a,C=b.flags;switch(b.tag){case 0:case 11:case 15:Fa(y,b,u),Cc(4,b);break;case 1:if(Fa(y,b,u),d=b,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(st){Pe(d,d.return,st)}if(d=b,y=d.updateQueue,y!==null){var P=d.stateNode;try{var G=y.shared.hiddenCallbacks;if(G!==null)for(y.shared.hiddenCallbacks=null,y=0;y<G.length;y++)pv(G[y],P)}catch(st){Pe(d,d.return,st)}}u&&C&64&&I0(b),Ic(b,b.return);break;case 27:D0(b);case 26:case 5:Fa(y,b,u),u&&d===null&&C&4&&P0(b),Ic(b,b.return);break;case 12:Fa(y,b,u);break;case 13:Fa(y,b,u),u&&C&4&&V0(y,b);break;case 22:b.memoizedState===null&&Fa(y,b,u),Ic(b,b.return);break;case 30:break;default:Fa(y,b,u)}a=a.sibling}}function Gp(s,a){var u=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==u&&(s!=null&&s.refCount++,u!=null&&mc(u))}function Zp(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&mc(s))}function er(s,a,u,d){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)j0(s,a,u,d),a=a.sibling}function j0(s,a,u,d){var y=a.flags;switch(a.tag){case 0:case 11:case 15:er(s,a,u,d),y&2048&&Cc(9,a);break;case 1:er(s,a,u,d);break;case 3:er(s,a,u,d),y&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&mc(s)));break;case 12:if(y&2048){er(s,a,u,d),s=a.stateNode;try{var b=a.memoizedProps,C=b.id,P=b.onPostCommit;typeof P=="function"&&P(C,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(G){Pe(a,a.return,G)}}else er(s,a,u,d);break;case 13:er(s,a,u,d);break;case 23:break;case 22:b=a.stateNode,C=a.alternate,a.memoizedState!==null?b._visibility&2?er(s,a,u,d):Mc(s,a):b._visibility&2?er(s,a,u,d):(b._visibility|=2,fu(s,a,u,d,(a.subtreeFlags&10256)!==0)),y&2048&&Gp(C,a);break;case 24:er(s,a,u,d),y&2048&&Zp(a.alternate,a);break;default:er(s,a,u,d)}}function fu(s,a,u,d,y){for(y=y&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var b=s,C=a,P=u,G=d,st=C.flags;switch(C.tag){case 0:case 11:case 15:fu(b,C,P,G,y),Cc(8,C);break;case 23:break;case 22:var ht=C.stateNode;C.memoizedState!==null?ht._visibility&2?fu(b,C,P,G,y):Mc(b,C):(ht._visibility|=2,fu(b,C,P,G,y)),y&&st&2048&&Gp(C.alternate,C);break;case 24:fu(b,C,P,G,y),y&&st&2048&&Zp(C.alternate,C);break;default:fu(b,C,P,G,y)}a=a.sibling}}function Mc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var u=s,d=a,y=d.flags;switch(d.tag){case 22:Mc(u,d),y&2048&&Gp(d.alternate,d);break;case 24:Mc(u,d),y&2048&&Zp(d.alternate,d);break;default:Mc(u,d)}a=a.sibling}}var Pc=8192;function du(s){if(s.subtreeFlags&Pc)for(s=s.child;s!==null;)H0(s),s=s.sibling}function H0(s){switch(s.tag){case 26:du(s),s.flags&Pc&&s.memoizedState!==null&&zR(Ms,s.memoizedState,s.memoizedProps);break;case 5:du(s);break;case 3:case 4:var a=Ms;Ms=Wf(s.stateNode.containerInfo),du(s),Ms=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=Pc,Pc=16777216,du(s),Pc=a):du(s));break;default:du(s)}}function F0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Oc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];An=d,G0(d,s)}F0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)q0(s),s=s.sibling}function q0(s){switch(s.tag){case 0:case 11:case 15:Oc(s),s.flags&2048&&ja(9,s,s.return);break;case 3:Oc(s);break;case 12:Oc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Lf(s)):Oc(s);break;default:Oc(s)}}function Lf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var u=0;u<a.length;u++){var d=a[u];An=d,G0(d,s)}F0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:ja(8,a,a.return),Lf(a);break;case 22:u=a.stateNode,u._visibility&2&&(u._visibility&=-3,Lf(a));break;default:Lf(a)}s=s.sibling}}function G0(s,a){for(;An!==null;){var u=An;switch(u.tag){case 0:case 11:case 15:ja(8,u,a);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var d=u.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:mc(u.memoizedState.cache)}if(d=u.child,d!==null)d.return=u,An=d;else t:for(u=s;An!==null;){d=An;var y=d.sibling,b=d.return;if(N0(d),d===u){An=null;break t}if(y!==null){y.return=b,An=y;break t}An=b}}}var JA={getCacheForType:function(s){var a=Zn(dn),u=a.data.get(s);return u===void 0&&(u=s(),a.data.set(s,u)),u}},tR=typeof WeakMap=="function"?WeakMap:Map,Ee=0,ze=null,ne=null,he=0,we=0,zi=null,qa=!1,mu=!1,Wp=!1,Fr=0,Xe=0,Ga=0,fl=0,Kp=0,os=0,pu=0,Dc=null,di=null,Yp=!1,Xp=0,Nf=1/0,zf=null,Za=null,kn=0,Wa=null,gu=null,_u=0,Qp=0,$p=null,Z0=null,kc=0,Jp=null;function Vi(){if((Ee&2)!==0&&he!==0)return he&-he;if(it.T!==null){var s=su;return s!==0?s:ag()}return Us()}function W0(){os===0&&(os=(he&536870912)===0||Gt?zo():536870912);var s=as.current;return s!==null&&(s.flags|=32),os}function Bi(s,a,u){(s===ze&&(we===2||we===9)||s.cancelPendingCommit!==null)&&(yu(s,0),Ka(s,he,os,!1)),Gi(s,u),((Ee&2)===0||s!==ze)&&(s===ze&&((Ee&2)===0&&(fl|=u),Xe===4&&Ka(s,he,os,!1)),nr(s))}function K0(s,a,u){if((Ee&6)!==0)throw Error(i(327));var d=!u&&(a&124)===0&&(a&s.expiredLanes)===0||Ti(s,a),y=d?iR(s,a):ng(s,a,!0),b=d;do{if(y===0){mu&&!d&&Ka(s,a,0,!1);break}else{if(u=s.current.alternate,b&&!eR(u)){y=ng(s,a,!1),b=!1;continue}if(y===2){if(b=a,s.errorRecoveryDisabledLanes&b)var C=0;else C=s.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){a=C;t:{var P=s;y=Dc;var G=P.current.memoizedState.isDehydrated;if(G&&(yu(P,C).flags|=256),C=ng(P,C,!1),C!==2){if(Wp&&!G){P.errorRecoveryDisabledLanes|=b,fl|=b,y=4;break t}b=di,di=y,b!==null&&(di===null?di=b:di.push.apply(di,b))}y=C}if(b=!1,y!==2)continue}}if(y===1){yu(s,0),Ka(s,a,0,!0);break}t:{switch(d=s,b=y,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Ka(d,a,os,!qa);break t;case 2:di=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(y=Xp+300-Bn(),10<y)){if(Ka(d,a,os,!qa),ua(d,0,!0)!==0)break t;d.timeoutHandle=wb(Y0.bind(null,d,u,di,zf,Yp,a,os,fl,pu,qa,b,2,-0,0),y);break t}Y0(d,u,di,zf,Yp,a,os,fl,pu,qa,b,0,-0,0)}}break}while(!0);nr(s)}function Y0(s,a,u,d,y,b,C,P,G,st,ht,dt,rt,at){if(s.timeoutHandle=-1,dt=a.subtreeFlags,(dt&8192||(dt&16785408)===16785408)&&(jc={stylesheets:null,count:0,unsuspend:NR},H0(a),dt=VR(),dt!==null)){s.cancelPendingCommit=dt(nb.bind(null,s,a,b,u,d,y,C,P,G,ht,1,rt,at)),Ka(s,b,C,!st);return}nb(s,a,b,u,d,y,C,P,G)}function eR(s){for(var a=s;;){var u=a.tag;if((u===0||u===11||u===15)&&a.flags&16384&&(u=a.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var d=0;d<u.length;d++){var y=u[d],b=y.getSnapshot;y=y.value;try{if(!ei(b(),y))return!1}catch{return!1}}if(u=a.child,a.subtreeFlags&16384&&u!==null)u.return=a,a=u;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ka(s,a,u,d){a&=~Kp,a&=~fl,s.suspendedLanes|=a,s.pingedLanes&=~a,d&&(s.warmLanes|=a),d=s.expirationTimes;for(var y=a;0<y;){var b=31-vn(y),C=1<<b;d[b]=-1,y&=~C}u!==0&&Zi(s,u,a)}function Vf(){return(Ee&6)===0?(Lc(0),!1):!0}function tg(){if(ne!==null){if(we===0)var s=ne.return;else s=ne,Cs=rs=null,_p(s),cu=null,xc=0,s=ne;for(;s!==null;)C0(s.alternate,s),s=s.return;ne=null}}function yu(s,a){var u=s.timeoutHandle;u!==-1&&(s.timeoutHandle=-1,vR(u)),u=s.cancelPendingCommit,u!==null&&(s.cancelPendingCommit=null,u()),tg(),ze=s,ne=u=ss(s.current,null),he=a,we=0,zi=null,qa=!1,mu=Ti(s,a),Wp=!1,pu=os=Kp=fl=Ga=Xe=0,di=Dc=null,Yp=!1,(a&8)!==0&&(a|=a&32);var d=s.entangledLanes;if(d!==0)for(s=s.entanglements,d&=a;0<d;){var y=31-vn(d),b=1<<y;a|=s[y],d&=~b}return Fr=a,tl(),u}function X0(s,a){$t=null,it.H=xf,a===gc||a===pf?(a=dv(),we=3):a===cv?(a=dv(),we=4):we=a===m0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,zi=a,ne===null&&(Xe=1,Mf(s,ii(a,s.current)))}function Q0(){var s=it.H;return it.H=xf,s===null?xf:s}function $0(){var s=it.A;return it.A=JA,s}function eg(){Xe=4,qa||(he&4194048)!==he&&as.current!==null||(mu=!0),(Ga&134217727)===0&&(fl&134217727)===0||ze===null||Ka(ze,he,os,!1)}function ng(s,a,u){var d=Ee;Ee|=2;var y=Q0(),b=$0();(ze!==s||he!==a)&&(zf=null,yu(s,a)),a=!1;var C=Xe;t:do try{if(we!==0&&ne!==null){var P=ne,G=zi;switch(we){case 8:tg(),C=6;break t;case 3:case 2:case 9:case 6:as.current===null&&(a=!0);var st=we;if(we=0,zi=null,vu(s,P,G,st),u&&mu){C=0;break t}break;default:st=we,we=0,zi=null,vu(s,P,G,st)}}nR(),C=Xe;break}catch(ht){X0(s,ht)}while(!0);return a&&s.shellSuspendCounter++,Cs=rs=null,Ee=d,it.H=y,it.A=b,ne===null&&(ze=null,he=0,tl()),C}function nR(){for(;ne!==null;)J0(ne)}function iR(s,a){var u=Ee;Ee|=2;var d=Q0(),y=$0();ze!==s||he!==a?(zf=null,Nf=Bn()+500,yu(s,a)):mu=Ti(s,a);t:do try{if(we!==0&&ne!==null){a=ne;var b=zi;e:switch(we){case 1:we=0,zi=null,vu(s,a,b,1);break;case 2:case 9:if(hv(b)){we=0,zi=null,tb(a);break}a=function(){we!==2&&we!==9||ze!==s||(we=7),nr(s)},b.then(a,a);break t;case 3:we=7;break t;case 4:we=5;break t;case 7:hv(b)?(we=0,zi=null,tb(a)):(we=0,zi=null,vu(s,a,b,7));break;case 5:var C=null;switch(ne.tag){case 26:C=ne.memoizedState;case 5:case 27:var P=ne;if(!C||Lb(C)){we=0,zi=null;var G=P.sibling;if(G!==null)ne=G;else{var st=P.return;st!==null?(ne=st,Bf(st)):ne=null}break e}}we=0,zi=null,vu(s,a,b,5);break;case 6:we=0,zi=null,vu(s,a,b,6);break;case 8:tg(),Xe=6;break t;default:throw Error(i(462))}}sR();break}catch(ht){X0(s,ht)}while(!0);return Cs=rs=null,it.H=d,it.A=y,Ee=u,ne!==null?0:(ze=null,he=0,tl(),Xe)}function sR(){for(;ne!==null&&!oa();)J0(ne)}function J0(s){var a=A0(s.alternate,s,Fr);s.memoizedProps=s.pendingProps,a===null?Bf(s):ne=a}function tb(s){var a=s,u=a.alternate;switch(a.tag){case 15:case 0:a=b0(u,a,a.pendingProps,a.type,void 0,he);break;case 11:a=b0(u,a,a.pendingProps,a.type.render,a.ref,he);break;case 5:_p(a);default:C0(u,a),a=ne=fc(a,Fr),a=A0(u,a,Fr)}s.memoizedProps=s.pendingProps,a===null?Bf(s):ne=a}function vu(s,a,u,d){Cs=rs=null,_p(a),cu=null,xc=0;var y=a.return;try{if(WA(s,y,a,u,he)){Xe=1,Mf(s,ii(u,s.current)),ne=null;return}}catch(b){if(y!==null)throw ne=y,b;Xe=1,Mf(s,ii(u,s.current)),ne=null;return}a.flags&32768?(Gt||d===1?s=!0:mu||(he&536870912)!==0?s=!1:(qa=s=!0,(d===2||d===9||d===3||d===6)&&(d=as.current,d!==null&&d.tag===13&&(d.flags|=16384))),eb(a,s)):Bf(a)}function Bf(s){var a=s;do{if((a.flags&32768)!==0){eb(a,qa);return}s=a.return;var u=YA(a.alternate,a,Fr);if(u!==null){ne=u;return}if(a=a.sibling,a!==null){ne=a;return}ne=a=s}while(a!==null);Xe===0&&(Xe=5)}function eb(s,a){do{var u=XA(s.alternate,s);if(u!==null){u.flags&=32767,ne=u;return}if(u=s.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!a&&(s=s.sibling,s!==null)){ne=s;return}ne=s=u}while(s!==null);Xe=6,ne=null}function nb(s,a,u,d,y,b,C,P,G){s.cancelPendingCommit=null;do Uf();while(kn!==0);if((Ee&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=ki,Vo(s,u,b,C,P,G),s===ze&&(ne=ze=null,he=0),gu=a,Wa=s,_u=u,Qp=b,$p=y,Z0=d,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,lR(ms,function(){return ob(),null})):(s.callbackNode=null,s.callbackPriority=0),d=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||d){d=it.T,it.T=null,y=vt.p,vt.p=2,C=Ee,Ee|=4;try{QA(s,a,u)}finally{Ee=C,vt.p=y,it.T=d}}kn=1,ib(),sb(),rb()}}function ib(){if(kn===1){kn=0;var s=Wa,a=gu,u=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||u){u=it.T,it.T=null;var d=vt.p;vt.p=2;var y=Ee;Ee|=4;try{B0(a,s);var b=mg,C=Qo(s.containerInfo),P=b.focusedElem,G=b.selectionRange;if(C!==P&&P&&P.ownerDocument&&Xl(P.ownerDocument.documentElement,P)){if(G!==null&&$o(P)){var st=G.start,ht=G.end;if(ht===void 0&&(ht=st),"selectionStart"in P)P.selectionStart=st,P.selectionEnd=Math.min(ht,P.value.length);else{var dt=P.ownerDocument||document,rt=dt&&dt.defaultView||window;if(rt.getSelection){var at=rt.getSelection(),qt=P.textContent.length,Bt=Math.min(G.start,qt),Ie=G.end===void 0?Bt:Math.min(G.end,qt);!at.extend&&Bt>Ie&&(C=Ie,Ie=Bt,Bt=C);var Q=cc(P,Bt),Y=cc(P,Ie);if(Q&&Y&&(at.rangeCount!==1||at.anchorNode!==Q.node||at.anchorOffset!==Q.offset||at.focusNode!==Y.node||at.focusOffset!==Y.offset)){var nt=dt.createRange();nt.setStart(Q.node,Q.offset),at.removeAllRanges(),Bt>Ie?(at.addRange(nt),at.extend(Y.node,Y.offset)):(nt.setEnd(Y.node,Y.offset),at.addRange(nt))}}}}for(dt=[],at=P;at=at.parentNode;)at.nodeType===1&&dt.push({element:at,left:at.scrollLeft,top:at.scrollTop});for(typeof P.focus=="function"&&P.focus(),P=0;P<dt.length;P++){var ft=dt[P];ft.element.scrollLeft=ft.left,ft.element.scrollTop=ft.top}}$f=!!dg,mg=dg=null}finally{Ee=y,vt.p=d,it.T=u}}s.current=a,kn=2}}function sb(){if(kn===2){kn=0;var s=Wa,a=gu,u=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||u){u=it.T,it.T=null;var d=vt.p;vt.p=2;var y=Ee;Ee|=4;try{L0(s,a.alternate,a)}finally{Ee=y,vt.p=d,it.T=u}}kn=3}}function rb(){if(kn===4||kn===3){kn=0,Oo();var s=Wa,a=gu,u=_u,d=Z0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?kn=5:(kn=0,gu=Wa=null,ab(s,s.pendingLanes));var y=s.pendingLanes;if(y===0&&(Za=null),ha(u),a=a.stateNode,me&&typeof me.onCommitFiberRoot=="function")try{me.onCommitFiberRoot(Oe,a,void 0,(a.current.flags&128)===128)}catch{}if(d!==null){a=it.T,y=vt.p,vt.p=2,it.T=null;try{for(var b=s.onRecoverableError,C=0;C<d.length;C++){var P=d[C];b(P.value,{componentStack:P.stack})}}finally{it.T=a,vt.p=y}}(_u&3)!==0&&Uf(),nr(s),y=s.pendingLanes,(u&4194090)!==0&&(y&42)!==0?s===Jp?kc++:(kc=0,Jp=s):kc=0,Lc(0)}}function ab(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,mc(a)))}function Uf(s){return ib(),sb(),rb(),ob()}function ob(){if(kn!==5)return!1;var s=Wa,a=Qp;Qp=0;var u=ha(_u),d=it.T,y=vt.p;try{vt.p=32>u?32:u,it.T=null,u=$p,$p=null;var b=Wa,C=_u;if(kn=0,gu=Wa=null,_u=0,(Ee&6)!==0)throw Error(i(331));var P=Ee;if(Ee|=4,q0(b.current),j0(b,b.current,C,u),Ee=P,Lc(0,!1),me&&typeof me.onPostCommitFiberRoot=="function")try{me.onPostCommitFiberRoot(Oe,b)}catch{}return!0}finally{vt.p=y,it.T=d,ab(s,a)}}function lb(s,a,u){a=ii(u,a),a=Pp(s.stateNode,a,2),s=za(s,a,2),s!==null&&(Gi(s,2),nr(s))}function Pe(s,a,u){if(s.tag===3)lb(s,s,u);else for(;a!==null;){if(a.tag===3){lb(a,s,u);break}else if(a.tag===1){var d=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Za===null||!Za.has(d))){s=ii(u,s),u=f0(2),d=za(a,u,2),d!==null&&(d0(u,d,a,s),Gi(d,2),nr(d));break}}a=a.return}}function ig(s,a,u){var d=s.pingCache;if(d===null){d=s.pingCache=new tR;var y=new Set;d.set(a,y)}else y=d.get(a),y===void 0&&(y=new Set,d.set(a,y));y.has(u)||(Wp=!0,y.add(u),s=rR.bind(null,s,a,u),a.then(s,s))}function rR(s,a,u){var d=s.pingCache;d!==null&&d.delete(a),s.pingedLanes|=s.suspendedLanes&u,s.warmLanes&=~u,ze===s&&(he&u)===u&&(Xe===4||Xe===3&&(he&62914560)===he&&300>Bn()-Xp?(Ee&2)===0&&yu(s,0):Kp|=u,pu===he&&(pu=0)),nr(s)}function ub(s,a){a===0&&(a=ca()),s=Pa(s,a),s!==null&&(Gi(s,a),nr(s))}function aR(s){var a=s.memoizedState,u=0;a!==null&&(u=a.retryLane),ub(s,u)}function oR(s,a){var u=0;switch(s.tag){case 13:var d=s.stateNode,y=s.memoizedState;y!==null&&(u=y.retryLane);break;case 19:d=s.stateNode;break;case 22:d=s.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(a),ub(s,u)}function lR(s,a){return ds(s,a)}var jf=null,bu=null,sg=!1,Hf=!1,rg=!1,dl=0;function nr(s){s!==bu&&s.next===null&&(bu===null?jf=bu=s:bu=bu.next=s),Hf=!0,sg||(sg=!0,cR())}function Lc(s,a){if(!rg&&Hf){rg=!0;do for(var u=!1,d=jf;d!==null;){if(s!==0){var y=d.pendingLanes;if(y===0)var b=0;else{var C=d.suspendedLanes,P=d.pingedLanes;b=(1<<31-vn(42|s)+1)-1,b&=y&~(C&~P),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(u=!0,db(d,b))}else b=he,b=ua(d,d===ze?b:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(b&3)===0||Ti(d,b)||(u=!0,db(d,b));d=d.next}while(u);rg=!1}}function uR(){cb()}function cb(){Hf=sg=!1;var s=0;dl!==0&&(yR()&&(s=dl),dl=0);for(var a=Bn(),u=null,d=jf;d!==null;){var y=d.next,b=hb(d,a);b===0?(d.next=null,u===null?jf=y:u.next=y,y===null&&(bu=u)):(u=d,(s!==0||(b&3)!==0)&&(Hf=!0)),d=y}Lc(s)}function hb(s,a){for(var u=s.suspendedLanes,d=s.pingedLanes,y=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var C=31-vn(b),P=1<<C,G=y[C];G===-1?((P&u)===0||(P&d)!==0)&&(y[C]=No(P,a)):G<=a&&(s.expiredLanes|=P),b&=~P}if(a=ze,u=he,u=ua(s,s===a?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d=s.callbackNode,u===0||s===a&&(we===2||we===9)||s.cancelPendingCommit!==null)return d!==null&&d!==null&&yr(d),s.callbackNode=null,s.callbackPriority=0;if((u&3)===0||Ti(s,u)){if(a=u&-u,a===s.callbackPriority)return a;switch(d!==null&&yr(d),ha(u)){case 2:case 8:u=vr;break;case 32:u=ms;break;case 268435456:u=br;break;default:u=ms}return d=fb.bind(null,s),u=ds(u,d),s.callbackPriority=a,s.callbackNode=u,a}return d!==null&&d!==null&&yr(d),s.callbackPriority=2,s.callbackNode=null,2}function fb(s,a){if(kn!==0&&kn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var u=s.callbackNode;if(Uf()&&s.callbackNode!==u)return null;var d=he;return d=ua(s,s===ze?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),d===0?null:(K0(s,d,a),hb(s,Bn()),s.callbackNode!=null&&s.callbackNode===u?fb.bind(null,s):null)}function db(s,a){if(Uf())return null;K0(s,a,!0)}function cR(){bR(function(){(Ee&6)!==0?ds(Do,uR):cb()})}function ag(){return dl===0&&(dl=zo()),dl}function mb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Zs(""+s)}function pb(s,a){var u=a.ownerDocument.createElement("input");return u.name=a.name,u.value=a.value,s.id&&u.setAttribute("form",s.id),a.parentNode.insertBefore(u,a),s=new FormData(s),u.parentNode.removeChild(u),s}function hR(s,a,u,d,y){if(a==="submit"&&u&&u.stateNode===y){var b=mb((y[Ke]||null).action),C=d.submitter;C&&(a=(a=C[Ke]||null)?mb(a.formAction):C.getAttribute("formAction"),a!==null&&(b=a,C=null));var P=new Rr("action","action",null,d,y);s.push({event:P,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(dl!==0){var G=C?pb(y,C):new FormData(y);Ap(u,{pending:!0,data:G,method:y.method,action:b},null,G)}}else typeof b=="function"&&(P.preventDefault(),G=C?pb(y,C):new FormData(y),Ap(u,{pending:!0,data:G,method:y.method,action:b},b,G))},currentTarget:y}]})}}for(var og=0;og<Or.length;og++){var lg=Or[og],fR=lg.toLowerCase(),dR=lg[0].toUpperCase()+lg.slice(1);Di(fR,"on"+dR)}Di(af,"onAnimationEnd"),Di(Oi,"onAnimationIteration"),Di(Jo,"onAnimationStart"),Di("dblclick","onDoubleClick"),Di("focusin","onFocus"),Di("focusout","onBlur"),Di(ep,"onTransitionRun"),Di(tu,"onTransitionStart"),Di(np,"onTransitionCancel"),Di(hc,"onTransitionEnd"),Wi("onMouseEnter",["mouseout","mouseover"]),Wi("onMouseLeave",["mouseout","mouseover"]),Wi("onPointerEnter",["pointerout","pointerover"]),Wi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nc));function gb(s,a){a=(a&4)!==0;for(var u=0;u<s.length;u++){var d=s[u],y=d.event;d=d.listeners;t:{var b=void 0;if(a)for(var C=d.length-1;0<=C;C--){var P=d[C],G=P.instance,st=P.currentTarget;if(P=P.listener,G!==b&&y.isPropagationStopped())break t;b=P,y.currentTarget=st;try{b(y)}catch(ht){If(ht)}y.currentTarget=null,b=G}else for(C=0;C<d.length;C++){if(P=d[C],G=P.instance,st=P.currentTarget,P=P.listener,G!==b&&y.isPropagationStopped())break t;b=P,y.currentTarget=st;try{b(y)}catch(ht){If(ht)}y.currentTarget=null,b=G}}}}function ie(s,a){var u=a[jn];u===void 0&&(u=a[jn]=new Set);var d=s+"__bubble";u.has(d)||(_b(a,s,2,!1),u.add(d))}function ug(s,a,u){var d=0;a&&(d|=4),_b(u,s,d,a)}var Ff="_reactListening"+Math.random().toString(36).slice(2);function cg(s){if(!s[Ff]){s[Ff]=!0,jo.forEach(function(u){u!=="selectionchange"&&(mR.has(u)||ug(u,!1,s),ug(u,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Ff]||(a[Ff]=!0,ug("selectionchange",!1,a))}}function _b(s,a,u,d){switch(jb(a)){case 2:var y=jR;break;case 8:y=HR;break;default:y=Sg}u=y.bind(null,a,u,s),y=void 0,!Hn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(y=!0),d?y!==void 0?s.addEventListener(a,u,{capture:!0,passive:y}):s.addEventListener(a,u,!0):y!==void 0?s.addEventListener(a,u,{passive:y}):s.addEventListener(a,u,!1)}function hg(s,a,u,d,y){var b=d;if((a&1)===0&&(a&2)===0&&d!==null)t:for(;;){if(d===null)return;var C=d.tag;if(C===3||C===4){var P=d.stateNode.containerInfo;if(P===y)break;if(C===4)for(C=d.return;C!==null;){var G=C.tag;if((G===3||G===4)&&C.stateNode.containerInfo===y)return;C=C.return}for(;P!==null;){if(C=Ei(P),C===null)return;if(G=C.tag,G===5||G===6||G===26||G===27){d=b=C;continue t}P=P.parentNode}}d=d.return}ti(function(){var st=b,ht=On(u),dt=[];t:{var rt=of.get(s);if(rt!==void 0){var at=Rr,qt=s;switch(s){case"keypress":if(Ae(u)===0)break t;case"keydown":case"keyup":at=Ea;break;case"focusin":qt="focus",at=_a;break;case"focusout":qt="blur",at=_a;break;case"beforeblur":case"afterblur":at=_a;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":at=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":at=rc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":at=Zl;break;case af:case Oi:case Jo:at=va;break;case hc:at=Wl;break;case"scroll":case"scrollend":at=ql;break;case"wheel":at=Mr;break;case"copy":case"cut":case"paste":at=Ws;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":at=wa;break;case"toggle":case"beforetoggle":at=ts}var Bt=(a&4)!==0,Ie=!Bt&&(s==="scroll"||s==="scrollend"),Q=Bt?rt!==null?rt+"Capture":null:rt;Bt=[];for(var Y=st,nt;Y!==null;){var ft=Y;if(nt=ft.stateNode,ft=ft.tag,ft!==5&&ft!==26&&ft!==27||nt===null||Q===null||(ft=ce(Y,Q),ft!=null&&Bt.push(zc(Y,ft,nt))),Ie)break;Y=Y.return}0<Bt.length&&(rt=new at(rt,qt,null,u,ht),dt.push({event:rt,listeners:Bt}))}}if((a&7)===0){t:{if(rt=s==="mouseover"||s==="pointerover",at=s==="mouseout"||s==="pointerout",rt&&u!==Ri&&(qt=u.relatedTarget||u.fromElement)&&(Ei(qt)||qt[oi]))break t;if((at||rt)&&(rt=ht.window===ht?ht:(rt=ht.ownerDocument)?rt.defaultView||rt.parentWindow:window,at?(qt=u.relatedTarget||u.toElement,at=st,qt=qt?Ei(qt):null,qt!==null&&(Ie=o(qt),Bt=qt.tag,qt!==Ie||Bt!==5&&Bt!==27&&Bt!==6)&&(qt=null)):(at=null,qt=st),at!==qt)){if(Bt=wn,ft="onMouseLeave",Q="onMouseEnter",Y="mouse",(s==="pointerout"||s==="pointerover")&&(Bt=wa,ft="onPointerLeave",Q="onPointerEnter",Y="pointer"),Ie=at==null?rt:Mn(at),nt=qt==null?rt:Mn(qt),rt=new Bt(ft,Y+"leave",at,u,ht),rt.target=Ie,rt.relatedTarget=nt,ft=null,Ei(ht)===st&&(Bt=new Bt(Q,Y+"enter",qt,u,ht),Bt.target=nt,Bt.relatedTarget=Ie,ft=Bt),Ie=ft,at&&qt)e:{for(Bt=at,Q=qt,Y=0,nt=Bt;nt;nt=Tu(nt))Y++;for(nt=0,ft=Q;ft;ft=Tu(ft))nt++;for(;0<Y-nt;)Bt=Tu(Bt),Y--;for(;0<nt-Y;)Q=Tu(Q),nt--;for(;Y--;){if(Bt===Q||Q!==null&&Bt===Q.alternate)break e;Bt=Tu(Bt),Q=Tu(Q)}Bt=null}else Bt=null;at!==null&&yb(dt,rt,at,Bt,!1),qt!==null&&Ie!==null&&yb(dt,Ie,qt,Bt,!0)}}t:{if(rt=st?Mn(st):window,at=rt.nodeName&&rt.nodeName.toLowerCase(),at==="select"||at==="input"&&rt.type==="file")var It=xa;else if(Le(rt))if(oc)It=tp;else{It=Jm;var ee=uc}else at=rt.nodeName,!at||at.toLowerCase()!=="input"||rt.type!=="checkbox"&&rt.type!=="radio"?st&&Ar(st.elementType)&&(It=xa):It=Rs;if(It&&(It=It(s,st))){xs(dt,It,u,ht);break t}ee&&ee(s,rt,st),s==="focusout"&&st&&rt.type==="number"&&st.memoizedProps.value!=null&&xi(rt,"number",rt.value)}switch(ee=st?Mn(st):window,s){case"focusin":(Le(ee)||ee.contentEditable==="true")&&(Pi=ee,Ca=st,Pr=null);break;case"focusout":Pr=Ca=Pi=null;break;case"mousedown":$l=!0;break;case"contextmenu":case"mouseup":case"dragend":$l=!1,sf(dt,u,ht);break;case"selectionchange":if(Ql)break;case"keydown":case"keyup":sf(dt,u,ht)}var Dt;if(Gn)t:{switch(s){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else re?lt(s,u)&&(Ut="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Ut="onCompositionStart");Ut&&(A&&u.locale!=="ko"&&(re||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&re&&(Dt=Ts()):(ui=ht,Fn="value"in ui?ui.value:ui.textContent,re=!0)),ee=qf(st,Ut),0<ee.length&&(Ut=new qn(Ut,s,null,u,ht),dt.push({event:Ut,listeners:ee}),Dt?Ut.data=Dt:(Dt=wt(u),Dt!==null&&(Ut.data=Dt)))),(Dt=w?Ye(s,u):ae(s,u))&&(Ut=qf(st,"onBeforeInput"),0<Ut.length&&(ee=new qn("onBeforeInput","beforeinput",null,u,ht),dt.push({event:ee,listeners:Ut}),ee.data=Dt)),hR(dt,s,st,u,ht)}gb(dt,a)})}function zc(s,a,u){return{instance:s,listener:a,currentTarget:u}}function qf(s,a){for(var u=a+"Capture",d=[];s!==null;){var y=s,b=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||b===null||(y=ce(s,u),y!=null&&d.unshift(zc(s,y,b)),y=ce(s,a),y!=null&&d.push(zc(s,y,b))),s.tag===3)return d;s=s.return}return[]}function Tu(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function yb(s,a,u,d,y){for(var b=a._reactName,C=[];u!==null&&u!==d;){var P=u,G=P.alternate,st=P.stateNode;if(P=P.tag,G!==null&&G===d)break;P!==5&&P!==26&&P!==27||st===null||(G=st,y?(st=ce(u,b),st!=null&&C.unshift(zc(u,st,G))):y||(st=ce(u,b),st!=null&&C.push(zc(u,st,G)))),u=u.return}C.length!==0&&s.push({event:a,listeners:C})}var pR=/\r\n?/g,gR=/\u0000|\uFFFD/g;function vb(s){return(typeof s=="string"?s:""+s).replace(pR,`
`).replace(gR,"")}function bb(s,a){return a=vb(a),vb(s)===a}function Gf(){}function Ce(s,a,u,d,y,b){switch(u){case"children":typeof d=="string"?a==="body"||a==="textarea"&&d===""||Tn(s,d):(typeof d=="number"||typeof d=="bigint")&&a!=="body"&&Tn(s,""+d);break;case"className":Ki(s,"class",d);break;case"tabIndex":Ki(s,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(s,u,d);break;case"style":vs(s,d,b);break;case"data":if(a!=="object"){Ki(s,"data",d);break}case"src":case"href":if(d===""&&(a!=="a"||u!=="href")){s.removeAttribute(u);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=Zs(""+d),s.setAttribute(u,d);break;case"action":case"formAction":if(typeof d=="function"){s.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(u==="formAction"?(a!=="input"&&Ce(s,a,"name",y.name,y,null),Ce(s,a,"formEncType",y.formEncType,y,null),Ce(s,a,"formMethod",y.formMethod,y,null),Ce(s,a,"formTarget",y.formTarget,y,null)):(Ce(s,a,"encType",y.encType,y,null),Ce(s,a,"method",y.method,y,null),Ce(s,a,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){s.removeAttribute(u);break}d=Zs(""+d),s.setAttribute(u,d);break;case"onClick":d!=null&&(s.onclick=Gf);break;case"onScroll":d!=null&&ie("scroll",s);break;case"onScrollEnd":d!=null&&ie("scrollend",s);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"multiple":s.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":s.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){s.removeAttribute("xlink:href");break}u=Zs(""+d),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""+d):s.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,""):s.removeAttribute(u);break;case"capture":case"download":d===!0?s.setAttribute(u,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?s.setAttribute(u,d):s.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?s.setAttribute(u,d):s.removeAttribute(u);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?s.removeAttribute(u):s.setAttribute(u,d);break;case"popover":ie("beforetoggle",s),ie("toggle",s),Hs(s,"popover",d);break;case"xlinkActuate":hn(s,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":hn(s,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":hn(s,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":hn(s,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":hn(s,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":hn(s,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":hn(s,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":hn(s,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":hn(s,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":Hs(s,"is",d);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=Fo.get(u)||u,Hs(s,u,d))}}function fg(s,a,u,d,y,b){switch(u){case"style":vs(s,d,b);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(u=d.__html,u!=null){if(y.children!=null)throw Error(i(60));s.innerHTML=u}}break;case"children":typeof d=="string"?Tn(s,d):(typeof d=="number"||typeof d=="bigint")&&Tn(s,""+d);break;case"onScroll":d!=null&&ie("scroll",s);break;case"onScrollEnd":d!=null&&ie("scrollend",s);break;case"onClick":d!=null&&(s.onclick=Gf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!da.hasOwnProperty(u))t:{if(u[0]==="o"&&u[1]==="n"&&(y=u.endsWith("Capture"),a=u.slice(2,y?u.length-7:void 0),b=s[Ke]||null,b=b!=null?b[u]:null,typeof b=="function"&&s.removeEventListener(a,b,y),typeof d=="function")){typeof b!="function"&&b!==null&&(u in s?s[u]=null:s.hasAttribute(u)&&s.removeAttribute(u)),s.addEventListener(a,d,y);break t}u in s?s[u]=d:d===!0?s.setAttribute(u,""):Hs(s,u,d)}}}function Ln(s,a,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",s),ie("load",s);var d=!1,y=!1,b;for(b in u)if(u.hasOwnProperty(b)){var C=u[b];if(C!=null)switch(b){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ce(s,a,b,C,u,null)}}y&&Ce(s,a,"srcSet",u.srcSet,u,null),d&&Ce(s,a,"src",u.src,u,null);return;case"input":ie("invalid",s);var P=b=C=y=null,G=null,st=null;for(d in u)if(u.hasOwnProperty(d)){var ht=u[d];if(ht!=null)switch(d){case"name":y=ht;break;case"type":C=ht;break;case"checked":G=ht;break;case"defaultChecked":st=ht;break;case"value":b=ht;break;case"defaultValue":P=ht;break;case"children":case"dangerouslySetInnerHTML":if(ht!=null)throw Error(i(137,a));break;default:Ce(s,a,d,ht,u,null)}}xr(s,b,P,G,st,C,y,!1),Gs(s);return;case"select":ie("invalid",s),d=C=b=null;for(y in u)if(u.hasOwnProperty(y)&&(P=u[y],P!=null))switch(y){case"value":b=P;break;case"defaultValue":C=P;break;case"multiple":d=P;default:Ce(s,a,y,P,u,null)}a=b,u=C,s.multiple=!!d,a!=null?Pn(s,!!d,a,!1):u!=null&&Pn(s,!!d,u,!0);return;case"textarea":ie("invalid",s),b=y=d=null;for(C in u)if(u.hasOwnProperty(C)&&(P=u[C],P!=null))switch(C){case"value":d=P;break;case"defaultValue":y=P;break;case"children":b=P;break;case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(91));break;default:Ce(s,a,C,P,u,null)}Jn(s,d,y,b),Gs(s);return;case"option":for(G in u)if(u.hasOwnProperty(G)&&(d=u[G],d!=null))switch(G){case"selected":s.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:Ce(s,a,G,d,u,null)}return;case"dialog":ie("beforetoggle",s),ie("toggle",s),ie("cancel",s),ie("close",s);break;case"iframe":case"object":ie("load",s);break;case"video":case"audio":for(d=0;d<Nc.length;d++)ie(Nc[d],s);break;case"image":ie("error",s),ie("load",s);break;case"details":ie("toggle",s);break;case"embed":case"source":case"link":ie("error",s),ie("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(st in u)if(u.hasOwnProperty(st)&&(d=u[st],d!=null))switch(st){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ce(s,a,st,d,u,null)}return;default:if(Ar(a)){for(ht in u)u.hasOwnProperty(ht)&&(d=u[ht],d!==void 0&&fg(s,a,ht,d,u,void 0));return}}for(P in u)u.hasOwnProperty(P)&&(d=u[P],d!=null&&Ce(s,a,P,d,u,null))}function _R(s,a,u,d){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,b=null,C=null,P=null,G=null,st=null,ht=null;for(at in u){var dt=u[at];if(u.hasOwnProperty(at)&&dt!=null)switch(at){case"checked":break;case"value":break;case"defaultValue":G=dt;default:d.hasOwnProperty(at)||Ce(s,a,at,null,d,dt)}}for(var rt in d){var at=d[rt];if(dt=u[rt],d.hasOwnProperty(rt)&&(at!=null||dt!=null))switch(rt){case"type":b=at;break;case"name":y=at;break;case"checked":st=at;break;case"defaultChecked":ht=at;break;case"value":C=at;break;case"defaultValue":P=at;break;case"children":case"dangerouslySetInnerHTML":if(at!=null)throw Error(i(137,a));break;default:at!==dt&&Ce(s,a,rt,at,d,dt)}}ke(s,C,P,G,st,ht,b,y);return;case"select":at=C=P=rt=null;for(b in u)if(G=u[b],u.hasOwnProperty(b)&&G!=null)switch(b){case"value":break;case"multiple":at=G;default:d.hasOwnProperty(b)||Ce(s,a,b,null,d,G)}for(y in d)if(b=d[y],G=u[y],d.hasOwnProperty(y)&&(b!=null||G!=null))switch(y){case"value":rt=b;break;case"defaultValue":P=b;break;case"multiple":C=b;default:b!==G&&Ce(s,a,y,b,d,G)}a=P,u=C,d=at,rt!=null?Pn(s,!!u,rt,!1):!!d!=!!u&&(a!=null?Pn(s,!!u,a,!0):Pn(s,!!u,u?[]:"",!1));return;case"textarea":at=rt=null;for(P in u)if(y=u[P],u.hasOwnProperty(P)&&y!=null&&!d.hasOwnProperty(P))switch(P){case"value":break;case"children":break;default:Ce(s,a,P,null,d,y)}for(C in d)if(y=d[C],b=u[C],d.hasOwnProperty(C)&&(y!=null||b!=null))switch(C){case"value":rt=y;break;case"defaultValue":at=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==b&&Ce(s,a,C,y,d,b)}jt(s,rt,at);return;case"option":for(var qt in u)if(rt=u[qt],u.hasOwnProperty(qt)&&rt!=null&&!d.hasOwnProperty(qt))switch(qt){case"selected":s.selected=!1;break;default:Ce(s,a,qt,null,d,rt)}for(G in d)if(rt=d[G],at=u[G],d.hasOwnProperty(G)&&rt!==at&&(rt!=null||at!=null))switch(G){case"selected":s.selected=rt&&typeof rt!="function"&&typeof rt!="symbol";break;default:Ce(s,a,G,rt,d,at)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in u)rt=u[Bt],u.hasOwnProperty(Bt)&&rt!=null&&!d.hasOwnProperty(Bt)&&Ce(s,a,Bt,null,d,rt);for(st in d)if(rt=d[st],at=u[st],d.hasOwnProperty(st)&&rt!==at&&(rt!=null||at!=null))switch(st){case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,a));break;default:Ce(s,a,st,rt,d,at)}return;default:if(Ar(a)){for(var Ie in u)rt=u[Ie],u.hasOwnProperty(Ie)&&rt!==void 0&&!d.hasOwnProperty(Ie)&&fg(s,a,Ie,void 0,d,rt);for(ht in d)rt=d[ht],at=u[ht],!d.hasOwnProperty(ht)||rt===at||rt===void 0&&at===void 0||fg(s,a,ht,rt,d,at);return}}for(var Q in u)rt=u[Q],u.hasOwnProperty(Q)&&rt!=null&&!d.hasOwnProperty(Q)&&Ce(s,a,Q,null,d,rt);for(dt in d)rt=d[dt],at=u[dt],!d.hasOwnProperty(dt)||rt===at||rt==null&&at==null||Ce(s,a,dt,rt,d,at)}var dg=null,mg=null;function Zf(s){return s.nodeType===9?s:s.ownerDocument}function Tb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Eb(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function pg(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var gg=null;function yR(){var s=window.event;return s&&s.type==="popstate"?s===gg?!1:(gg=s,!0):(gg=null,!1)}var wb=typeof setTimeout=="function"?setTimeout:void 0,vR=typeof clearTimeout=="function"?clearTimeout:void 0,Sb=typeof Promise=="function"?Promise:void 0,bR=typeof queueMicrotask=="function"?queueMicrotask:typeof Sb<"u"?function(s){return Sb.resolve(null).then(s).catch(TR)}:wb;function TR(s){setTimeout(function(){throw s})}function Ya(s){return s==="head"}function xb(s,a){var u=a,d=0,y=0;do{var b=u.nextSibling;if(s.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"){if(0<d&&8>d){u=d;var C=s.ownerDocument;if(u&1&&Vc(C.documentElement),u&2&&Vc(C.body),u&4)for(u=C.head,Vc(u),C=u.firstChild;C;){var P=C.nextSibling,G=C.nodeName;C[js]||G==="SCRIPT"||G==="STYLE"||G==="LINK"&&C.rel.toLowerCase()==="stylesheet"||u.removeChild(C),C=P}}if(y===0){s.removeChild(b),Zc(a);return}y--}else u==="$"||u==="$?"||u==="$!"?y++:d=u.charCodeAt(0)-48;else d=0;u=b}while(u);Zc(a)}function _g(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var u=a;switch(a=a.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":_g(u),_s(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}s.removeChild(u)}}function ER(s,a,u,d){for(;s.nodeType===1;){var y=u;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!d&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(d){if(!s[js])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==y.rel||s.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||s.getAttribute("title")!==(y.title==null?null:y.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(y.src==null?null:y.src)||s.getAttribute("type")!==(y.type==null?null:y.type)||s.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=y.name==null?null:""+y.name;if(y.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=Ps(s.nextSibling),s===null)break}return null}function wR(s,a,u){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!u||(s=Ps(s.nextSibling),s===null))return null;return s}function yg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function SR(s,a){var u=s.ownerDocument;if(s.data!=="$?"||u.readyState==="complete")a();else{var d=function(){a(),u.removeEventListener("DOMContentLoaded",d)};u.addEventListener("DOMContentLoaded",d),s._reactRetry=d}}function Ps(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var vg=null;function Ab(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(a===0)return s;a--}else u==="/$"&&a++}s=s.previousSibling}return null}function Rb(s,a,u){switch(a=Zf(u),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Vc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);_s(s)}var ls=new Map,Cb=new Set;function Wf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var qr=vt.d;vt.d={f:xR,r:AR,D:RR,C:CR,L:IR,m:MR,X:OR,S:PR,M:DR};function xR(){var s=qr.f(),a=Vf();return s||a}function AR(s){var a=wi(s);a!==null&&a.tag===5&&a.type==="form"?Kv(a):qr.r(s)}var Eu=typeof document>"u"?null:document;function Ib(s,a,u){var d=Eu;if(d&&typeof a=="string"&&a){var y=Ve(a);y='link[rel="'+s+'"][href="'+y+'"]',typeof u=="string"&&(y+='[crossorigin="'+u+'"]'),Cb.has(y)||(Cb.add(y),s={rel:s,crossOrigin:u,href:a},d.querySelector(y)===null&&(a=d.createElement("link"),Ln(a,"link",s),Fe(a),d.head.appendChild(a)))}}function RR(s){qr.D(s),Ib("dns-prefetch",s,null)}function CR(s,a){qr.C(s,a),Ib("preconnect",s,a)}function IR(s,a,u){qr.L(s,a,u);var d=Eu;if(d&&s&&a){var y='link[rel="preload"][as="'+Ve(a)+'"]';a==="image"&&u&&u.imageSrcSet?(y+='[imagesrcset="'+Ve(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(y+='[imagesizes="'+Ve(u.imageSizes)+'"]')):y+='[href="'+Ve(s)+'"]';var b=y;switch(a){case"style":b=wu(s);break;case"script":b=Su(s)}ls.has(b)||(s=v({rel:"preload",href:a==="image"&&u&&u.imageSrcSet?void 0:s,as:a},u),ls.set(b,s),d.querySelector(y)!==null||a==="style"&&d.querySelector(Bc(b))||a==="script"&&d.querySelector(Uc(b))||(a=d.createElement("link"),Ln(a,"link",s),Fe(a),d.head.appendChild(a)))}}function MR(s,a){qr.m(s,a);var u=Eu;if(u&&s){var d=a&&typeof a.as=="string"?a.as:"script",y='link[rel="modulepreload"][as="'+Ve(d)+'"][href="'+Ve(s)+'"]',b=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=Su(s)}if(!ls.has(b)&&(s=v({rel:"modulepreload",href:s},a),ls.set(b,s),u.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(Uc(b)))return}d=u.createElement("link"),Ln(d,"link",s),Fe(d),u.head.appendChild(d)}}}function PR(s,a,u){qr.S(s,a,u);var d=Eu;if(d&&s){var y=bn(d).hoistableStyles,b=wu(s);a=a||"default";var C=y.get(b);if(!C){var P={loading:0,preload:null};if(C=d.querySelector(Bc(b)))P.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":a},u),(u=ls.get(b))&&bg(s,u);var G=C=d.createElement("link");Fe(G),Ln(G,"link",s),G._p=new Promise(function(st,ht){G.onload=st,G.onerror=ht}),G.addEventListener("load",function(){P.loading|=1}),G.addEventListener("error",function(){P.loading|=2}),P.loading|=4,Kf(C,a,d)}C={type:"stylesheet",instance:C,count:1,state:P},y.set(b,C)}}}function OR(s,a){qr.X(s,a);var u=Eu;if(u&&s){var d=bn(u).hoistableScripts,y=Su(s),b=d.get(y);b||(b=u.querySelector(Uc(y)),b||(s=v({src:s,async:!0},a),(a=ls.get(y))&&Tg(s,a),b=u.createElement("script"),Fe(b),Ln(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function DR(s,a){qr.M(s,a);var u=Eu;if(u&&s){var d=bn(u).hoistableScripts,y=Su(s),b=d.get(y);b||(b=u.querySelector(Uc(y)),b||(s=v({src:s,async:!0,type:"module"},a),(a=ls.get(y))&&Tg(s,a),b=u.createElement("script"),Fe(b),Ln(b,"link",s),u.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},d.set(y,b))}}function Mb(s,a,u,d){var y=(y=Et.current)?Wf(y):null;if(!y)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(a=wu(u.href),u=bn(y).hoistableStyles,d=u.get(a),d||(d={type:"style",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){s=wu(u.href);var b=bn(y).hoistableStyles,C=b.get(s);if(C||(y=y.ownerDocument||y,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,C),(b=y.querySelector(Bc(s)))&&!b._p&&(C.instance=b,C.state.loading=5),ls.has(s)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ls.set(s,u),b||kR(y,s,u,C.state))),a&&d===null)throw Error(i(528,""));return C}if(a&&d!==null)throw Error(i(529,""));return null;case"script":return a=u.async,u=u.src,typeof u=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Su(u),u=bn(y).hoistableScripts,d=u.get(a),d||(d={type:"script",instance:null,count:0,state:null},u.set(a,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function wu(s){return'href="'+Ve(s)+'"'}function Bc(s){return'link[rel="stylesheet"]['+s+"]"}function Pb(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function kR(s,a,u,d){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?d.loading=1:(a=s.createElement("link"),d.preload=a,a.addEventListener("load",function(){return d.loading|=1}),a.addEventListener("error",function(){return d.loading|=2}),Ln(a,"link",u),Fe(a),s.head.appendChild(a))}function Su(s){return'[src="'+Ve(s)+'"]'}function Uc(s){return"script[async]"+s}function Ob(s,a,u){if(a.count++,a.instance===null)switch(a.type){case"style":var d=s.querySelector('style[data-href~="'+Ve(u.href)+'"]');if(d)return a.instance=d,Fe(d),d;var y=v({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return d=(s.ownerDocument||s).createElement("style"),Fe(d),Ln(d,"style",y),Kf(d,u.precedence,s),a.instance=d;case"stylesheet":y=wu(u.href);var b=s.querySelector(Bc(y));if(b)return a.state.loading|=4,a.instance=b,Fe(b),b;d=Pb(u),(y=ls.get(y))&&bg(d,y),b=(s.ownerDocument||s).createElement("link"),Fe(b);var C=b;return C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),Ln(b,"link",d),a.state.loading|=4,Kf(b,u.precedence,s),a.instance=b;case"script":return b=Su(u.src),(y=s.querySelector(Uc(b)))?(a.instance=y,Fe(y),y):(d=u,(y=ls.get(b))&&(d=v({},u),Tg(d,y)),s=s.ownerDocument||s,y=s.createElement("script"),Fe(y),Ln(y,"link",d),s.head.appendChild(y),a.instance=y);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(d=a.instance,a.state.loading|=4,Kf(d,u.precedence,s));return a.instance}function Kf(s,a,u){for(var d=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,b=y,C=0;C<d.length;C++){var P=d[C];if(P.dataset.precedence===a)b=P;else if(b!==y)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=u.nodeType===9?u.head:u,a.insertBefore(s,a.firstChild))}function bg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Tg(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Yf=null;function Db(s,a,u){if(Yf===null){var d=new Map,y=Yf=new Map;y.set(u,d)}else y=Yf,d=y.get(u),d||(d=new Map,y.set(u,d));if(d.has(s))return d;for(d.set(s,null),u=u.getElementsByTagName(s),y=0;y<u.length;y++){var b=u[y];if(!(b[js]||b[$e]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var C=b.getAttribute(a)||"";C=s+C;var P=d.get(C);P?P.push(b):d.set(C,[b])}}return d}function kb(s,a,u){s=s.ownerDocument||s,s.head.insertBefore(u,a==="title"?s.querySelector("head > title"):null)}function LR(s,a,u){if(u===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Lb(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var jc=null;function NR(){}function zR(s,a,u){if(jc===null)throw Error(i(475));var d=jc;if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var y=wu(u.href),b=s.querySelector(Bc(y));if(b){s=b._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(d.count++,d=Xf.bind(d),s.then(d,d)),a.state.loading|=4,a.instance=b,Fe(b);return}b=s.ownerDocument||s,u=Pb(u),(y=ls.get(y))&&bg(u,y),b=b.createElement("link"),Fe(b);var C=b;C._p=new Promise(function(P,G){C.onload=P,C.onerror=G}),Ln(b,"link",u),a.instance=b}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(d.count++,a=Xf.bind(d),s.addEventListener("load",a),s.addEventListener("error",a))}}function VR(){if(jc===null)throw Error(i(475));var s=jc;return s.stylesheets&&s.count===0&&Eg(s,s.stylesheets),0<s.count?function(a){var u=setTimeout(function(){if(s.stylesheets&&Eg(s,s.stylesheets),s.unsuspend){var d=s.unsuspend;s.unsuspend=null,d()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(u)}}:null}function Xf(){if(this.count--,this.count===0){if(this.stylesheets)Eg(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Qf=null;function Eg(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Qf=new Map,a.forEach(BR,s),Qf=null,Xf.call(s))}function BR(s,a){if(!(a.state.loading&4)){var u=Qf.get(s);if(u)var d=u.get(null);else{u=new Map,Qf.set(s,u);for(var y=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<y.length;b++){var C=y[b];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),d=C)}d&&u.set(null,d)}y=a.instance,C=y.getAttribute("data-precedence"),b=u.get(C)||d,b===d&&u.set(null,y),u.set(C,y),this.count++,d=Xf.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),b?b.parentNode.insertBefore(y,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(y,s.firstChild)),a.state.loading|=4}}var Hc={$$typeof:W,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function UR(s,a,u,d,y,b,C,P){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=b,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=P,this.incompleteTransitions=new Map}function Nb(s,a,u,d,y,b,C,P,G,st,ht,dt){return s=new UR(s,a,u,C,P,G,st,dt),a=1,b===!0&&(a|=24),b=ri(3,null,null,a),s.current=b,b.stateNode=s,a=ip(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:d,isDehydrated:u,cache:a},op(b),s}function zb(s){return s?(s=Lr,s):Lr}function Vb(s,a,u,d,y,b){y=zb(y),d.context===null?d.context=y:d.pendingContext=y,d=Na(a),d.payload={element:u},b=b===void 0?null:b,b!==null&&(d.callback=b),u=za(s,d,a),u!==null&&(Bi(u,s,a),yc(u,s,a))}function Bb(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<a?u:a}}function wg(s,a){Bb(s,a),(s=s.alternate)&&Bb(s,a)}function Ub(s){if(s.tag===13){var a=Pa(s,67108864);a!==null&&Bi(a,s,67108864),wg(s,67108864)}}var $f=!0;function jR(s,a,u,d){var y=it.T;it.T=null;var b=vt.p;try{vt.p=2,Sg(s,a,u,d)}finally{vt.p=b,it.T=y}}function HR(s,a,u,d){var y=it.T;it.T=null;var b=vt.p;try{vt.p=8,Sg(s,a,u,d)}finally{vt.p=b,it.T=y}}function Sg(s,a,u,d){if($f){var y=xg(d);if(y===null)hg(s,a,d,Jf,u),Hb(s,d);else if(qR(y,s,a,u,d))d.stopPropagation();else if(Hb(s,d),a&4&&-1<FR.indexOf(s)){for(;y!==null;){var b=wi(y);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var C=ai(b.pendingLanes);if(C!==0){var P=b;for(P.pendingLanes|=2,P.entangledLanes|=2;C;){var G=1<<31-vn(C);P.entanglements[1]|=G,C&=~G}nr(b),(Ee&6)===0&&(Nf=Bn()+500,Lc(0))}}break;case 13:P=Pa(b,2),P!==null&&Bi(P,b,2),Vf(),wg(b,2)}if(b=xg(d),b===null&&hg(s,a,d,Jf,u),b===y)break;y=b}y!==null&&d.stopPropagation()}else hg(s,a,d,null,u)}}function xg(s){return s=On(s),Ag(s)}var Jf=null;function Ag(s){if(Jf=null,s=Ei(s),s!==null){var a=o(s);if(a===null)s=null;else{var u=a.tag;if(u===13){if(s=c(a),s!==null)return s;s=null}else if(u===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Jf=s,null}function jb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(la()){case Do:return 2;case vr:return 8;case ms:case Bl:return 32;case br:return 268435456;default:return 32}default:return 32}}var Rg=!1,Xa=null,Qa=null,$a=null,Fc=new Map,qc=new Map,Ja=[],FR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hb(s,a){switch(s){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Fc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":qc.delete(a.pointerId)}}function Gc(s,a,u,d,y,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:u,eventSystemFlags:d,nativeEvent:b,targetContainers:[y]},a!==null&&(a=wi(a),a!==null&&Ub(a)),s):(s.eventSystemFlags|=d,a=s.targetContainers,y!==null&&a.indexOf(y)===-1&&a.push(y),s)}function qR(s,a,u,d,y){switch(a){case"focusin":return Xa=Gc(Xa,s,a,u,d,y),!0;case"dragenter":return Qa=Gc(Qa,s,a,u,d,y),!0;case"mouseover":return $a=Gc($a,s,a,u,d,y),!0;case"pointerover":var b=y.pointerId;return Fc.set(b,Gc(Fc.get(b)||null,s,a,u,d,y)),!0;case"gotpointercapture":return b=y.pointerId,qc.set(b,Gc(qc.get(b)||null,s,a,u,d,y)),!0}return!1}function Fb(s){var a=Ei(s.target);if(a!==null){var u=o(a);if(u!==null){if(a=u.tag,a===13){if(a=c(u),a!==null){s.blockedOn=a,fa(s.priority,function(){if(u.tag===13){var d=Vi();d=Bs(d);var y=Pa(u,d);y!==null&&Bi(y,u,d),wg(u,d)}});return}}else if(a===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function td(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var u=xg(s.nativeEvent);if(u===null){u=s.nativeEvent;var d=new u.constructor(u.type,u);Ri=d,u.target.dispatchEvent(d),Ri=null}else return a=wi(u),a!==null&&Ub(a),s.blockedOn=u,!1;a.shift()}return!0}function qb(s,a,u){td(s)&&u.delete(a)}function GR(){Rg=!1,Xa!==null&&td(Xa)&&(Xa=null),Qa!==null&&td(Qa)&&(Qa=null),$a!==null&&td($a)&&($a=null),Fc.forEach(qb),qc.forEach(qb)}function ed(s,a){s.blockedOn===a&&(s.blockedOn=null,Rg||(Rg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,GR)))}var nd=null;function Gb(s){nd!==s&&(nd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){nd===s&&(nd=null);for(var a=0;a<s.length;a+=3){var u=s[a],d=s[a+1],y=s[a+2];if(typeof d!="function"){if(Ag(d||u)===null)continue;break}var b=wi(u);b!==null&&(s.splice(a,3),a-=3,Ap(b,{pending:!0,data:y,method:u.method,action:d},d,y))}}))}function Zc(s){function a(G){return ed(G,s)}Xa!==null&&ed(Xa,s),Qa!==null&&ed(Qa,s),$a!==null&&ed($a,s),Fc.forEach(a),qc.forEach(a);for(var u=0;u<Ja.length;u++){var d=Ja[u];d.blockedOn===s&&(d.blockedOn=null)}for(;0<Ja.length&&(u=Ja[0],u.blockedOn===null);)Fb(u),u.blockedOn===null&&Ja.shift();if(u=(s.ownerDocument||s).$$reactFormReplay,u!=null)for(d=0;d<u.length;d+=3){var y=u[d],b=u[d+1],C=y[Ke]||null;if(typeof b=="function")C||Gb(u);else if(C){var P=null;if(b&&b.hasAttribute("formAction")){if(y=b,C=b[Ke]||null)P=C.formAction;else if(Ag(y)!==null)continue}else P=C.action;typeof P=="function"?u[d+1]=P:(u.splice(d,3),d-=3),Gb(u)}}}function Cg(s){this._internalRoot=s}id.prototype.render=Cg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var u=a.current,d=Vi();Vb(u,d,s,a,null,null)},id.prototype.unmount=Cg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Vb(s.current,2,null,s,null,null),Vf(),a[oi]=null}};function id(s){this._internalRoot=s}id.prototype.unstable_scheduleHydration=function(s){if(s){var a=Us();s={blockedOn:null,target:s,priority:a};for(var u=0;u<Ja.length&&a!==0&&a<Ja[u].priority;u++);Ja.splice(u,0,s),u===0&&Fb(s)}};var Zb=t.version;if(Zb!=="19.1.0")throw Error(i(527,Zb,"19.1.0"));vt.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var ZR={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:it,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sd.isDisabled&&sd.supportsFiber)try{Oe=sd.inject(ZR),me=sd}catch{}}return Kc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var u=!1,d="",y=l0,b=u0,C=c0,P=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(y=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(C=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(P=a.unstable_transitionCallbacks)),a=Nb(s,1,!1,null,null,u,d,y,b,C,P,null),s[oi]=a.current,cg(s),new Cg(a)},Kc.hydrateRoot=function(s,a,u){if(!r(s))throw Error(i(299));var d=!1,y="",b=l0,C=u0,P=c0,G=null,st=null;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onUncaughtError!==void 0&&(b=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(P=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(G=u.unstable_transitionCallbacks),u.formState!==void 0&&(st=u.formState)),a=Nb(s,1,!0,a,u??null,d,y,b,C,P,G,st),a.context=zb(null),u=a.current,d=Vi(),d=Bs(d),y=Na(d),y.callback=null,za(u,y,d),u=d,a.current.lanes=u,Gi(a,u),nr(a),s[oi]=a.current,cg(s),new id(a)},Kc.version="19.1.0",Kc}var nT;function iC(){if(nT)return Pg.exports;nT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Pg.exports=nC(),Pg.exports}var sC=iC();const rC=q_(sC);var Yc={},iT;function aC(){if(iT)return Yc;iT=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.parse=c,Yc.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,o=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,R){const I=new o,O=x.length;if(O<2)return I;const D=(R==null?void 0:R.decode)||v;let V=0;do{const K=x.indexOf("=",V);if(K===-1)break;const W=x.indexOf(";",V),ut=W===-1?O:W;if(K>ut){V=x.lastIndexOf(";",K-1)+1;continue}const et=f(x,V,K),_t=m(x,K,et),B=x.slice(et,_t);if(I[B]===void 0){let k=f(x,K+1,ut),z=m(x,ut,k);const H=D(x.slice(k,z));I[B]=H}V=ut+1}while(V<O);return I}function f(x,R,I){do{const O=x.charCodeAt(R);if(O!==32&&O!==9)return R}while(++R<I);return I}function m(x,R,I){for(;R>I;){const O=x.charCodeAt(--R);if(O!==32&&O!==9)return R+1}return I}function p(x,R,I){const O=(I==null?void 0:I.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const D=O(R);if(!t.test(D))throw new TypeError(`argument val is invalid: ${R}`);let V=x+"="+D;if(!I)return V;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);V+="; Max-Age="+I.maxAge}if(I.domain){if(!e.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);V+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);V+="; Path="+I.path}if(I.expires){if(!E(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);V+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(V+="; HttpOnly"),I.secure&&(V+="; Secure"),I.partitioned&&(V+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return V}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function E(x){return r.call(x)==="[object Date]"}return Yc}aC();var sT="popstate";function oC(n={}){function t(i,r){let{pathname:o,search:c,hash:f}=i.location;return a_("",{pathname:o,search:c,hash:f},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function e(i,r){return typeof r=="string"?r:Sh(r)}return uC(t,e,null,n)}function Ze(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function dr(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function lC(){return Math.random().toString(36).substring(2,10)}function rT(n,t){return{usr:n.state,key:n.key,idx:t}}function a_(n,t,e=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Xu(t):t,state:e,key:t&&t.key||i||lC()}}function Sh({pathname:n="/",search:t="",hash:e=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(n+=e.charAt(0)==="#"?e:"#"+e),n}function Xu(n){let t={};if(n){let e=n.indexOf("#");e>=0&&(t.hash=n.substring(e),n=n.substring(0,e));let i=n.indexOf("?");i>=0&&(t.search=n.substring(i),n=n.substring(0,i)),n&&(t.pathname=n)}return t}function uC(n,t,e,i={}){let{window:r=document.defaultView,v5Compat:o=!1}=i,c=r.history,f="POP",m=null,p=v();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function v(){return(c.state||{idx:null}).idx}function E(){f="POP";let D=v(),V=D==null?null:D-p;p=D,m&&m({action:f,location:O.location,delta:V})}function x(D,V){f="PUSH";let K=a_(O.location,D,V);p=v()+1;let W=rT(K,p),ut=O.createHref(K);try{c.pushState(W,"",ut)}catch(et){if(et instanceof DOMException&&et.name==="DataCloneError")throw et;r.location.assign(ut)}o&&m&&m({action:f,location:O.location,delta:1})}function R(D,V){f="REPLACE";let K=a_(O.location,D,V);p=v();let W=rT(K,p),ut=O.createHref(K);c.replaceState(W,"",ut),o&&m&&m({action:f,location:O.location,delta:0})}function I(D){return cC(D)}let O={get action(){return f},get location(){return n(r,c)},listen(D){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(sT,E),m=D,()=>{r.removeEventListener(sT,E),m=null}},createHref(D){return t(r,D)},createURL:I,encodeLocation(D){let V=I(D);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:x,replace:R,go(D){return c.go(D)}};return O}function cC(n,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(e,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Sh(n);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=e+i),new URL(i,e)}function Jw(n,t,e="/"){return hC(n,t,e,!1)}function hC(n,t,e,i){let r=typeof t=="string"?Xu(t):t,o=ea(r.pathname||"/",e);if(o==null)return null;let c=tS(n);fC(c);let f=null;for(let m=0;f==null&&m<c.length;++m){let p=wC(o);f=TC(c[m],p,i)}return f}function tS(n,t=[],e=[],i=""){let r=(o,c,f)=>{let m={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};m.relativePath.startsWith("/")&&(Ze(m.relativePath.startsWith(i),`Absolute route path "${m.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(i.length));let p=$r([i,m.relativePath]),v=e.concat(m);o.children&&o.children.length>0&&(Ze(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),tS(o.children,t,v,p)),!(o.path==null&&!o.index)&&t.push({path:p,score:vC(p,o.index),routesMeta:v})};return n.forEach((o,c)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))r(o,c);else for(let m of eS(o.path))r(o,c,m)}),t}function eS(n){let t=n.split("/");if(t.length===0)return[];let[e,...i]=t,r=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return r?[o,""]:[o];let c=eS(i.join("/")),f=[];return f.push(...c.map(m=>m===""?o:[o,m].join("/"))),r&&f.push(...c),f.map(m=>n.startsWith("/")&&m===""?"/":m)}function fC(n){n.sort((t,e)=>t.score!==e.score?e.score-t.score:bC(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var dC=/^:[\w-]+$/,mC=3,pC=2,gC=1,_C=10,yC=-2,aT=n=>n==="*";function vC(n,t){let e=n.split("/"),i=e.length;return e.some(aT)&&(i+=yC),t&&(i+=pC),e.filter(r=>!aT(r)).reduce((r,o)=>r+(dC.test(o)?mC:o===""?gC:_C),i)}function bC(n,t){return n.length===t.length&&n.slice(0,-1).every((i,r)=>i===t[r])?n[n.length-1]-t[t.length-1]:0}function TC(n,t,e=!1){let{routesMeta:i}=n,r={},o="/",c=[];for(let f=0;f<i.length;++f){let m=i[f],p=f===i.length-1,v=o==="/"?t:t.slice(o.length)||"/",E=Zd({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),x=m.route;if(!E&&p&&e&&!i[i.length-1].route.index&&(E=Zd({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!E)return null;Object.assign(r,E.params),c.push({params:r,pathname:$r([o,E.pathname]),pathnameBase:RC($r([o,E.pathnameBase])),route:x}),E.pathnameBase!=="/"&&(o=$r([o,E.pathnameBase]))}return c}function Zd(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[e,i]=EC(n.path,n.caseSensitive,n.end),r=t.match(e);if(!r)return null;let o=r[0],c=o.replace(/(.)\/+$/,"$1"),f=r.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:E},x)=>{if(v==="*"){let I=f[x]||"";c=o.slice(0,o.length-I.length).replace(/(.)\/+$/,"$1")}const R=f[x];return E&&!R?p[v]=void 0:p[v]=(R||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:n}}function EC(n,t=!1,e=!0){dr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,m)=>(i.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),i]}function wC(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ea(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=n.charAt(e);return i&&i!=="/"?null:n.slice(e)||"/"}function SC(n,t="/"){let{pathname:e,search:i="",hash:r=""}=typeof n=="string"?Xu(n):n;return{pathname:e?e.startsWith("/")?e:xC(e,t):t,search:CC(i),hash:IC(r)}}function xC(n,t){let e=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?e.length>1&&e.pop():r!=="."&&e.push(r)}),e.length>1?e.join("/"):"/"}function Lg(n,t,e,i){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AC(n){return n.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function nS(n){let t=AC(n);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function iS(n,t,e,i=!1){let r;typeof n=="string"?r=Xu(n):(r={...n},Ze(!r.pathname||!r.pathname.includes("?"),Lg("?","pathname","search",r)),Ze(!r.pathname||!r.pathname.includes("#"),Lg("#","pathname","hash",r)),Ze(!r.search||!r.search.includes("#"),Lg("#","search","hash",r)));let o=n===""||r.pathname==="",c=o?"/":r.pathname,f;if(c==null)f=e;else{let E=t.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),E-=1;r.pathname=x.join("/")}f=E>=0?t[E]:"/"}let m=SC(r,f),p=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&e.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var $r=n=>n.join("/").replace(/\/\/+/g,"/"),RC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),CC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,IC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function MC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var sS=["POST","PUT","PATCH","DELETE"];new Set(sS);var PC=["GET",...sS];new Set(PC);var Qu=$.createContext(null);Qu.displayName="DataRouter";var Rm=$.createContext(null);Rm.displayName="DataRouterState";var rS=$.createContext({isTransitioning:!1});rS.displayName="ViewTransition";var OC=$.createContext(new Map);OC.displayName="Fetchers";var DC=$.createContext(null);DC.displayName="Await";var gr=$.createContext(null);gr.displayName="Navigation";var jh=$.createContext(null);jh.displayName="Location";var _r=$.createContext({outlet:null,matches:[],isDataRoute:!1});_r.displayName="Route";var Z_=$.createContext(null);Z_.displayName="RouteError";function kC(n,{relative:t}={}){Ze(Hh(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=$.useContext(gr),{hash:r,pathname:o,search:c}=Fh(n,{relative:t}),f=o;return e!=="/"&&(f=o==="/"?e:$r([e,o])),i.createHref({pathname:f,search:c,hash:r})}function Hh(){return $.useContext(jh)!=null}function Co(){return Ze(Hh(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(jh).location}var aS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oS(n){$.useContext(gr).static||$.useLayoutEffect(n)}function Cm(){let{isDataRoute:n}=$.useContext(_r);return n?YC():LC()}function LC(){Ze(Hh(),"useNavigate() may be used only in the context of a <Router> component.");let n=$.useContext(Qu),{basename:t,navigator:e}=$.useContext(gr),{matches:i}=$.useContext(_r),{pathname:r}=Co(),o=JSON.stringify(nS(i)),c=$.useRef(!1);return oS(()=>{c.current=!0}),$.useCallback((m,p={})=>{if(dr(c.current,aS),!c.current)return;if(typeof m=="number"){e.go(m);return}let v=iS(m,JSON.parse(o),r,p.relative==="path");n==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:$r([t,v.pathname])),(p.replace?e.replace:e.push)(v,p.state,p)},[t,e,o,r,n])}var NC=$.createContext(null);function zC(n){let t=$.useContext(_r).outlet;return t&&$.createElement(NC.Provider,{value:n},t)}function Fh(n,{relative:t}={}){let{matches:e}=$.useContext(_r),{pathname:i}=Co(),r=JSON.stringify(nS(e));return $.useMemo(()=>iS(n,JSON.parse(r),i,t==="path"),[n,r,i,t])}function VC(n,t){return lS(n,t)}function lS(n,t,e,i){var K;Ze(Hh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r,static:o}=$.useContext(gr),{matches:c}=$.useContext(_r),f=c[c.length-1],m=f?f.params:{},p=f?f.pathname:"/",v=f?f.pathnameBase:"/",E=f&&f.route;{let W=E&&E.path||"";uS(p,!E||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let x=Co(),R;if(t){let W=typeof t=="string"?Xu(t):t;Ze(v==="/"||((K=W.pathname)==null?void 0:K.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),R=W}else R=x;let I=R.pathname||"/",O=I;if(v!=="/"){let W=v.replace(/^\//,"").split("/");O="/"+I.replace(/^\//,"").split("/").slice(W.length).join("/")}let D=!o&&e&&e.matches&&e.matches.length>0?e.matches:Jw(n,{pathname:O});dr(E||D!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),dr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let V=FC(D&&D.map(W=>Object.assign({},W,{params:Object.assign({},m,W.params),pathname:$r([v,r.encodeLocation?r.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:$r([v,r.encodeLocation?r.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),c,e,i);return t&&V?$.createElement(jh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...R},navigationType:"POP"}},V):V}function BC(){let n=KC(),t=MC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),e=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=$.createElement($.Fragment,null,$.createElement("p",null,"💿 Hey developer 👋"),$.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",$.createElement("code",{style:o},"ErrorBoundary")," or"," ",$.createElement("code",{style:o},"errorElement")," prop on your route.")),$.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),e?$.createElement("pre",{style:r},e):null,c)}var UC=$.createElement(BC,null),jC=class extends $.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){console.error("React Router caught the following error during render",n,t)}render(){return this.state.error!==void 0?$.createElement(_r.Provider,{value:this.props.routeContext},$.createElement(Z_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HC({routeContext:n,match:t,children:e}){let i=$.useContext(Qu);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(_r.Provider,{value:n},e)}function FC(n,t=[],e=null,i=null){if(n==null){if(!e)return null;if(e.errors)n=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)n=e.matches;else return null}let r=n,o=e==null?void 0:e.errors;if(o!=null){let m=r.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);Ze(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),r=r.slice(0,Math.min(r.length,m+1))}let c=!1,f=-1;if(e)for(let m=0;m<r.length;m++){let p=r[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=m),p.route.id){let{loaderData:v,errors:E}=e,x=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!E||E[p.route.id]===void 0);if(p.route.lazy||x){c=!0,f>=0?r=r.slice(0,f+1):r=[r[0]];break}}}return r.reduceRight((m,p,v)=>{let E,x=!1,R=null,I=null;e&&(E=o&&p.route.id?o[p.route.id]:void 0,R=p.route.errorElement||UC,c&&(f<0&&v===0?(uS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,I=null):f===v&&(x=!0,I=p.route.hydrateFallbackElement||null)));let O=t.concat(r.slice(0,v+1)),D=()=>{let V;return E?V=R:x?V=I:p.route.Component?V=$.createElement(p.route.Component,null):p.route.element?V=p.route.element:V=m,$.createElement(HC,{match:p,routeContext:{outlet:m,matches:O,isDataRoute:e!=null},children:V})};return e&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?$.createElement(jC,{location:e.location,revalidation:e.revalidation,component:R,error:E,children:D(),routeContext:{outlet:null,matches:O,isDataRoute:!0}}):D()},null)}function W_(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qC(n){let t=$.useContext(Qu);return Ze(t,W_(n)),t}function GC(n){let t=$.useContext(Rm);return Ze(t,W_(n)),t}function ZC(n){let t=$.useContext(_r);return Ze(t,W_(n)),t}function K_(n){let t=ZC(n),e=t.matches[t.matches.length-1];return Ze(e.route.id,`${n} can only be used on routes that contain a unique "id"`),e.route.id}function WC(){return K_("useRouteId")}function KC(){var i;let n=$.useContext(Z_),t=GC("useRouteError"),e=K_("useRouteError");return n!==void 0?n:(i=t.errors)==null?void 0:i[e]}function YC(){let{router:n}=qC("useNavigate"),t=K_("useNavigate"),e=$.useRef(!1);return oS(()=>{e.current=!0}),$.useCallback(async(r,o={})=>{dr(e.current,aS),e.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:t,...o}))},[n,t])}var oT={};function uS(n,t,e){!t&&!oT[n]&&(oT[n]=!0,dr(!1,e))}$.memo(XC);function XC({routes:n,future:t,state:e}){return lS(n,void 0,e,t)}function QC(n){return zC(n.context)}function sr(n){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $C({basename:n="/",children:t=null,location:e,navigationType:i="POP",navigator:r,static:o=!1}){Ze(!Hh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),f=$.useMemo(()=>({basename:c,navigator:r,static:o,future:{}}),[c,r,o]);typeof e=="string"&&(e=Xu(e));let{pathname:m="/",search:p="",hash:v="",state:E=null,key:x="default"}=e,R=$.useMemo(()=>{let I=ea(m,c);return I==null?null:{location:{pathname:I,search:p,hash:v,state:E,key:x},navigationType:i}},[c,m,p,v,E,x,i]);return dr(R!=null,`<Router basename="${c}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:$.createElement(gr.Provider,{value:f},$.createElement(jh.Provider,{children:t,value:R}))}function JC({children:n,location:t}){return VC(o_(n),t)}function o_(n,t=[]){let e=[];return $.Children.forEach(n,(i,r)=>{if(!$.isValidElement(i))return;let o=[...t,r];if(i.type===$.Fragment){e.push.apply(e,o_(i.props.children,o));return}Ze(i.type===sr,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=o_(i.props.children,o)),e.push(c)}),e}var Cd="get",Id="application/x-www-form-urlencoded";function Im(n){return n!=null&&typeof n.tagName=="string"}function t2(n){return Im(n)&&n.tagName.toLowerCase()==="button"}function e2(n){return Im(n)&&n.tagName.toLowerCase()==="form"}function n2(n){return Im(n)&&n.tagName.toLowerCase()==="input"}function i2(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function s2(n,t){return n.button===0&&(!t||t==="_self")&&!i2(n)}var rd=null;function r2(){if(rd===null)try{new FormData(document.createElement("form"),0),rd=!1}catch{rd=!0}return rd}var a2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ng(n){return n!=null&&!a2.has(n)?(dr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Id}"`),null):n}function o2(n,t){let e,i,r,o,c;if(e2(n)){let f=n.getAttribute("action");i=f?ea(f,t):null,e=n.getAttribute("method")||Cd,r=Ng(n.getAttribute("enctype"))||Id,o=new FormData(n)}else if(t2(n)||n2(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||f.getAttribute("action");if(i=m?ea(m,t):null,e=n.getAttribute("formmethod")||f.getAttribute("method")||Cd,r=Ng(n.getAttribute("formenctype"))||Ng(f.getAttribute("enctype"))||Id,o=new FormData(f,n),!r2()){let{name:p,type:v,value:E}=n;if(v==="image"){let x=p?`${p}.`:"";o.append(`${x}x`,"0"),o.append(`${x}y`,"0")}else p&&o.append(p,E)}}else{if(Im(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Cd,i=null,r=Id,c=n}return o&&r==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:r,formData:o,body:c}}function Y_(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}async function l2(n,t){if(n.id in t)return t[n.id];try{let e=await import(n.module);return t[n.id]=e,e}catch(e){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function u2(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function c2(n,t,e){let i=await Promise.all(n.map(async r=>{let o=t.routes[r.route.id];if(o){let c=await l2(o,e);return c.links?c.links():[]}return[]}));return m2(i.flat(1).filter(u2).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function lT(n,t,e,i,r,o){let c=(m,p)=>e[p]?m.route.id!==e[p].route.id:!0,f=(m,p)=>{var v;return e[p].pathname!==m.pathname||((v=e[p].route.path)==null?void 0:v.endsWith("*"))&&e[p].params["*"]!==m.params["*"]};return o==="assets"?t.filter((m,p)=>c(m,p)||f(m,p)):o==="data"?t.filter((m,p)=>{var E;let v=i.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,p)||f(m,p))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((E=e[0])==null?void 0:E.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function h2(n,t,{includeHydrateFallback:e}={}){return f2(n.map(i=>{let r=t.routes[i.route.id];if(!r)return[];let o=[r.module];return r.clientActionModule&&(o=o.concat(r.clientActionModule)),r.clientLoaderModule&&(o=o.concat(r.clientLoaderModule)),e&&r.hydrateFallbackModule&&(o=o.concat(r.hydrateFallbackModule)),r.imports&&(o=o.concat(r.imports)),o}).flat(1))}function f2(n){return[...new Set(n)]}function d2(n){let t={},e=Object.keys(n).sort();for(let i of e)t[i]=n[i];return t}function m2(n,t){let e=new Set;return new Set(t),n.reduce((i,r)=>{let o=JSON.stringify(d2(r));return e.has(o)||(e.add(o),i.push({key:o,link:r})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var p2=new Set([100,101,204,205]);function g2(n,t){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":t&&ea(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function cS(){let n=$.useContext(Qu);return Y_(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _2(){let n=$.useContext(Rm);return Y_(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var X_=$.createContext(void 0);X_.displayName="FrameworkContext";function hS(){let n=$.useContext(X_);return Y_(n,"You must render this element inside a <HydratedRouter> element"),n}function y2(n,t){let e=$.useContext(X_),[i,r]=$.useState(!1),[o,c]=$.useState(!1),{onFocus:f,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:E}=t,x=$.useRef(null);$.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let O=V=>{V.forEach(K=>{c(K.isIntersecting)})},D=new IntersectionObserver(O,{threshold:.5});return x.current&&D.observe(x.current),()=>{D.disconnect()}}},[n]),$.useEffect(()=>{if(i){let O=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(O)}}},[i]);let R=()=>{r(!0)},I=()=>{r(!1),c(!1)};return e?n!=="intent"?[o,x,{}]:[o,x,{onFocus:Xc(f,R),onBlur:Xc(m,I),onMouseEnter:Xc(p,R),onMouseLeave:Xc(v,I),onTouchStart:Xc(E,R)}]:[!1,x,{}]}function Xc(n,t){return e=>{n&&n(e),e.defaultPrevented||t(e)}}function v2({page:n,...t}){let{router:e}=cS(),i=$.useMemo(()=>Jw(e.routes,n,e.basename),[e.routes,n,e.basename]);return i?$.createElement(T2,{page:n,matches:i,...t}):null}function b2(n){let{manifest:t,routeModules:e}=hS(),[i,r]=$.useState([]);return $.useEffect(()=>{let o=!1;return c2(n,t,e).then(c=>{o||r(c)}),()=>{o=!0}},[n,t,e]),i}function T2({page:n,matches:t,...e}){let i=Co(),{manifest:r,routeModules:o}=hS(),{basename:c}=cS(),{loaderData:f,matches:m}=_2(),p=$.useMemo(()=>lT(n,t,m,r,i,"data"),[n,t,m,r,i]),v=$.useMemo(()=>lT(n,t,m,r,i,"assets"),[n,t,m,r,i]),E=$.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let I=new Set,O=!1;if(t.forEach(V=>{var W;let K=r.routes[V.route.id];!K||!K.hasLoader||(!p.some(ut=>ut.route.id===V.route.id)&&V.route.id in f&&((W=o[V.route.id])!=null&&W.shouldRevalidate)||K.hasClientLoader?O=!0:I.add(V.route.id))}),I.size===0)return[];let D=g2(n,c);return O&&I.size>0&&D.searchParams.set("_routes",t.filter(V=>I.has(V.route.id)).map(V=>V.route.id).join(",")),[D.pathname+D.search]},[c,f,i,r,p,t,n,o]),x=$.useMemo(()=>h2(v,r),[v,r]),R=b2(v);return $.createElement($.Fragment,null,E.map(I=>$.createElement("link",{key:I,rel:"prefetch",as:"fetch",href:I,...e})),x.map(I=>$.createElement("link",{key:I,rel:"modulepreload",href:I,...e})),R.map(({key:I,link:O})=>$.createElement("link",{key:I,...O})))}function E2(...n){return t=>{n.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var fS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{fS&&(window.__reactRouterVersion="7.6.0")}catch{}function w2({basename:n,children:t,window:e}){let i=$.useRef();i.current==null&&(i.current=oC({window:e,v5Compat:!0}));let r=i.current,[o,c]=$.useState({action:r.action,location:r.location}),f=$.useCallback(m=>{$.startTransition(()=>c(m))},[c]);return $.useLayoutEffect(()=>r.listen(f),[r,f]),$.createElement($C,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:r})}var dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Os=$.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:r,reloadDocument:o,replace:c,state:f,target:m,to:p,preventScrollReset:v,viewTransition:E,...x},R){let{basename:I}=$.useContext(gr),O=typeof p=="string"&&dS.test(p),D,V=!1;if(typeof p=="string"&&O&&(D=p,fS))try{let z=new URL(window.location.href),H=p.startsWith("//")?new URL(z.protocol+p):new URL(p),F=ea(H.pathname,I);H.origin===z.origin&&F!=null?p=F+H.search+H.hash:V=!0}catch{dr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let K=kC(p,{relative:r}),[W,ut,et]=y2(i,x),_t=A2(p,{replace:c,state:f,target:m,preventScrollReset:v,relative:r,viewTransition:E});function B(z){t&&t(z),z.defaultPrevented||_t(z)}let k=$.createElement("a",{...x,...et,href:D||K,onClick:V||o?t:B,ref:E2(R,ut),target:m,"data-discover":!O&&e==="render"?"true":void 0});return W&&!O?$.createElement($.Fragment,null,k,$.createElement(v2,{page:K})):k});Os.displayName="Link";var nh=$.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:r=!1,style:o,to:c,viewTransition:f,children:m,...p},v){let E=Fh(c,{relative:p.relative}),x=Co(),R=$.useContext(Rm),{navigator:I,basename:O}=$.useContext(gr),D=R!=null&&P2(E)&&f===!0,V=I.encodeLocation?I.encodeLocation(E).pathname:E.pathname,K=x.pathname,W=R&&R.navigation&&R.navigation.location?R.navigation.location.pathname:null;e||(K=K.toLowerCase(),W=W?W.toLowerCase():null,V=V.toLowerCase()),W&&O&&(W=ea(W,O)||W);const ut=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let et=K===V||!r&&K.startsWith(V)&&K.charAt(ut)==="/",_t=W!=null&&(W===V||!r&&W.startsWith(V)&&W.charAt(V.length)==="/"),B={isActive:et,isPending:_t,isTransitioning:D},k=et?t:void 0,z;typeof i=="function"?z=i(B):z=[i,et?"active":null,_t?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let H=typeof o=="function"?o(B):o;return $.createElement(Os,{...p,"aria-current":k,className:z,ref:v,style:H,to:c,viewTransition:f},typeof m=="function"?m(B):m)});nh.displayName="NavLink";var S2=$.forwardRef(({discover:n="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:r,state:o,method:c=Cd,action:f,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:E,...x},R)=>{let I=I2(),O=M2(f,{relative:p}),D=c.toLowerCase()==="get"?"get":"post",V=typeof f=="string"&&dS.test(f),K=W=>{if(m&&m(W),W.defaultPrevented)return;W.preventDefault();let ut=W.nativeEvent.submitter,et=(ut==null?void 0:ut.getAttribute("formmethod"))||c;I(ut||W.currentTarget,{fetcherKey:t,method:et,navigate:e,replace:r,state:o,relative:p,preventScrollReset:v,viewTransition:E})};return $.createElement("form",{ref:R,method:D,action:O,onSubmit:i?m:K,...x,"data-discover":!V&&n==="render"?"true":void 0})});S2.displayName="Form";function x2(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function mS(n){let t=$.useContext(Qu);return Ze(t,x2(n)),t}function A2(n,{target:t,replace:e,state:i,preventScrollReset:r,relative:o,viewTransition:c}={}){let f=Cm(),m=Co(),p=Fh(n,{relative:o});return $.useCallback(v=>{if(s2(v,t)){v.preventDefault();let E=e!==void 0?e:Sh(m)===Sh(p);f(n,{replace:E,state:i,preventScrollReset:r,relative:o,viewTransition:c})}},[m,f,p,e,i,t,n,r,o,c])}var R2=0,C2=()=>`__${String(++R2)}__`;function I2(){let{router:n}=mS("useSubmit"),{basename:t}=$.useContext(gr),e=WC();return $.useCallback(async(i,r={})=>{let{action:o,method:c,encType:f,formData:m,body:p}=o2(i,t);if(r.navigate===!1){let v=r.fetcherKey||C2();await n.fetch(v,e,r.action||o,{preventScrollReset:r.preventScrollReset,formData:m,body:p,formMethod:r.method||c,formEncType:r.encType||f,flushSync:r.flushSync})}else await n.navigate(r.action||o,{preventScrollReset:r.preventScrollReset,formData:m,body:p,formMethod:r.method||c,formEncType:r.encType||f,replace:r.replace,state:r.state,fromRouteId:e,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,t,e])}function M2(n,{relative:t}={}){let{basename:e}=$.useContext(gr),i=$.useContext(_r);Ze(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),o={...Fh(n||".",{relative:t})},c=Co();if(n==null){o.search=c.search;let f=new URLSearchParams(o.search),m=f.getAll("index");if(m.some(v=>v==="")){f.delete("index"),m.filter(E=>E).forEach(E=>f.append("index",E));let v=f.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&r.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:$r([e,o.pathname])),Sh(o)}function P2(n,t={}){let e=$.useContext(rS);Ze(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=mS("useViewTransitionState"),r=Fh(n,{relative:t.relative});if(!e.isTransitioning)return!1;let o=ea(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=ea(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Zd(r.pathname,c)!=null||Zd(r.pathname,o)!=null}[...p2];var O2=$w(),pS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},uT=ji.createContext&&ji.createContext(pS),D2=["attr","size","title"];function k2(n,t){if(n==null)return{};var e=L2(n,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(e[i]=n[i])}return e}function L2(n,t){if(n==null)return{};var e={};for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){if(t.indexOf(i)>=0)continue;e[i]=n[i]}return e}function Wd(){return Wd=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Wd.apply(this,arguments)}function cT(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),e.push.apply(e,i)}return e}function Kd(n){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(e),!0).forEach(function(i){N2(n,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):cT(Object(e)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(e,i))})}return n}function N2(n,t,e){return t=z2(t),t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function z2(n){var t=V2(n,"string");return typeof t=="symbol"?t:t+""}function V2(n,t){if(typeof n!="object"||!n)return n;var e=n[Symbol.toPrimitive];if(e!==void 0){var i=e.call(n,t);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function gS(n){return n&&n.map((t,e)=>ji.createElement(t.tag,Kd({key:e},t.attr),gS(t.child)))}function Ol(n){return t=>ji.createElement(B2,Wd({attr:Kd({},n.attr)},t),gS(n.child))}function B2(n){var t=e=>{var{attr:i,size:r,title:o}=n,c=k2(n,D2),f=r||e.size||"1em",m;return e.className&&(m=e.className),n.className&&(m=(m?m+" ":"")+n.className),ji.createElement("svg",Wd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,i,c,{className:m,style:Kd(Kd({color:n.color||e.color},e.style),n.style),height:f,width:f,xmlns:"http://www.w3.org/2000/svg"}),o&&ji.createElement("title",null,o),n.children)};return uT!==void 0?ji.createElement(uT.Consumer,null,e=>t(e)):t(pS)}function U2(n){return Ol({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(n)}function j2(n){return Ol({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(n)}function H2(n){return Ol({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 0c-69.59 0-126 56.41-126 126 0 56.26 82.35 158.8 113.9 196.02 6.39 7.54 17.82 7.54 24.2 0C331.65 284.8 414 182.26 414 126 414 56.41 357.59 0 288 0zm0 168c-23.2 0-42-18.8-42-42s18.8-42 42-42 42 18.8 42 42-18.8 42-42 42zM20.12 215.95A32.006 32.006 0 0 0 0 245.66v250.32c0 11.32 11.43 19.06 21.94 14.86L160 448V214.92c-8.84-15.98-16.07-31.54-21.25-46.42L20.12 215.95zM288 359.67c-14.07 0-27.38-6.18-36.51-16.96-19.66-23.2-40.57-49.62-59.49-76.72v182l192 64V266c-18.92 27.09-39.82 53.52-59.49 76.72-9.13 10.77-22.44 16.95-36.51 16.95zm266.06-198.51L416 224v288l139.88-55.95A31.996 31.996 0 0 0 576 426.34V176.02c0-11.32-11.43-19.06-21.94-14.86z"},child:[]}]})(n)}function F2(n){return Ol({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(n)}function q2(n){return Ol({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(n)}function G2(n){return Ol({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(n)}function Z2(n){return Ol({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}const W2=()=>{const[n,t]=$.useState(!1);return X.jsxs("nav",{className:"bg-blue-800 text-white p-4 flex items-center justify-between",children:[X.jsx("div",{className:"text-2xl font-bold",children:X.jsx(Os,{to:"/",onClick:()=>t(!1),children:"CRMS"})}),X.jsx("div",{className:"md:hidden",onClick:()=>t(!n),children:n?X.jsx(G2,{size:24}):X.jsx(U2,{size:24})}),X.jsxs("div",{className:`flex-col md:flex md:flex-row md:space-x-4 absolute md:static top-16 left-0 w-full md:w-auto bg-blue-800 md:bg-transparent transition-transform ${n?"flex":"hidden"}`,children:[X.jsxs(Os,{className:"p-2 block text-center md:inline",to:"/",onClick:()=>t(!1),children:[X.jsx(j2,{className:"inline mr-1"})," Home"]}),X.jsxs(Os,{className:"p-2 block text-center md:inline",to:"/dashboard",onClick:()=>t(!1),children:[X.jsx(q2,{className:"inline mr-1"})," Dashboard"]}),X.jsxs(Os,{className:"p-2 block text-center md:inline",to:"/community",onClick:()=>t(!1),children:[X.jsx(Z2,{className:"inline mr-1"})," Community"]}),X.jsxs(Os,{className:"p-2 block text-center md:inline",to:"/map",onClick:()=>t(!1),children:[X.jsx(H2,{className:"inline mr-1"})," Map"]}),X.jsxs(Os,{className:"p-2 block text-center md:inline",to:"/login",onClick:()=>t(!1),children:[X.jsx(F2,{className:"inline mr-1"})," Login"]})]})]})},K2=()=>X.jsxs("footer",{className:"bg-blue-700 text-white text-center py-4",children:["© 2025 CRMS. All rights reserved. ",X.jsx("br",{}),"Designed for Modern Crime Reporting."]}),Y2=()=>X.jsx("div",{className:"bg-cover bg-center min-h-screen flex flex-col items-center justify-center text-center text-white px-4",style:{backgroundImage:"url('/home.jpg')"},children:X.jsxs("div",{className:"bg-black bg-opacity-60 p-8 rounded-md max-w-2xl",children:[X.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Welcome to Crime Reporting System"}),X.jsx("p",{className:"text-lg mb-4",children:"Your trusted platform for reporting crimes and finding missing people. Join us in making our community a safer place."}),X.jsx("p",{className:"text-md mb-4",children:"This system ensures your reports are securely submitted and handled by the relevant authorities. Your safety is our priority."}),X.jsx(Os,{to:"/login",children:X.jsx("button",{className:"bg-blue-600 hover:bg-blue-800 text-white font-bold py-2 px-4 rounded mt-4 transition duration-300",children:"Get Started"})})]})}),X2=()=>{};var hT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},Q2=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],c=n[e++],f=n[e++],m=((r&7)<<18|(o&63)<<12|(c&63)<<6|f&63)-65536;t[i++]=String.fromCharCode(55296+(m>>10)),t[i++]=String.fromCharCode(56320+(m&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|c&63)}}return t.join("")},yS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],c=r+1<n.length,f=c?n[r+1]:0,m=r+2<n.length,p=m?n[r+2]:0,v=o>>2,E=(o&3)<<4|f>>4;let x=(f&15)<<2|p>>6,R=p&63;m||(R=64,c||(x=64)),i.push(e[v],e[E],e[x],e[R])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_S(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):Q2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],f=r<n.length?e[n.charAt(r)]:0;++r;const p=r<n.length?e[n.charAt(r)]:64;++r;const E=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||f==null||p==null||E==null)throw new $2;const x=o<<2|f>>4;if(i.push(x),p!==64){const R=f<<4&240|p>>2;if(i.push(R),E!==64){const I=p<<6&192|E;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class $2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const J2=function(n){const t=_S(n);return yS.encodeByteArray(t,!0)},Yd=function(n){return J2(n).replace(/\./g,"")},vS=function(n){try{return yS.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=()=>tI().__FIREBASE_DEFAULTS__,nI=()=>{if(typeof process>"u"||typeof hT>"u")return;const n=hT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},iI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&vS(n[1]);return t&&JSON.parse(t)},Mm=()=>{try{return X2()||eI()||nI()||iI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},bS=n=>{var t,e;return(e=(t=Mm())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},sI=n=>{const t=bS(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},TS=()=>{var n;return(n=Mm())===null||n===void 0?void 0:n.config},ES=n=>{var t;return(t=Mm())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Yd(JSON.stringify(e)),Yd(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($n())}function lI(){var n;const t=(n=Mm())===null||n===void 0?void 0:n.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function hI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fI(){const n=$n();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function dI(){return!lI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mI(){try{return typeof indexedDB=="object"}catch{return!1}}function pI(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI="FirebaseError";class aa extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=gI,Object.setPrototypeOf(this,aa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qh.prototype.create)}}class qh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],c=o?_I(o,i):"Error",f=`${this.serviceName}: ${c} (${r}).`;return new aa(r,f,i)}}function _I(n,t){return n.replace(yI,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const yI=/\{\$([^}]+)}/g;function vI(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function Sl(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],c=t[r];if(fT(o)&&fT(c)){if(!Sl(o,c))return!1}else if(o!==c)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function fT(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ih(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function sh(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function bI(n,t){const e=new TI(n,t);return e.subscribe.bind(e)}class TI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");EI(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=zg),r.error===void 0&&(r.error=zg),r.complete===void 0&&(r.complete=zg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EI(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function zg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(n){return n&&n._delegate?n._delegate:n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(n){return n.endsWith(".cloudworkstations.dev")}async function wS(n){return(await fetch(n,{credentials:"include"})).ok}class xl{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _l="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new rI;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const i=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xI(t))try{this.getOrInitializeService({instanceIdentifier:_l})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=_l){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=_l){return this.instances.has(t)}getOptions(t=_l){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(o);i===f&&c.resolve(r)}return r}onInit(t,e){var i;const r=this.normalizeInstanceIdentifier(e),o=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;o.add(t),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&t(c,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:SI(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=_l){return this.component?this.component.multipleInstances?t:_l:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function SI(n){return n===_l?void 0:n}function xI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new wI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(oe||(oe={}));const RI={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},CI=oe.INFO,II={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},MI=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=II[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Q_{constructor(t){this.name=t,this._logLevel=CI,this._logHandler=MI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}}const PI=(n,t)=>t.some(e=>n instanceof e);let dT,mT;function OI(){return dT||(dT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DI(){return mT||(mT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const SS=new WeakMap,l_=new WeakMap,xS=new WeakMap,Vg=new WeakMap,$_=new WeakMap;function kI(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(mo(n.result)),r()},c=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&SS.set(e,n)}).catch(()=>{}),$_.set(t,n),t}function LI(n){if(l_.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),r()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});l_.set(n,t)}let u_={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return l_.get(n);if(t==="objectStoreNames")return n.objectStoreNames||xS.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return mo(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function NI(n){u_=n(u_)}function zI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Bg(this),t,...e);return xS.set(i,t.sort?t.sort():[t]),mo(i)}:DI().includes(n)?function(...t){return n.apply(Bg(this),t),mo(SS.get(this))}:function(...t){return mo(n.apply(Bg(this),t))}}function VI(n){return typeof n=="function"?zI(n):(n instanceof IDBTransaction&&LI(n),PI(n,OI())?new Proxy(n,u_):n)}function mo(n){if(n instanceof IDBRequest)return kI(n);if(Vg.has(n))return Vg.get(n);const t=VI(n);return t!==n&&(Vg.set(n,t),$_.set(t,n)),t}const Bg=n=>$_.get(n);function BI(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const c=indexedDB.open(n,t),f=mo(c);return i&&c.addEventListener("upgradeneeded",m=>{i(mo(c.result),m.oldVersion,m.newVersion,mo(c.transaction),m)}),e&&c.addEventListener("blocked",m=>e(m.oldVersion,m.newVersion,m)),f.then(m=>{o&&m.addEventListener("close",()=>o()),r&&m.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const UI=["get","getKey","getAll","getAllKeys","count"],jI=["put","add","delete","clear"],Ug=new Map;function pT(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Ug.get(t))return Ug.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=jI.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||UI.includes(e)))return;const o=async function(c,...f){const m=this.transaction(c,r?"readwrite":"readonly");let p=m.store;return i&&(p=p.index(f.shift())),(await Promise.all([p[e](...f),r&&m.done]))[0]};return Ug.set(t,o),o}NI(n=>({...n,get:(t,e,i)=>pT(t,e)||n.get(t,e,i),has:(t,e)=>!!pT(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(FI(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function FI(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const c_="@firebase/app",gT="0.12.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Q_("@firebase/app"),qI="@firebase/app-compat",GI="@firebase/analytics-compat",ZI="@firebase/analytics",WI="@firebase/app-check-compat",KI="@firebase/app-check",YI="@firebase/auth",XI="@firebase/auth-compat",QI="@firebase/database",$I="@firebase/data-connect",JI="@firebase/database-compat",tM="@firebase/functions",eM="@firebase/functions-compat",nM="@firebase/installations",iM="@firebase/installations-compat",sM="@firebase/messaging",rM="@firebase/messaging-compat",aM="@firebase/performance",oM="@firebase/performance-compat",lM="@firebase/remote-config",uM="@firebase/remote-config-compat",cM="@firebase/storage",hM="@firebase/storage-compat",fM="@firebase/firestore",dM="@firebase/vertexai",mM="@firebase/firestore-compat",pM="firebase",gM="11.7.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="[DEFAULT]",_M={[c_]:"fire-core",[qI]:"fire-core-compat",[ZI]:"fire-analytics",[GI]:"fire-analytics-compat",[KI]:"fire-app-check",[WI]:"fire-app-check-compat",[YI]:"fire-auth",[XI]:"fire-auth-compat",[QI]:"fire-rtdb",[$I]:"fire-data-connect",[JI]:"fire-rtdb-compat",[tM]:"fire-fn",[eM]:"fire-fn-compat",[nM]:"fire-iid",[iM]:"fire-iid-compat",[sM]:"fire-fcm",[rM]:"fire-fcm-compat",[aM]:"fire-perf",[oM]:"fire-perf-compat",[lM]:"fire-rc",[uM]:"fire-rc-compat",[cM]:"fire-gcs",[hM]:"fire-gcs-compat",[fM]:"fire-fst",[mM]:"fire-fst-compat",[dM]:"fire-vertex","fire-js":"fire-js",[pM]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,yM=new Map,f_=new Map;function _T(n,t){try{n.container.addComponent(t)}catch(e){na.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Vu(n){const t=n.name;if(f_.has(t))return na.debug(`There were multiple attempts to register component ${t}.`),!1;f_.set(t,n);for(const e of Xd.values())_T(e,n);for(const e of yM.values())_T(e,n);return!0}function J_(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function cs(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new qh("app","Firebase",vM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(t,e,i){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=gM;function AS(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i=Object.assign({name:h_,automaticDataCollectionEnabled:!1},t),r=i.name;if(typeof r!="string"||!r)throw po.create("bad-app-name",{appName:String(r)});if(e||(e=TS()),!e)throw po.create("no-options");const o=Xd.get(r);if(o){if(Sl(e,o.options)&&Sl(i,o.config))return o;throw po.create("duplicate-app",{appName:r})}const c=new AI(r);for(const m of f_.values())c.addComponent(m);const f=new bM(e,i,c);return Xd.set(r,f),f}function RS(n=h_){const t=Xd.get(n);if(!t&&n===h_&&TS())return AS();if(!t)throw po.create("no-app",{appName:n});return t}function go(n,t,e){var i;let r=(i=_M[n])!==null&&i!==void 0?i:n;e&&(r+=`-${e}`);const o=r.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),na.warn(f.join(" "));return}Vu(new xl(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM="firebase-heartbeat-database",EM=1,xh="firebase-heartbeat-store";let jg=null;function CS(){return jg||(jg=BI(TM,EM,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(xh)}catch(e){console.warn(e)}}}}).catch(n=>{throw po.create("idb-open",{originalErrorMessage:n.message})})),jg}async function wM(n){try{const e=(await CS()).transaction(xh),i=await e.objectStore(xh).get(IS(n));return await e.done,i}catch(t){if(t instanceof aa)na.warn(t.message);else{const e=po.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});na.warn(e.message)}}}async function yT(n,t){try{const i=(await CS()).transaction(xh,"readwrite");await i.objectStore(xh).put(t,IS(n)),await i.done}catch(e){if(e instanceof aa)na.warn(e.message);else{const i=po.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});na.warn(i.message)}}}function IS(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=1024,xM=30;class AM{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new CM(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=vT();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats.length>xM){const c=IM(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){na.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=vT(),{heartbeatsToSend:i,unsentEntries:r}=RM(this._heartbeatsCache.heartbeats),o=Yd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return na.warn(e),""}}}function vT(){return new Date().toISOString().substring(0,10)}function RM(n,t=SM){const e=[];let i=n.slice();for(const r of n){const o=e.find(c=>c.agent===r.agent);if(o){if(o.dates.push(r.date),bT(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),bT(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class CM{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mI()?pI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await wM(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return yT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const r=await this.read();return yT(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function bT(n){return Yd(JSON.stringify({version:2,heartbeats:n})).length}function IM(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(n){Vu(new xl("platform-logger",t=>new HI(t),"PRIVATE")),Vu(new xl("heartbeat",t=>new AM(t),"PRIVATE")),go(c_,gT,n),go(c_,gT,"esm2017"),go("fire-js","")}MM("");var PM="firebase",OM="11.7.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */go(PM,OM,"app");function ty(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(e[i[r]]=n[i[r]]);return e}function MS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DM=MS,PS=new qh("auth","Firebase",MS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Q_("@firebase/auth");function kM(n,...t){Qd.logLevel<=oe.WARN&&Qd.warn(`Auth (${$u}): ${n}`,...t)}function Md(n,...t){Qd.logLevel<=oe.ERROR&&Qd.error(`Auth (${$u}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(n,...t){throw ey(n,...t)}function lr(n,...t){return ey(n,...t)}function OS(n,t,e){const i=Object.assign(Object.assign({},DM()),{[t]:e});return new qh("auth","Firebase",i).create(t,{appName:n.name})}function Jr(n){return OS(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ey(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return PS.create(n,...t)}function Ht(n,t,...e){if(!n)throw ey(t,...e)}function Yr(n){const t="INTERNAL ASSERTION FAILED: "+n;throw Md(t),new Error(t)}function ia(n,t){n||Yr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function LM(){return TT()==="http:"||TT()==="https:"}function TT(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LM()||cI()||"connection"in navigator)?navigator.onLine:!0}function zM(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(t,e){this.shortDelay=t,this.longDelay=e,ia(e>t,"Short delay should be less than long delay!"),this.isMobile=oI()||hI()}get(){return NM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ny(n,t){ia(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UM=new Zh(3e4,6e4);function Io(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Mo(n,t,e,i,r={}){return kS(n,r,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const f=Gh(Object.assign({key:n.config.apiKey},c)).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:t,headers:m},o);return uI()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Pm(n.emulatorConfig.host)&&(p.credentials="include"),DS.fetch()(await LS(n,n.config.apiHost,e,f),p)})}async function kS(n,t,e){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},VM),t);try{const r=new HM(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw ad(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const f=o.ok?c.errorMessage:c.error.message,[m,p]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ad(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw ad(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw ad(n,"user-disabled",c);const v=i[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw OS(n,v,p);Ns(n,v)}}catch(r){if(r instanceof aa)throw r;Ns(n,"network-request-failed",{message:String(r)})}}async function Wh(n,t,e,i,r={}){const o=await Mo(n,t,e,i,r);return"mfaPendingCredential"in o&&Ns(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function LS(n,t,e,i){const r=`${t}${e}?${i}`,o=n,c=o.config.emulator?ny(n.config,r):`${n.config.apiScheme}://${r}`;return BM.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function jM(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class HM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(lr(this.auth,"network-request-failed")),UM.get())})}}function ad(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=lr(n,t,i);return r.customData._tokenResponse=e,r}function ET(n){return n!==void 0&&n.enterprise!==void 0}class FM{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return jM(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qM(n,t){return Mo(n,"GET","/v2/recaptchaConfig",Io(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(n,t){return Mo(n,"POST","/v1/accounts:delete",t)}async function $d(n,t){return Mo(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZM(n,t=!1){const e=Hi(n),i=await e.getIdToken(t),r=iy(i);Ht(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,c=o==null?void 0:o.sign_in_provider;return{claims:r,token:i,authTime:ph(Hg(r.auth_time)),issuedAtTime:ph(Hg(r.iat)),expirationTime:ph(Hg(r.exp)),signInProvider:c||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Hg(n){return Number(n)*1e3}function iy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return Md("JWT malformed, contained fewer than 3 sections"),null;try{const r=vS(e);return r?JSON.parse(r):(Md("Failed to decode base64 JWT payload"),null)}catch(r){return Md("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function wT(n){const t=iy(n);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof aa&&WM(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function WM({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=ph(this.lastLoginAt),this.creationTime=ph(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(n){var t;const e=n.auth,i=await n.getIdToken(),r=await Ah(n,$d(e,{idToken:i}));Ht(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const c=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?NS(o.providerUserInfo):[],f=XM(n.providerData,c),m=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(f!=null&&f.length),v=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new m_(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,E)}async function YM(n){const t=Hi(n);await Jd(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function XM(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function NS(n){return n.map(t=>{var{providerId:e}=t,i=ty(t,["providerId"]);return{providerId:e,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QM(n,t){const e=await kS(n,{},async()=>{const i=Gh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,c=await LS(n,r,"/v1/token",`key=${o}`),f=await n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",DS.fetch()(c,{method:"POST",headers:f,body:i})});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function $M(n,t){return Mo(n,"POST","/v2/accounts:revokeToken",Io(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):wT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const e=wT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await QM(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,c=new Ou;return i&&(Ht(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),r&&(Ht(typeof r=="string","internal-error",{appName:t}),c.accessToken=r),o&&(Ht(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ou,this.toJSON())}_performRefresh(){return Yr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(n,t){Ht(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ds{constructor(t){var{uid:e,auth:i,stsTokenManager:r}=t,o=ty(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new m_(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const e=await Ah(this,this.stsTokenManager.getToken(this.auth,t));return Ht(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return ZM(this,t)}reload(){return YM(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Ds(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Jd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(cs(this.auth.app))return Promise.reject(Jr(this.auth));const t=await this.getIdToken();return await Ah(this,GM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var i,r,o,c,f,m,p,v;const E=(i=e.displayName)!==null&&i!==void 0?i:void 0,x=(r=e.email)!==null&&r!==void 0?r:void 0,R=(o=e.phoneNumber)!==null&&o!==void 0?o:void 0,I=(c=e.photoURL)!==null&&c!==void 0?c:void 0,O=(f=e.tenantId)!==null&&f!==void 0?f:void 0,D=(m=e._redirectEventId)!==null&&m!==void 0?m:void 0,V=(p=e.createdAt)!==null&&p!==void 0?p:void 0,K=(v=e.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:W,emailVerified:ut,isAnonymous:et,providerData:_t,stsTokenManager:B}=e;Ht(W&&B,t,"internal-error");const k=Ou.fromJSON(this.name,B);Ht(typeof W=="string",t,"internal-error"),eo(E,t.name),eo(x,t.name),Ht(typeof ut=="boolean",t,"internal-error"),Ht(typeof et=="boolean",t,"internal-error"),eo(R,t.name),eo(I,t.name),eo(O,t.name),eo(D,t.name),eo(V,t.name),eo(K,t.name);const z=new Ds({uid:W,auth:t,email:x,emailVerified:ut,displayName:E,isAnonymous:et,photoURL:I,phoneNumber:R,tenantId:O,stsTokenManager:k,createdAt:V,lastLoginAt:K});return _t&&Array.isArray(_t)&&(z.providerData=_t.map(H=>Object.assign({},H))),D&&(z._redirectEventId=D),z}static async _fromIdTokenResponse(t,e,i=!1){const r=new Ou;r.updateFromServerResponse(e);const o=new Ds({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Jd(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Ht(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?NS(r.providerUserInfo):[],c=!(r.email&&r.passwordHash)&&!(o!=null&&o.length),f=new Ou;f.updateFromIdToken(i);const m=new Ds({uid:r.localId,auth:t,stsTokenManager:f,isAnonymous:c}),p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new m_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(o!=null&&o.length)};return Object.assign(m,p),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;function Xr(n){ia(n instanceof Function,"Expected a class definition");let t=ST.get(n);return t?(ia(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,ST.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}zS.type="NONE";const xT=zS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n,t,e){return`firebase:${n}:${t}:${e}`}class Du{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=Pd(this.userKey,r.apiKey,o),this.fullPersistenceKey=Pd("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await $d(this.auth,{idToken:t}).catch(()=>{});return e?Ds._fromGetAccountInfoResponse(this.auth,e,t):null}return Ds._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new Du(Xr(xT),t,i);const r=(await Promise.all(e.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=r[0]||Xr(xT);const c=Pd(i,t.config.apiKey,t.name);let f=null;for(const p of e)try{const v=await p._get(c);if(v){let E;if(typeof v=="string"){const x=await $d(t,{idToken:v}).catch(()=>{});if(!x)break;E=await Ds._fromGetAccountInfoResponse(t,x,v)}else E=Ds._fromJSON(t,v);p!==o&&(f=E),o=p;break}}catch{}const m=r.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new Du(o,t,i):(o=m[0],f&&await o._set(c,f.toJSON()),await Promise.all(e.map(async p=>{if(p!==o)try{await p._remove(c)}catch{}})),new Du(o,t,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(VS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(FS(t))return"Blackberry";if(qS(t))return"Webos";if(BS(t))return"Safari";if((t.includes("chrome/")||US(t))&&!t.includes("edge/"))return"Chrome";if(HS(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function VS(n=$n()){return/firefox\//i.test(n)}function BS(n=$n()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function US(n=$n()){return/crios\//i.test(n)}function jS(n=$n()){return/iemobile/i.test(n)}function HS(n=$n()){return/android/i.test(n)}function FS(n=$n()){return/blackberry/i.test(n)}function qS(n=$n()){return/webos/i.test(n)}function sy(n=$n()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function JM(n=$n()){var t;return sy(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function tP(){return fI()&&document.documentMode===10}function GS(n=$n()){return sy(n)||HS(n)||qS(n)||FS(n)||/windows phone/i.test(n)||jS(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n,t=[]){let e;switch(n){case"Browser":e=AT($n());break;case"Worker":e=`${AT($n())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${$u}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,f)=>{try{const m=t(o);c(m)}catch(m){f(m)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nP(n,t={}){return Mo(n,"GET","/v2/passwordPolicy",Io(n,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=6;class sP{constructor(t){var e,i,r,o;const c=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=c.minPasswordLength)!==null&&e!==void 0?e:iP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,i,r,o,c,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(e=m.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),m.isValid&&(m.isValid=(i=m.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(r=m.containsLowercaseLetter)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(o=m.containsUppercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RT(this),this.idTokenSubscription=new RT(this),this.beforeStateQueue=new eP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Xr(e)),this._initializationPromise=this.queue(async()=>{var i,r,o;if(!this._deleted&&(this.persistenceManager=await Du.create(this,t),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await $d(this,{idToken:t}),i=await Ds._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(cs(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,f=r==null?void 0:r._redirectEventId,m=await this.tryRedirectSignIn(t);(!c||c===f)&&(m!=null&&m.user)&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Jd(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(cs(this.app))return Promise.reject(Jr(this));const e=t?Hi(t):null;return e&&Ht(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return cs(this.app)?Promise.reject(Jr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return cs(this.app)?Promise.reject(Jr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await nP(this),e=new sP(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new qh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await $M(this,i)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Xr(t)||this._popupRedirectResolver;Ht(e,this,"argument-error"),this.redirectPersistenceManager=await Du.create(this,[Xr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,i;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(f,this,"internal-error"),f.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const m=t.addObserver(e,i,r);return()=>{c=!0,m()}}else{const m=t.addObserver(e);return()=>{c=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ZS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const i=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());i&&(e["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(cs(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&kM(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Dl(n){return Hi(n)}class RT{constructor(t){this.auth=t,this.observer=null,this.addObserver=bI(e=>this.observer=e)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Om={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aP(n){Om=n}function WS(n){return Om.loadJS(n)}function oP(){return Om.recaptchaEnterpriseScript}function lP(){return Om.gapiScript}function uP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class cP{constructor(){this.enterprise=new hP}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class hP{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const fP="recaptcha-enterprise",KS="NO_RECAPTCHA";class dP{constructor(t){this.type=fP,this.auth=Dl(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,f)=>{qM(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new FM(m);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,c(p.siteKey)}}).catch(m=>{f(m)})})}function r(o,c,f){const m=window.grecaptcha;ET(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:t}).then(p=>{c(p)}).catch(()=>{c(KS)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cP().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(f=>{if(!e&&ET(window.grecaptcha))r(f,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=oP();m.length!==0&&(m+=f),WS(m).then(()=>{r(f,o,c)}).catch(p=>{c(p)})}}).catch(f=>{c(f)})})}}async function CT(n,t,e,i=!1,r=!1){const o=new dP(n);let c;if(r)c=KS;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const f=Object.assign({},t);if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const m=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const m=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:c}):Object.assign(f,{captchaResponse:c}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function p_(n,t,e,i,r){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await CT(n,t,e,e==="getOobCode");return i(n,c)}else return i(n,t).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await CT(n,t,e,e==="getOobCode");return i(n,f)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n,t){const e=J_(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(Sl(o,t??{}))return r;Ns(r,"already-initialized")}return e.initialize({options:t})}function pP(n,t){const e=(t==null?void 0:t.persistence)||[],i=(Array.isArray(e)?e:[e]).map(Xr);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t==null?void 0:t.popupRedirectResolver)}function gP(n,t,e){const i=Dl(n);Ht(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=YS(t),{host:c,port:f}=_P(t),m=f===null?"":`:${f}`,p={url:`${o}//${c}${m}/`},v=Object.freeze({host:c,port:f,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ht(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ht(Sl(p,i.config.emulator)&&Sl(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,yP(),Pm(c)&&wS(`${o}//${c}${m}`)}function YS(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function _P(n){const t=YS(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:IT(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:IT(c)}}}function IT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function yP(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Yr("not implemented")}_getIdTokenResponse(t){return Yr("not implemented")}_linkToIdToken(t,e){return Yr("not implemented")}_getReauthenticationResolver(t){return Yr("not implemented")}}async function vP(n,t){return Mo(n,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(n,t){return Wh(n,"POST","/v1/accounts:signInWithPassword",Io(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(n,t){return Wh(n,"POST","/v1/accounts:signInWithEmailLink",Io(n,t))}async function EP(n,t){return Wh(n,"POST","/v1/accounts:signInWithEmailLink",Io(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends ry{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Rh(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Rh(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e!=null&&e.email&&(e!=null&&e.password)){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p_(t,e,"signInWithPassword",bP);case"emailLink":return TP(t,{email:this._email,oobCode:this._password});default:Ns(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return p_(t,i,"signUpPassword",vP);case"emailLink":return EP(t,{idToken:e,email:this._email,oobCode:this._password});default:Ns(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ku(n,t){return Wh(n,"POST","/v1/accounts:signInWithIdp",Io(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP="http://localhost";class Al extends ry{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Al(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ns("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=e,o=ty(e,["providerId","signInMethod"]);if(!i||!r)return null;const c=new Al(i,r);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return ku(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,ku(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,ku(t,e)}buildRequest(){const t={requestUri:wP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Gh(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xP(n){const t=ih(sh(n)).link,e=t?ih(sh(t)).deep_link_id:null,i=ih(sh(n)).deep_link_id;return(i?ih(sh(i)).link:null)||i||e||t||n}class ay{constructor(t){var e,i,r,o,c,f;const m=ih(sh(t)),p=(e=m.apiKey)!==null&&e!==void 0?e:null,v=(i=m.oobCode)!==null&&i!==void 0?i:null,E=SP((r=m.mode)!==null&&r!==void 0?r:null);Ht(p&&v&&E,"argument-error"),this.apiKey=p,this.operation=E,this.code=v,this.continueUrl=(o=m.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(c=m.lang)!==null&&c!==void 0?c:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(t){const e=xP(t);try{return new ay(e)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.providerId=Ju.PROVIDER_ID}static credential(t,e){return Rh._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=ay.parseLink(e);return Ht(i,"argument-error"),Rh._fromEmailAndCode(t,i.code,i.tenantId)}}Ju.PROVIDER_ID="password";Ju.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ju.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh extends XS{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so extends Kh{constructor(){super("facebook.com")}static credential(t){return Al._fromParams({providerId:so.PROVIDER_ID,signInMethod:so.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return so.credentialFromTaggedObject(t)}static credentialFromError(t){return so.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return so.credential(t.oauthAccessToken)}catch{return null}}}so.FACEBOOK_SIGN_IN_METHOD="facebook.com";so.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro extends Kh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Al._fromParams({providerId:ro.PROVIDER_ID,signInMethod:ro.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ro.credentialFromTaggedObject(t)}static credentialFromError(t){return ro.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return ro.credential(e,i)}catch{return null}}}ro.GOOGLE_SIGN_IN_METHOD="google.com";ro.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends Kh{constructor(){super("github.com")}static credential(t){return Al._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ao.credentialFromTaggedObject(t)}static credentialFromError(t){return ao.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ao.credential(t.oauthAccessToken)}catch{return null}}}ao.GITHUB_SIGN_IN_METHOD="github.com";ao.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo extends Kh{constructor(){super("twitter.com")}static credential(t,e){return Al._fromParams({providerId:oo.PROVIDER_ID,signInMethod:oo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return oo.credentialFromTaggedObject(t)}static credentialFromError(t){return oo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return oo.credential(e,i)}catch{return null}}}oo.TWITTER_SIGN_IN_METHOD="twitter.com";oo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AP(n,t){return Wh(n,"POST","/v1/accounts:signUp",Io(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Ds._fromIdTokenResponse(t,i,r),c=MT(i);return new Rl({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=MT(i);return new Rl({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function MT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm extends aa{constructor(t,e,i,r){var o;super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,tm.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new tm(t,e,i,r)}}function QS(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tm._fromErrorAndOperation(n,o,t,i):o})}async function RP(n,t,e=!1){const i=await Ah(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Rl._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(n,t,e=!1){const{auth:i}=n;if(cs(i.app))return Promise.reject(Jr(i));const r="reauthenticate";try{const o=await Ah(n,QS(i,r,t,n),e);Ht(o.idToken,i,"internal-error");const c=iy(o.idToken);Ht(c,i,"internal-error");const{sub:f}=c;return Ht(n.uid===f,i,"user-mismatch"),Rl._forOperation(n,r,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ns(i,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(n,t,e=!1){if(cs(n.app))return Promise.reject(Jr(n));const i="signIn",r=await QS(n,i,t),o=await Rl._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function IP(n,t){return $S(Dl(n),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(n){const t=Dl(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function MP(n,t,e){if(cs(n.app))return Promise.reject(Jr(n));const i=Dl(n),c=await p_(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",AP).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&JS(n),m}),f=await Rl._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(f.user),f}function PP(n,t,e){return cs(n.app)?Promise.reject(Jr(n)):IP(Hi(n),Ju.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&JS(n),i})}function OP(n,t,e,i){return Hi(n).onIdTokenChanged(t,e,i)}function DP(n,t,e){return Hi(n).beforeAuthStateChanged(t,e)}function kP(n){return Hi(n).signOut()}const em="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(em,"1"),this.storage.removeItem(em),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=1e3,NP=10;class ex extends tx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GS(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,f,m)=>{this.notifyListeners(c,m)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);tP()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,NP):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},LP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ex.type="LOCAL";const zP=ex;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx extends tx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}nx.type="SESSION";const ix=nx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new Dm(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,c=this.handlersMap[r];if(!(c!=null&&c.size))return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const f=Array.from(c).map(async p=>p(e.origin,o)),m=await VP(f);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:m})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,c;return new Promise((f,m)=>{const p=oy("",20);r.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},i);c={messageChannel:r,onMessage(E){const x=E;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),f(x.data.response);break;default:clearTimeout(v),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),r.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:p,data:e},[r.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function UP(n){ur().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function jP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function FP(){return sx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firebaseLocalStorageDb",qP=1,nm="firebaseLocalStorage",ax="fbase_key";class Yh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function km(n,t){return n.transaction([nm],t?"readwrite":"readonly").objectStore(nm)}function GP(){const n=indexedDB.deleteDatabase(rx);return new Yh(n).toPromise()}function g_(){const n=indexedDB.open(rx,qP);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(nm,{keyPath:ax})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(nm)?t(i):(i.close(),await GP(),t(await g_()))})})}async function PT(n,t,e){const i=km(n,!0).put({[ax]:t,value:e});return new Yh(i).toPromise()}async function ZP(n,t){const e=km(n,!1).get(t),i=await new Yh(e).toPromise();return i===void 0?null:i.value}function OT(n,t){const e=km(n,!0).delete(t);return new Yh(e).toPromise()}const WP=800,KP=3;class ox{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await g_(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>KP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dm._getInstance(FP()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await jP(),!this.activeServiceWorker)return;this.sender=new BP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((e=i[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await g_();return await PT(t,em,"1"),await OT(t,em),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>PT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>ZP(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>OT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=km(r,!1).getAll();return new Yh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ox.type="LOCAL";const YP=ox;new Zh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(n,t){return t?Xr(t):(Ht(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly extends ry{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ku(t,this._buildIdpRequest())}_linkToIdToken(t,e){return ku(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return ku(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function QP(n){return $S(n.auth,new ly(n),n.bypassAuthState)}function $P(n){const{auth:t,user:e}=n;return Ht(e,t,"internal-error"),CP(e,new ly(n),n.bypassAuthState)}async function JP(n){const{auth:t,user:e}=n;return Ht(e,t,"internal-error"),RP(e,new ly(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:c,type:f}=t;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return QP;case"linkViaPopup":case"linkViaRedirect":return JP;case"reauthViaPopup":case"reauthViaRedirect":return $P;default:Ns(this.auth,"internal-error")}}resolve(t){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ia(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new Zh(2e3,1e4);class Pu extends lx{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,Pu.currentPopupAction&&Pu.currentPopupAction.cancel(),Pu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){ia(this.filter.length===1,"Popup operations only handle one event");const t=oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,i;if(!((i=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tO.get())};t()}}Pu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO="pendingRedirect",Od=new Map;class nO extends lx{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Od.get(this.auth._key());if(!t){try{const i=await iO(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Od.set(this.auth._key(),t)}return this.bypassAuthState||Od.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iO(n,t){const e=aO(t),i=rO(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function sO(n,t){Od.set(n._key(),t)}function rO(n){return Xr(n._redirectPersistence)}function aO(n){return Pd(eO,n.config.apiKey,n.name)}async function oO(n,t,e=!1){if(cs(n.app))return Promise.reject(Jr(n));const i=Dl(n),r=XP(i,t),c=await new nO(i,r,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=10*60*1e3;class uO{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cO(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var i;if(t.error&&!ux(t)){const r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";e.onError(lr(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lO&&this.cachedEventUids.clear(),this.cachedEventUids.has(DT(t))}saveEventToCache(t){this.cachedEventUids.add(DT(t)),this.lastProcessedEventTime=Date.now()}}function DT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function ux({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function cO(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ux(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(n,t={}){return Mo(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dO=/^https?/;async function mO(n){if(n.config.emulator)return;const{authorizedDomains:t}=await hO(n);for(const e of t)try{if(pO(e))return}catch{}Ns(n,"unauthorized-domain")}function pO(n){const t=d_(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!dO.test(e))return!1;if(fO.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=new Zh(3e4,6e4);function kT(){const n=ur().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function _O(n){return new Promise((t,e)=>{var i,r,o;function c(){kT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{kT(),e(lr(n,"network-request-failed"))},timeout:gO.get()})}if(!((r=(i=ur().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=ur().gapi)===null||o===void 0)&&o.load)c();else{const f=uP("iframefcb");return ur()[f]=()=>{gapi.load?c():e(lr(n,"network-request-failed"))},WS(`${lP()}?onload=${f}`).catch(m=>e(m))}}).catch(t=>{throw Dd=null,t})}let Dd=null;function yO(n){return Dd=Dd||_O(n),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new Zh(5e3,15e3),bO="__/auth/iframe",TO="emulator/auth/iframe",EO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SO(n){const t=n.config;Ht(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?ny(t,TO):`https://${n.config.authDomain}/${bO}`,i={apiKey:t.apiKey,appName:n.name,v:$u},r=wO.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Gh(i).slice(1)}`}async function xO(n){const t=await yO(n),e=ur().gapi;return Ht(e,n,"internal-error"),t.open({where:document.body,url:SO(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EO,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const c=lr(n,"network-request-failed"),f=ur().setTimeout(()=>{o(c)},vO.get());function m(){ur().clearTimeout(f),r(i)}i.ping(m).then(m,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RO=500,CO=600,IO="_blank",MO="http://localhost";class LT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PO(n,t,e,i=RO,r=CO){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const m=Object.assign(Object.assign({},AO),{width:i.toString(),height:r.toString(),top:o,left:c}),p=$n().toLowerCase();e&&(f=US(p)?IO:e),VS(p)&&(t=t||MO,m.scrollbars="yes");const v=Object.entries(m).reduce((x,[R,I])=>`${x}${R}=${I},`,"");if(JM(p)&&f!=="_self")return OO(t||"",f),new LT(null);const E=window.open(t||"",f,v);Ht(E,n,"popup-blocked");try{E.focus()}catch{}return new LT(E)}function OO(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="__/auth/handler",kO="emulator/auth/handler",LO=encodeURIComponent("fac");async function NT(n,t,e,i,r,o){Ht(n.config.authDomain,n,"auth-domain-config-required"),Ht(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:$u,eventId:r};if(t instanceof XS){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",vI(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[v,E]of Object.entries({}))c[v]=E}if(t instanceof Kh){const v=t.getScopes().filter(E=>E!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const f=c;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const m=await n._getAppCheckToken(),p=m?`#${LO}=${encodeURIComponent(m)}`:"";return`${NO(n)}?${Gh(f).slice(1)}${p}`}function NO({config:n}){return n.emulator?ny(n,kO):`https://${n.authDomain}/${DO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fg="webStorageSupport";class zO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ix,this._completeRedirectFn=oO,this._overrideRedirectResult=sO}async _openPopup(t,e,i,r){var o;ia((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const c=await NT(t,e,i,d_(),r);return PO(t,c,oy())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await NT(t,e,i,d_(),r);return UP(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(ia(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await xO(t),i=new uO(t);return e.register("authEvent",r=>(Ht(r==null?void 0:r.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Fg,{type:Fg},r=>{var o;const c=(o=r==null?void 0:r[0])===null||o===void 0?void 0:o[Fg];c!==void 0&&e(!!c),Ns(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=mO(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return GS()||BS()||sy()}}const VO=zO;var zT="@firebase/auth",VT="1.10.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jO(n){Vu(new xl("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:f}=i.options;Ht(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const m={apiKey:c,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZS(n)},p=new rP(i,r,o,m);return pP(p,e),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Vu(new xl("auth-internal",t=>{const e=Dl(t.getProvider("auth").getImmediate());return(i=>new BO(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),go(zT,VT,UO(n)),go(zT,VT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=5*60,FO=ES("authIdTokenMaxAge")||HO;let BT=null;const qO=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>FO)return;const r=e==null?void 0:e.token;BT!==r&&(BT=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function GO(n=RS()){const t=J_(n,"auth");if(t.isInitialized())return t.getImmediate();const e=mP(n,{popupRedirectResolver:VO,persistence:[YP,zP,ix]}),i=ES("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=qO(o.toString());DP(e,c,()=>c(e.currentUser)),OP(e,f=>c(f))}}const r=bS("auth");return r&&gP(e,`http://${r}`),e}function ZO(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}aP({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=lr("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",ZO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jO("Browser");var UT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _o,cx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(B,k){function z(){}z.prototype=k.prototype,B.D=k.prototype,B.prototype=new z,B.prototype.constructor=B,B.C=function(H,F,Z){for(var j=Array(arguments.length-2),Yt=2;Yt<arguments.length;Yt++)j[Yt-2]=arguments[Yt];return k.prototype[F].apply(H,j)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(i,e),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(B,k,z){z||(z=0);var H=Array(16);if(typeof k=="string")for(var F=0;16>F;++F)H[F]=k.charCodeAt(z++)|k.charCodeAt(z++)<<8|k.charCodeAt(z++)<<16|k.charCodeAt(z++)<<24;else for(F=0;16>F;++F)H[F]=k[z++]|k[z++]<<8|k[z++]<<16|k[z++]<<24;k=B.g[0],z=B.g[1],F=B.g[2];var Z=B.g[3],j=k+(Z^z&(F^Z))+H[0]+3614090360&4294967295;k=z+(j<<7&4294967295|j>>>25),j=Z+(F^k&(z^F))+H[1]+3905402710&4294967295,Z=k+(j<<12&4294967295|j>>>20),j=F+(z^Z&(k^z))+H[2]+606105819&4294967295,F=Z+(j<<17&4294967295|j>>>15),j=z+(k^F&(Z^k))+H[3]+3250441966&4294967295,z=F+(j<<22&4294967295|j>>>10),j=k+(Z^z&(F^Z))+H[4]+4118548399&4294967295,k=z+(j<<7&4294967295|j>>>25),j=Z+(F^k&(z^F))+H[5]+1200080426&4294967295,Z=k+(j<<12&4294967295|j>>>20),j=F+(z^Z&(k^z))+H[6]+2821735955&4294967295,F=Z+(j<<17&4294967295|j>>>15),j=z+(k^F&(Z^k))+H[7]+4249261313&4294967295,z=F+(j<<22&4294967295|j>>>10),j=k+(Z^z&(F^Z))+H[8]+1770035416&4294967295,k=z+(j<<7&4294967295|j>>>25),j=Z+(F^k&(z^F))+H[9]+2336552879&4294967295,Z=k+(j<<12&4294967295|j>>>20),j=F+(z^Z&(k^z))+H[10]+4294925233&4294967295,F=Z+(j<<17&4294967295|j>>>15),j=z+(k^F&(Z^k))+H[11]+2304563134&4294967295,z=F+(j<<22&4294967295|j>>>10),j=k+(Z^z&(F^Z))+H[12]+1804603682&4294967295,k=z+(j<<7&4294967295|j>>>25),j=Z+(F^k&(z^F))+H[13]+4254626195&4294967295,Z=k+(j<<12&4294967295|j>>>20),j=F+(z^Z&(k^z))+H[14]+2792965006&4294967295,F=Z+(j<<17&4294967295|j>>>15),j=z+(k^F&(Z^k))+H[15]+1236535329&4294967295,z=F+(j<<22&4294967295|j>>>10),j=k+(F^Z&(z^F))+H[1]+4129170786&4294967295,k=z+(j<<5&4294967295|j>>>27),j=Z+(z^F&(k^z))+H[6]+3225465664&4294967295,Z=k+(j<<9&4294967295|j>>>23),j=F+(k^z&(Z^k))+H[11]+643717713&4294967295,F=Z+(j<<14&4294967295|j>>>18),j=z+(Z^k&(F^Z))+H[0]+3921069994&4294967295,z=F+(j<<20&4294967295|j>>>12),j=k+(F^Z&(z^F))+H[5]+3593408605&4294967295,k=z+(j<<5&4294967295|j>>>27),j=Z+(z^F&(k^z))+H[10]+38016083&4294967295,Z=k+(j<<9&4294967295|j>>>23),j=F+(k^z&(Z^k))+H[15]+3634488961&4294967295,F=Z+(j<<14&4294967295|j>>>18),j=z+(Z^k&(F^Z))+H[4]+3889429448&4294967295,z=F+(j<<20&4294967295|j>>>12),j=k+(F^Z&(z^F))+H[9]+568446438&4294967295,k=z+(j<<5&4294967295|j>>>27),j=Z+(z^F&(k^z))+H[14]+3275163606&4294967295,Z=k+(j<<9&4294967295|j>>>23),j=F+(k^z&(Z^k))+H[3]+4107603335&4294967295,F=Z+(j<<14&4294967295|j>>>18),j=z+(Z^k&(F^Z))+H[8]+1163531501&4294967295,z=F+(j<<20&4294967295|j>>>12),j=k+(F^Z&(z^F))+H[13]+2850285829&4294967295,k=z+(j<<5&4294967295|j>>>27),j=Z+(z^F&(k^z))+H[2]+4243563512&4294967295,Z=k+(j<<9&4294967295|j>>>23),j=F+(k^z&(Z^k))+H[7]+1735328473&4294967295,F=Z+(j<<14&4294967295|j>>>18),j=z+(Z^k&(F^Z))+H[12]+2368359562&4294967295,z=F+(j<<20&4294967295|j>>>12),j=k+(z^F^Z)+H[5]+4294588738&4294967295,k=z+(j<<4&4294967295|j>>>28),j=Z+(k^z^F)+H[8]+2272392833&4294967295,Z=k+(j<<11&4294967295|j>>>21),j=F+(Z^k^z)+H[11]+1839030562&4294967295,F=Z+(j<<16&4294967295|j>>>16),j=z+(F^Z^k)+H[14]+4259657740&4294967295,z=F+(j<<23&4294967295|j>>>9),j=k+(z^F^Z)+H[1]+2763975236&4294967295,k=z+(j<<4&4294967295|j>>>28),j=Z+(k^z^F)+H[4]+1272893353&4294967295,Z=k+(j<<11&4294967295|j>>>21),j=F+(Z^k^z)+H[7]+4139469664&4294967295,F=Z+(j<<16&4294967295|j>>>16),j=z+(F^Z^k)+H[10]+3200236656&4294967295,z=F+(j<<23&4294967295|j>>>9),j=k+(z^F^Z)+H[13]+681279174&4294967295,k=z+(j<<4&4294967295|j>>>28),j=Z+(k^z^F)+H[0]+3936430074&4294967295,Z=k+(j<<11&4294967295|j>>>21),j=F+(Z^k^z)+H[3]+3572445317&4294967295,F=Z+(j<<16&4294967295|j>>>16),j=z+(F^Z^k)+H[6]+76029189&4294967295,z=F+(j<<23&4294967295|j>>>9),j=k+(z^F^Z)+H[9]+3654602809&4294967295,k=z+(j<<4&4294967295|j>>>28),j=Z+(k^z^F)+H[12]+3873151461&4294967295,Z=k+(j<<11&4294967295|j>>>21),j=F+(Z^k^z)+H[15]+530742520&4294967295,F=Z+(j<<16&4294967295|j>>>16),j=z+(F^Z^k)+H[2]+3299628645&4294967295,z=F+(j<<23&4294967295|j>>>9),j=k+(F^(z|~Z))+H[0]+4096336452&4294967295,k=z+(j<<6&4294967295|j>>>26),j=Z+(z^(k|~F))+H[7]+1126891415&4294967295,Z=k+(j<<10&4294967295|j>>>22),j=F+(k^(Z|~z))+H[14]+2878612391&4294967295,F=Z+(j<<15&4294967295|j>>>17),j=z+(Z^(F|~k))+H[5]+4237533241&4294967295,z=F+(j<<21&4294967295|j>>>11),j=k+(F^(z|~Z))+H[12]+1700485571&4294967295,k=z+(j<<6&4294967295|j>>>26),j=Z+(z^(k|~F))+H[3]+2399980690&4294967295,Z=k+(j<<10&4294967295|j>>>22),j=F+(k^(Z|~z))+H[10]+4293915773&4294967295,F=Z+(j<<15&4294967295|j>>>17),j=z+(Z^(F|~k))+H[1]+2240044497&4294967295,z=F+(j<<21&4294967295|j>>>11),j=k+(F^(z|~Z))+H[8]+1873313359&4294967295,k=z+(j<<6&4294967295|j>>>26),j=Z+(z^(k|~F))+H[15]+4264355552&4294967295,Z=k+(j<<10&4294967295|j>>>22),j=F+(k^(Z|~z))+H[6]+2734768916&4294967295,F=Z+(j<<15&4294967295|j>>>17),j=z+(Z^(F|~k))+H[13]+1309151649&4294967295,z=F+(j<<21&4294967295|j>>>11),j=k+(F^(z|~Z))+H[4]+4149444226&4294967295,k=z+(j<<6&4294967295|j>>>26),j=Z+(z^(k|~F))+H[11]+3174756917&4294967295,Z=k+(j<<10&4294967295|j>>>22),j=F+(k^(Z|~z))+H[2]+718787259&4294967295,F=Z+(j<<15&4294967295|j>>>17),j=z+(Z^(F|~k))+H[9]+3951481745&4294967295,B.g[0]=B.g[0]+k&4294967295,B.g[1]=B.g[1]+(F+(j<<21&4294967295|j>>>11))&4294967295,B.g[2]=B.g[2]+F&4294967295,B.g[3]=B.g[3]+Z&4294967295}i.prototype.u=function(B,k){k===void 0&&(k=B.length);for(var z=k-this.blockSize,H=this.B,F=this.h,Z=0;Z<k;){if(F==0)for(;Z<=z;)r(this,B,Z),Z+=this.blockSize;if(typeof B=="string"){for(;Z<k;)if(H[F++]=B.charCodeAt(Z++),F==this.blockSize){r(this,H),F=0;break}}else for(;Z<k;)if(H[F++]=B[Z++],F==this.blockSize){r(this,H),F=0;break}}this.h=F,this.o+=k},i.prototype.v=function(){var B=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);B[0]=128;for(var k=1;k<B.length-8;++k)B[k]=0;var z=8*this.o;for(k=B.length-8;k<B.length;++k)B[k]=z&255,z/=256;for(this.u(B),B=Array(16),k=z=0;4>k;++k)for(var H=0;32>H;H+=8)B[z++]=this.g[k]>>>H&255;return B};function o(B,k){var z=f;return Object.prototype.hasOwnProperty.call(z,B)?z[B]:z[B]=k(B)}function c(B,k){this.h=k;for(var z=[],H=!0,F=B.length-1;0<=F;F--){var Z=B[F]|0;H&&Z==k||(z[F]=Z,H=!1)}this.g=z}var f={};function m(B){return-128<=B&&128>B?o(B,function(k){return new c([k|0],0>k?-1:0)}):new c([B|0],0>B?-1:0)}function p(B){if(isNaN(B)||!isFinite(B))return E;if(0>B)return D(p(-B));for(var k=[],z=1,H=0;B>=z;H++)k[H]=B/z|0,z*=4294967296;return new c(k,0)}function v(B,k){if(B.length==0)throw Error("number format error: empty string");if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(B.charAt(0)=="-")return D(v(B.substring(1),k));if(0<=B.indexOf("-"))throw Error('number format error: interior "-" character');for(var z=p(Math.pow(k,8)),H=E,F=0;F<B.length;F+=8){var Z=Math.min(8,B.length-F),j=parseInt(B.substring(F,F+Z),k);8>Z?(Z=p(Math.pow(k,Z)),H=H.j(Z).add(p(j))):(H=H.j(z),H=H.add(p(j)))}return H}var E=m(0),x=m(1),R=m(16777216);n=c.prototype,n.m=function(){if(O(this))return-D(this).m();for(var B=0,k=1,z=0;z<this.g.length;z++){var H=this.i(z);B+=(0<=H?H:4294967296+H)*k,k*=4294967296}return B},n.toString=function(B){if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(I(this))return"0";if(O(this))return"-"+D(this).toString(B);for(var k=p(Math.pow(B,6)),z=this,H="";;){var F=ut(z,k).g;z=V(z,F.j(k));var Z=((0<z.g.length?z.g[0]:z.h)>>>0).toString(B);if(z=F,I(z))return Z+H;for(;6>Z.length;)Z="0"+Z;H=Z+H}},n.i=function(B){return 0>B?0:B<this.g.length?this.g[B]:this.h};function I(B){if(B.h!=0)return!1;for(var k=0;k<B.g.length;k++)if(B.g[k]!=0)return!1;return!0}function O(B){return B.h==-1}n.l=function(B){return B=V(this,B),O(B)?-1:I(B)?0:1};function D(B){for(var k=B.g.length,z=[],H=0;H<k;H++)z[H]=~B.g[H];return new c(z,~B.h).add(x)}n.abs=function(){return O(this)?D(this):this},n.add=function(B){for(var k=Math.max(this.g.length,B.g.length),z=[],H=0,F=0;F<=k;F++){var Z=H+(this.i(F)&65535)+(B.i(F)&65535),j=(Z>>>16)+(this.i(F)>>>16)+(B.i(F)>>>16);H=j>>>16,Z&=65535,j&=65535,z[F]=j<<16|Z}return new c(z,z[z.length-1]&-2147483648?-1:0)};function V(B,k){return B.add(D(k))}n.j=function(B){if(I(this)||I(B))return E;if(O(this))return O(B)?D(this).j(D(B)):D(D(this).j(B));if(O(B))return D(this.j(D(B)));if(0>this.l(R)&&0>B.l(R))return p(this.m()*B.m());for(var k=this.g.length+B.g.length,z=[],H=0;H<2*k;H++)z[H]=0;for(H=0;H<this.g.length;H++)for(var F=0;F<B.g.length;F++){var Z=this.i(H)>>>16,j=this.i(H)&65535,Yt=B.i(F)>>>16,Lt=B.i(F)&65535;z[2*H+2*F]+=j*Lt,K(z,2*H+2*F),z[2*H+2*F+1]+=Z*Lt,K(z,2*H+2*F+1),z[2*H+2*F+1]+=j*Yt,K(z,2*H+2*F+1),z[2*H+2*F+2]+=Z*Yt,K(z,2*H+2*F+2)}for(H=0;H<k;H++)z[H]=z[2*H+1]<<16|z[2*H];for(H=k;H<2*k;H++)z[H]=0;return new c(z,0)};function K(B,k){for(;(B[k]&65535)!=B[k];)B[k+1]+=B[k]>>>16,B[k]&=65535,k++}function W(B,k){this.g=B,this.h=k}function ut(B,k){if(I(k))throw Error("division by zero");if(I(B))return new W(E,E);if(O(B))return k=ut(D(B),k),new W(D(k.g),D(k.h));if(O(k))return k=ut(B,D(k)),new W(D(k.g),k.h);if(30<B.g.length){if(O(B)||O(k))throw Error("slowDivide_ only works with positive integers.");for(var z=x,H=k;0>=H.l(B);)z=et(z),H=et(H);var F=_t(z,1),Z=_t(H,1);for(H=_t(H,2),z=_t(z,2);!I(H);){var j=Z.add(H);0>=j.l(B)&&(F=F.add(z),Z=j),H=_t(H,1),z=_t(z,1)}return k=V(B,F.j(k)),new W(F,k)}for(F=E;0<=B.l(k);){for(z=Math.max(1,Math.floor(B.m()/k.m())),H=Math.ceil(Math.log(z)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),Z=p(z),j=Z.j(k);O(j)||0<j.l(B);)z-=H,Z=p(z),j=Z.j(k);I(Z)&&(Z=x),F=F.add(Z),B=V(B,j)}return new W(F,B)}n.A=function(B){return ut(this,B).h},n.and=function(B){for(var k=Math.max(this.g.length,B.g.length),z=[],H=0;H<k;H++)z[H]=this.i(H)&B.i(H);return new c(z,this.h&B.h)},n.or=function(B){for(var k=Math.max(this.g.length,B.g.length),z=[],H=0;H<k;H++)z[H]=this.i(H)|B.i(H);return new c(z,this.h|B.h)},n.xor=function(B){for(var k=Math.max(this.g.length,B.g.length),z=[],H=0;H<k;H++)z[H]=this.i(H)^B.i(H);return new c(z,this.h^B.h)};function et(B){for(var k=B.g.length+1,z=[],H=0;H<k;H++)z[H]=B.i(H)<<1|B.i(H-1)>>>31;return new c(z,B.h)}function _t(B,k){var z=k>>5;k%=32;for(var H=B.g.length-z,F=[],Z=0;Z<H;Z++)F[Z]=0<k?B.i(Z+z)>>>k|B.i(Z+z+1)<<32-k:B.i(Z+z);return new c(F,B.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,cx=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,_o=c}).apply(typeof UT<"u"?UT:typeof self<"u"?self:typeof window<"u"?window:{});var od=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hx,rh,fx,kd,__,dx,mx,px;(function(){var n,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,w,A){return g==Array.prototype||g==Object.prototype||(g[w]=A.value),g};function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof od=="object"&&od];for(var w=0;w<g.length;++w){var A=g[w];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var i=e(this);function r(g,w){if(w)t:{var A=i;g=g.split(".");for(var N=0;N<g.length-1;N++){var J=g[N];if(!(J in A))break t;A=A[J]}g=g[g.length-1],N=A[g],w=w(N),w!=N&&w!=null&&t(A,g,{configurable:!0,writable:!0,value:w})}}function o(g,w){g instanceof String&&(g+="");var A=0,N=!1,J={next:function(){if(!N&&A<g.length){var lt=A++;return{value:w(lt,g[lt]),done:!1}}return N=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}r("Array.prototype.values",function(g){return g||function(){return o(this,function(w,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(g){var w=typeof g;return w=w!="object"?w:g?Array.isArray(g)?"array":w:"null",w=="array"||w=="object"&&typeof g.length=="number"}function p(g){var w=typeof g;return w=="object"&&g!=null||w=="function"}function v(g,w,A){return g.call.apply(g.bind,arguments)}function E(g,w,A){if(!g)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,N),g.apply(w,J)}}return function(){return g.apply(w,arguments)}}function x(g,w,A){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:E,x.apply(null,arguments)}function R(g,w){var A=Array.prototype.slice.call(arguments,1);return function(){var N=A.slice();return N.push.apply(N,arguments),g.apply(this,N)}}function I(g,w){function A(){}A.prototype=w.prototype,g.aa=w.prototype,g.prototype=new A,g.prototype.constructor=g,g.Qb=function(N,J,lt){for(var wt=Array(arguments.length-2),re=2;re<arguments.length;re++)wt[re-2]=arguments[re];return w.prototype[J].apply(N,wt)}}function O(g){const w=g.length;if(0<w){const A=Array(w);for(let N=0;N<w;N++)A[N]=g[N];return A}return[]}function D(g,w){for(let A=1;A<arguments.length;A++){const N=arguments[A];if(m(N)){const J=g.length||0,lt=N.length||0;g.length=J+lt;for(let wt=0;wt<lt;wt++)g[J+wt]=N[wt]}else g.push(N)}}class V{constructor(w,A){this.i=w,this.j=A,this.h=0,this.g=null}get(){let w;return 0<this.h?(this.h--,w=this.g,this.g=w.next,w.next=null):w=this.i(),w}}function K(g){return/^[\s\xa0]*$/.test(g)}function W(){var g=f.navigator;return g&&(g=g.userAgent)?g:""}function ut(g){return ut[" "](g),g}ut[" "]=function(){};var et=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function _t(g,w,A){for(const N in g)w.call(A,g[N],N,g)}function B(g,w){for(const A in g)w.call(void 0,g[A],A,g)}function k(g){const w={};for(const A in g)w[A]=g[A];return w}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(g,w){let A,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(A in N)g[A]=N[A];for(let lt=0;lt<z.length;lt++)A=z[lt],Object.prototype.hasOwnProperty.call(N,A)&&(g[A]=N[A])}}function F(g){var w=1;g=g.split(":");const A=[];for(;0<w&&g.length;)A.push(g.shift()),w--;return g.length&&A.push(g.join(":")),A}function Z(g){f.setTimeout(()=>{throw g},0)}function j(){var g=Vt;let w=null;return g.g&&(w=g.g,g.g=g.g.next,g.g||(g.h=null),w.next=null),w}class Yt{constructor(){this.h=this.g=null}add(w,A){const N=Lt.get();N.set(w,A),this.h?this.h.next=N:this.g=N,this.h=N}}var Lt=new V(()=>new it,g=>g.reset());class it{constructor(){this.next=this.g=this.h=null}set(w,A){this.h=w,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,pt=!1,Vt=new Yt,U=()=>{const g=f.Promise.resolve(void 0);vt=()=>{g.then(ct)}};var ct=()=>{for(var g;g=j();){try{g.h.call(g.g)}catch(A){Z(A)}var w=Lt;w.j(g),100>w.h&&(w.h++,g.next=w.g,w.g=g)}pt=!1};function bt(){this.s=this.s,this.C=this.C}bt.prototype.s=!1,bt.prototype.ma=function(){this.s||(this.s=!0,this.N())},bt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function gt(g,w){this.type=g,this.g=this.target=w,this.defaultPrevented=!1}gt.prototype.h=function(){this.defaultPrevented=!0};var St=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var g=!1,w=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const A=()=>{};f.addEventListener("test",A,w),f.removeEventListener("test",A,w)}catch{}return g}();function At(g,w){if(gt.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var A=this.type=g.type,N=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=w,w=g.relatedTarget){if(et){t:{try{ut(w.nodeName);var J=!0;break t}catch{}J=!1}J||(w=null)}}else A=="mouseover"?w=g.fromElement:A=="mouseout"&&(w=g.toElement);this.relatedTarget=w,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:Et[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&At.aa.h.call(this)}}I(At,gt);var Et={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),ue=0;function yi(g,w,A,N,J){this.listener=g,this.proxy=null,this.src=w,this.type=A,this.capture=!!N,this.ha=J,this.key=++ue,this.da=this.fa=!1}function Fi(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function vi(g){this.src=g,this.g={},this.h=0}vi.prototype.add=function(g,w,A,N,J){var lt=g.toString();g=this.g[lt],g||(g=this.g[lt]=[],this.h++);var wt=ds(g,w,N,J);return-1<wt?(w=g[wt],A||(w.fa=!1)):(w=new yi(w,this.src,lt,!!N,J),w.fa=A,g.push(w)),w};function bi(g,w){var A=w.type;if(A in g.g){var N=g.g[A],J=Array.prototype.indexOf.call(N,w,void 0),lt;(lt=0<=J)&&Array.prototype.splice.call(N,J,1),lt&&(Fi(w),g.g[A].length==0&&(delete g.g[A],g.h--))}}function ds(g,w,A,N){for(var J=0;J<g.length;++J){var lt=g[J];if(!lt.da&&lt.listener==w&&lt.capture==!!A&&lt.ha==N)return J}return-1}var yr="closure_lm_"+(1e6*Math.random()|0),oa={};function Oo(g,w,A,N,J){if(Array.isArray(w)){for(var lt=0;lt<w.length;lt++)Oo(g,w[lt],A,N,J);return null}return A=Ul(A),g&&g[xe]?g.K(w,A,p(N)?!!N.capture:!1,J):Bn(g,w,A,!1,N,J)}function Bn(g,w,A,N,J,lt){if(!w)throw Error("Invalid event type");var wt=p(J)?!!J.capture:!!J,re=br(g);if(re||(g[yr]=re=new vi(g)),A=re.add(w,A,N,wt,lt),A.proxy)return A;if(N=la(),A.proxy=N,N.src=g,N.listener=A,g.addEventListener)St||(J=wt),J===void 0&&(J=!1),g.addEventListener(w.toString(),N,J);else if(g.attachEvent)g.attachEvent(ms(w.toString()),N);else if(g.addListener&&g.removeListener)g.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return A}function la(){function g(A){return w.call(g.src,g.listener,A)}const w=Bl;return g}function Do(g,w,A,N,J){if(Array.isArray(w))for(var lt=0;lt<w.length;lt++)Do(g,w[lt],A,N,J);else N=p(N)?!!N.capture:!!N,A=Ul(A),g&&g[xe]?(g=g.i,w=String(w).toString(),w in g.g&&(lt=g.g[w],A=ds(lt,A,N,J),-1<A&&(Fi(lt[A]),Array.prototype.splice.call(lt,A,1),lt.length==0&&(delete g.g[w],g.h--)))):g&&(g=br(g))&&(w=g.g[w.toString()],g=-1,w&&(g=ds(w,A,N,J)),(A=-1<g?w[g]:null)&&vr(A))}function vr(g){if(typeof g!="number"&&g&&!g.da){var w=g.src;if(w&&w[xe])bi(w.i,g);else{var A=g.type,N=g.proxy;w.removeEventListener?w.removeEventListener(A,N,g.capture):w.detachEvent?w.detachEvent(ms(A),N):w.addListener&&w.removeListener&&w.removeListener(N),(A=br(w))?(bi(A,g),A.h==0&&(A.src=null,w[yr]=null)):Fi(g)}}}function ms(g){return g in oa?oa[g]:oa[g]="on"+g}function Bl(g,w){if(g.da)g=!0;else{w=new At(w,this);var A=g.listener,N=g.ha||g.src;g.fa&&vr(g),g=A.call(N,w)}return g}function br(g){return g=g[yr],g instanceof vi?g:null}var ko="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ul(g){return typeof g=="function"?g:(g[ko]||(g[ko]=function(w){return g.handleEvent(w)}),g[ko])}function Oe(){bt.call(this),this.i=new vi(this),this.M=this,this.F=null}I(Oe,bt),Oe.prototype[xe]=!0,Oe.prototype.removeEventListener=function(g,w,A,N){Do(this,g,w,A,N)};function me(g,w){var A,N=g.F;if(N)for(A=[];N;N=N.F)A.push(N);if(g=g.M,N=w.type||w,typeof w=="string")w=new gt(w,g);else if(w instanceof gt)w.target=w.target||g;else{var J=w;w=new gt(N,g),H(w,J)}if(J=!0,A)for(var lt=A.length-1;0<=lt;lt--){var wt=w.g=A[lt];J=Un(wt,N,!0,w)&&J}if(wt=w.g=g,J=Un(wt,N,!0,w)&&J,J=Un(wt,N,!1,w)&&J,A)for(lt=0;lt<A.length;lt++)wt=w.g=A[lt],J=Un(wt,N,!1,w)&&J}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var g=this.i,w;for(w in g.g){for(var A=g.g[w],N=0;N<A.length;N++)Fi(A[N]);delete g.g[w],g.h--}}this.F=null},Oe.prototype.K=function(g,w,A,N){return this.i.add(String(g),w,!1,A,N)},Oe.prototype.L=function(g,w,A,N){return this.i.add(String(g),w,!0,A,N)};function Un(g,w,A,N){if(w=g.i.g[String(w)],!w)return!0;w=w.concat();for(var J=!0,lt=0;lt<w.length;++lt){var wt=w[lt];if(wt&&!wt.da&&wt.capture==A){var re=wt.listener,Ye=wt.ha||wt.src;wt.fa&&bi(g.i,wt),J=re.call(Ye,N)!==!1&&J}}return J&&!N.defaultPrevented}function vn(g,w,A){if(typeof g=="function")A&&(g=x(g,A));else if(g&&typeof g.handleEvent=="function")g=x(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(w)?-1:f.setTimeout(g,w||0)}function Lo(g){g.g=vn(()=>{g.g=null,g.i&&(g.i=!1,Lo(g))},g.l);const w=g.h;g.h=null,g.m.apply(null,w)}class jl extends bt{constructor(w,A){super(),this.m=w,this.l=A,this.h=null,this.i=!1,this.g=null}j(w){this.h=arguments,this.g?this.i=!0:Lo(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(g){bt.call(this),this.h=g,this.g={}}I(Tr,bt);var Vs=[];function ps(g){_t(g.g,function(w,A){this.g.hasOwnProperty(A)&&vr(w)},g),g.g={}}Tr.prototype.N=function(){Tr.aa.N.call(this),ps(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ai=f.JSON.stringify,ua=f.JSON.parse,Ti=class{stringify(g){return f.JSON.stringify(g,void 0)}parse(g){return f.JSON.parse(g,void 0)}};function No(){}No.prototype.h=null;function zo(g){return g.h||(g.h=g.i())}function ca(){}var qi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gi(){gt.call(this,"d")}I(Gi,gt);function Vo(){gt.call(this,"c")}I(Vo,gt);var Zi={},Bo=null;function Bs(){return Bo=Bo||new Oe}Zi.La="serverreachability";function ha(g){gt.call(this,Zi.La,g)}I(ha,gt);function Us(g){const w=Bs();me(w,new ha(w))}Zi.STAT_EVENT="statevent";function fa(g,w){gt.call(this,Zi.STAT_EVENT,g),this.stat=w}I(fa,gt);function De(g){const w=Bs();me(w,new fa(w,g))}Zi.Ma="timingevent";function $e(g,w){gt.call(this,Zi.Ma,g),this.size=w}I($e,gt);function Ke(g,w){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){g()},w)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function jn(g,w,A,N,J,lt){g.info(function(){if(g.g)if(lt)for(var wt="",re=lt.split("&"),Ye=0;Ye<re.length;Ye++){var ae=re[Ye].split("=");if(1<ae.length){var ye=ae[0];ae=ae[1];var Le=ye.split("_");wt=2<=Le.length&&Le[1]=="type"?wt+(ye+"="+ae+"&"):wt+(ye+"=redacted&")}}else wt=null;else wt=lt;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+w+`
`+A+`
`+wt})}function Ot(g,w,A,N,J,lt,wt){g.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+w+`
`+A+`
`+lt+" "+wt})}function gs(g,w,A,N){g.info(function(){return"XMLHTTP TEXT ("+w+"): "+js(g,A)+(N?" "+N:"")})}function Uo(g,w){g.info(function(){return"TIMEOUT: "+w})}oi.prototype.info=function(){};function js(g,w){if(!g.g)return w;if(!w)return null;try{var A=JSON.parse(w);if(A){for(g=0;g<A.length;g++)if(Array.isArray(A[g])){var N=A[g];if(!(2>N.length)){var J=N[1];if(Array.isArray(J)&&!(1>J.length)){var lt=J[0];if(lt!="noop"&&lt!="stop"&&lt!="close")for(var wt=1;wt<J.length;wt++)J[wt]=""}}}}return ai(A)}catch{return w}}var _s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ei={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wi;function Mn(){}I(Mn,No),Mn.prototype.g=function(){return new XMLHttpRequest},Mn.prototype.i=function(){return{}},wi=new Mn;function bn(g,w,A,N){this.j=g,this.i=w,this.l=A,this.R=N||1,this.U=new Tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Fe}function Fe(){this.i=null,this.g="",this.h=!1}var jo={},da={};function Si(g,w,A){g.L=1,g.v=Jn(ke(w)),g.m=A,g.P=!0,Wi(g,null)}function Wi(g,w){g.F=Date.now(),wr(g),g.A=ke(g.v);var A=g.A,N=g.R;Array.isArray(N)||(N=[String(N)]),qo(A.i,"t",N),g.C=0,A=g.j.J,g.h=new Fe,g.g=Wl(g.j,A?w:null,!g.m),0<g.O&&(g.M=new jl(x(g.Y,g,g.g),g.O)),w=g.U,A=g.g,N=g.ca;var J="readystatechange";Array.isArray(J)||(J&&(Vs[0]=J.toString()),J=Vs);for(var lt=0;lt<J.length;lt++){var wt=Oo(A,J[lt],N||w.handleEvent,!1,w.h||w);if(!wt)break;w.g[wt.key]=wt}w=g.H?k(g.H):{},g.m?(g.u||(g.u="POST"),w["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,w)):(g.u="GET",g.g.ea(g.A,g.u,null,w)),Us(),jn(g.i,g.u,g.A,g.l,g.R,g.m)}bn.prototype.ca=function(g){g=g.target;const w=this.M;w&&wn(g)==3?w.j():this.Y(g)},bn.prototype.Y=function(g){try{if(g==this.g)t:{const Le=wn(this.g);var w=this.g.Ba();const xs=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||Go(this.g)))){this.J||Le!=4||w==7||(w==8||0>=xs?Us(3):Us(2)),Hs(this);var A=this.g.Z();this.X=A;e:if(Hl(this)){var N=Go(this.g);g="";var J=N.length,lt=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),Ki(this);var wt="";break e}this.h.i=new f.TextDecoder}for(w=0;w<J;w++)this.h.h=!0,g+=this.h.i.decode(N[w],{stream:!(lt&&w==J-1)});N.length=0,this.h.g+=g,this.C=0,wt=this.h.g}else wt=this.g.oa();if(this.o=A==200,Ot(this.i,this.u,this.A,this.l,this.R,Le,A),this.o){if(this.T&&!this.K){e:{if(this.g){var re,Ye=this.g;if((re=Ye.g?Ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(re)){var ae=re;break e}}ae=null}if(A=ae)gs(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,A);else{this.o=!1,this.s=3,De(12),hn(this),Ki(this);break t}}if(this.P){A=!0;let Me;for(;!this.J&&this.C<wt.length;)if(Me=Er(this,wt),Me==da){Le==4&&(this.s=4,De(14),A=!1),gs(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==jo){this.s=4,De(15),gs(this.i,this.l,wt,"[Invalid Chunk]"),A=!1;break}else gs(this.i,this.l,Me,null),ys(this,Me);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||wt.length!=0||this.h.h||(this.s=1,De(16),A=!1),this.o=this.o&&A,!A)gs(this.i,this.l,wt,"[Invalid Chunked Response]"),hn(this),Ki(this);else if(0<wt.length&&!this.W){this.W=!0;var ye=this.j;ye.g==this&&ye.ba&&!ye.M&&(ye.j.info("Great, no buffering proxy detected. Bytes received: "+wt.length),Ks(ye),ye.M=!0,De(11))}}else gs(this.i,this.l,wt,null),ys(this,wt);Le==4&&hn(this),this.o&&!this.J&&(Le==4?Wo(this.j,this):(this.o=!1,wr(this)))}else rc(this.g),A==400&&0<wt.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),hn(this),Ki(this)}}}catch{}finally{}};function Hl(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Er(g,w){var A=g.C,N=w.indexOf(`
`,A);return N==-1?da:(A=Number(w.substring(A,N)),isNaN(A)?jo:(N+=1,N+A>w.length?da:(w=w.slice(N,N+A),g.C=N+A,w)))}bn.prototype.cancel=function(){this.J=!0,hn(this)};function wr(g){g.S=Date.now()+g.I,Fl(g,g.I)}function Fl(g,w){if(g.B!=null)throw Error("WatchDog timer not null");g.B=Ke(x(g.ba,g),w)}function Hs(g){g.B&&(f.clearTimeout(g.B),g.B=null)}bn.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(Uo(this.i,this.A),this.L!=2&&(Us(),De(17)),hn(this),this.s=2,Ki(this)):Fl(this,this.S-g)};function Ki(g){g.j.G==0||g.J||Wo(g.j,g)}function hn(g){Hs(g);var w=g.M;w&&typeof w.ma=="function"&&w.ma(),g.M=null,ps(g.U),g.g&&(w=g.g,g.g=null,w.abort(),w.ma())}function ys(g,w){try{var A=g.j;if(A.G!=0&&(A.g==g||te(A.h,g))){if(!g.K&&te(A.h,g)&&A.G==3){try{var N=A.Da.g.parse(w)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){t:if(!A.u){if(A.g)if(A.g.F+3e3<g.F)Ea(A),va(A);else break t;ba(A),De(18)}}else A.za=J[1],0<A.za-A.T&&37500>J[2]&&A.F&&A.v==0&&!A.C&&(A.C=Ke(x(A.Za,A),6e3));if(1>=Xi(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ss(A,11)}else if((g.K||A.g==g)&&Ea(A),!K(w))for(J=A.Da.g.parse(w),w=0;w<J.length;w++){let ae=J[w];if(A.T=ae[0],ae=ae[1],A.G==2)if(ae[0]=="c"){A.K=ae[1],A.ia=ae[2];const ye=ae[3];ye!=null&&(A.la=ye,A.j.info("VER="+A.la));const Le=ae[4];Le!=null&&(A.Aa=Le,A.j.info("SVER="+A.Aa));const xs=ae[5];xs!=null&&typeof xs=="number"&&0<xs&&(N=1.5*xs,A.L=N,A.j.info("backChannelRequestTimeoutMs_="+N)),N=A;const Me=g.g;if(Me){const es=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(es){var lt=N.h;lt.g||es.indexOf("spdy")==-1&&es.indexOf("quic")==-1&&es.indexOf("h2")==-1||(lt.j=lt.l,lt.g=new Set,lt.h&&(_e(lt,lt.h),lt.h=null))}if(N.D){const ns=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;ns&&(N.ya=ns,jt(N.I,N.D,ns))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-g.F,A.j.info("Handshake RTT: "+A.R+"ms")),N=A;var wt=g;if(N.qa=Sa(N,N.J?N.ia:null,N.W),wt.K){rn(N.h,wt);var re=wt,Ye=N.L;Ye&&(re.I=Ye),re.B&&(Hs(re),wr(re)),N.g=wt}else Mi(N);0<A.i.length&&Ws(A)}else ae[0]!="stop"&&ae[0]!="close"||Ss(A,7);else A.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Ss(A,7):ya(A):ae[0]!="noop"&&A.l&&A.l.ta(ae),A.v=0)}}Us(4)}catch{}}var Fs=class{constructor(g,w){this.g=g,this.map=w}};function Yi(g){this.l=g||10,f.PerformanceNavigationTiming?(g=f.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sr(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Xi(g){return g.h?1:g.g?g.g.size:0}function te(g,w){return g.h?g.h==w:g.g?g.g.has(w):!1}function _e(g,w){g.g?g.g.add(w):g.h=w}function rn(g,w){g.h&&g.h==w?g.h=null:g.g&&g.g.has(w)&&g.g.delete(w)}Yi.prototype.cancel=function(){if(this.i=Qi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Qi(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let w=g.i;for(const A of g.g.values())w=w.concat(A.D);return w}return O(g.i)}function qs(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(m(g)){for(var w=[],A=g.length,N=0;N<A;N++)w.push(g[N]);return w}w=[],A=0;for(N in g)w[A++]=g[N];return w}function Gs(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(m(g)||typeof g=="string"){var w=[];g=g.length;for(var A=0;A<g;A++)w.push(A);return w}w=[],A=0;for(const N in g)w[A++]=N;return w}}}function Zt(g,w){if(g.forEach&&typeof g.forEach=="function")g.forEach(w,void 0);else if(m(g)||typeof g=="string")Array.prototype.forEach.call(g,w,void 0);else for(var A=Gs(g),N=qs(g),J=N.length,lt=0;lt<J;lt++)w.call(void 0,N[lt],A&&A[lt],g)}var Te=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ho(g,w){if(g){g=g.split("&");for(var A=0;A<g.length;A++){var N=g[A].indexOf("="),J=null;if(0<=N){var lt=g[A].substring(0,N);J=g[A].substring(N+1)}else lt=g[A];w(lt,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function Ve(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ve){this.h=g.h,xr(this,g.j),this.o=g.o,this.g=g.g,xi(this,g.s),this.l=g.l;var w=g.i,A=new Ri;A.i=w.i,w.g&&(A.g=new Map(w.g),A.h=w.h),Pn(this,A),this.m=g.m}else g&&(w=String(g).match(Te))?(this.h=!1,xr(this,w[1]||"",!0),this.o=Tn(w[2]||""),this.g=Tn(w[3]||"",!0),xi(this,w[4]),this.l=Tn(w[5]||"",!0),Pn(this,w[6]||"",!0),this.m=Tn(w[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}Ve.prototype.toString=function(){var g=[],w=this.j;w&&g.push(Ai(w,vs,!0),":");var A=this.g;return(A||w=="file")&&(g.push("//"),(w=this.o)&&g.push(Ai(w,vs,!0),"@"),g.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&g.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&g.push("/"),g.push(Ai(A,A.charAt(0)=="/"?Fo:Ar,!0))),(A=this.i.toString())&&g.push("?",A),(A=this.m)&&g.push("#",Ai(A,Zs)),g.join("")};function ke(g){return new Ve(g)}function xr(g,w,A){g.j=A?Tn(w,!0):w,g.j&&(g.j=g.j.replace(/:$/,""))}function xi(g,w){if(w){if(w=Number(w),isNaN(w)||0>w)throw Error("Bad port number "+w);g.s=w}else g.s=null}function Pn(g,w,A){w instanceof Ri?(g.i=w,ti(g.i,g.h)):(A||(w=Ai(w,pa)),g.i=new Ri(w,g.h))}function jt(g,w,A){g.i.set(w,A)}function Jn(g){return jt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function Tn(g,w){return g?w?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ai(g,w,A){return typeof g=="string"?(g=encodeURI(g).replace(w,ma),A&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function ma(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var vs=/[#\/\?@]/g,Ar=/[#\?:]/g,Fo=/[#\?]/g,pa=/[#\?@]/g,Zs=/#/g;function Ri(g,w){this.h=this.g=null,this.i=g||null,this.j=!!w}function On(g){g.g||(g.g=new Map,g.h=0,g.i&&Ho(g.i,function(w,A){g.add(decodeURIComponent(w.replace(/\+/g," ")),A)}))}n=Ri.prototype,n.add=function(g,w){On(this),this.i=null,g=Nt(this,g);var A=this.g.get(g);return A||this.g.set(g,A=[]),A.push(w),this.h+=1,this};function $i(g,w){On(g),w=Nt(g,w),g.g.has(w)&&(g.i=null,g.h-=g.g.get(w).length,g.g.delete(w))}function Ci(g,w){return On(g),w=Nt(g,w),g.g.has(w)}n.forEach=function(g,w){On(this),this.g.forEach(function(A,N){A.forEach(function(J){g.call(w,J,N,this)},this)},this)},n.na=function(){On(this);const g=Array.from(this.g.values()),w=Array.from(this.g.keys()),A=[];for(let N=0;N<w.length;N++){const J=g[N];for(let lt=0;lt<J.length;lt++)A.push(w[N])}return A},n.V=function(g){On(this);let w=[];if(typeof g=="string")Ci(this,g)&&(w=w.concat(this.g.get(Nt(this,g))));else{g=Array.from(this.g.values());for(let A=0;A<g.length;A++)w=w.concat(g[A])}return w},n.set=function(g,w){return On(this),this.i=null,g=Nt(this,g),Ci(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[w]),this.h+=1,this},n.get=function(g,w){return g?(g=this.V(g),0<g.length?String(g[0]):w):w};function qo(g,w,A){$i(g,w),0<A.length&&(g.i=null,g.g.set(Nt(g,w),O(A)),g.h+=A.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],w=Array.from(this.g.keys());for(var A=0;A<w.length;A++){var N=w[A];const lt=encodeURIComponent(String(N)),wt=this.V(N);for(N=0;N<wt.length;N++){var J=lt;wt[N]!==""&&(J+="="+encodeURIComponent(String(wt[N]))),g.push(J)}}return this.i=g.join("&")};function Nt(g,w){return w=String(w),g.j&&(w=w.toLowerCase()),w}function ti(g,w){w&&!g.j&&(On(g),g.i=null,g.g.forEach(function(A,N){var J=N.toLowerCase();N!=J&&($i(this,N),qo(this,J,A))},g)),g.j=w}function ce(g,w){const A=new oi;if(f.Image){const N=new Image;N.onload=R(Hn,A,"TestLoadImage: loaded",!0,w,N),N.onerror=R(Hn,A,"TestLoadImage: error",!1,w,N),N.onabort=R(Hn,A,"TestLoadImage: abort",!1,w,N),N.ontimeout=R(Hn,A,"TestLoadImage: timeout",!1,w,N),f.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=g}else w(!1)}function li(g,w){const A=new oi,N=new AbortController,J=setTimeout(()=>{N.abort(),Hn(A,"TestPingServer: timeout",!1,w)},1e4);fetch(g,{signal:N.signal}).then(lt=>{clearTimeout(J),lt.ok?Hn(A,"TestPingServer: ok",!0,w):Hn(A,"TestPingServer: server error",!1,w)}).catch(()=>{clearTimeout(J),Hn(A,"TestPingServer: error",!1,w)})}function Hn(g,w,A,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(A)}catch{}}function bs(){this.g=new Ti}function ui(g,w,A){const N=A||"";try{Zt(g,function(J,lt){let wt=J;p(J)&&(wt=ai(J)),w.push(N+lt+"="+encodeURIComponent(wt))})}catch(J){throw w.push(N+"type="+encodeURIComponent("_badmap")),J}}function Fn(g){this.l=g.Ub||null,this.j=g.eb||!1}I(Fn,No),Fn.prototype.g=function(){return new Ii(this.l,this.j)},Fn.prototype.i=function(g){return function(){return g}}({});function Ii(g,w){Oe.call(this),this.D=g,this.o=w,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ii,Oe),n=Ii.prototype,n.open=function(g,w){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=w,this.readyState=1,En(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const w={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(w.body=g),(this.D||f).fetch(new Request(this.A,w)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ae(this)),this.readyState=0},n.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,En(this)),this.g&&(this.readyState=3,En(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ts(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ts(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}n.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var w=g.value?g.value:new Uint8Array(0);(w=this.v.decode(w,{stream:!g.done}))&&(this.response=this.responseText+=w)}g.done?Ae(this):En(this),this.readyState==3&&Ts(this)}},n.Ra=function(g){this.g&&(this.response=this.responseText=g,Ae(this))},n.Qa=function(g){this.g&&(this.response=g,Ae(this))},n.ga=function(){this.g&&Ae(this)};function Ae(g){g.readyState=4,g.l=null,g.j=null,g.v=null,En(g)}n.setRequestHeader=function(g,w){this.u.append(g,w)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],w=this.h.entries();for(var A=w.next();!A.done;)A=A.value,g.push(A[0]+": "+A[1]),A=w.next();return g.join(`\r
`)};function En(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ii.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ga(g){let w="";return _t(g,function(A,N){w+=N,w+=":",w+=A,w+=`\r
`}),w}function Je(g,w,A){t:{for(N in A){var N=!1;break t}N=!0}N||(A=ga(A),typeof g=="string"?A!=null&&encodeURIComponent(String(A)):jt(g,w,A))}function pe(g){Oe.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(pe,Oe);var Rr=/^https?$/i,Es=["POST","PUT"];n=pe.prototype,n.Ha=function(g){this.J=g},n.ea=function(g,w,A,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);w=w?w.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wi.g(),this.v=this.o?zo(this.o):zo(wi),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(w,String(g),!0),this.B=!1}catch(lt){ql(this,lt);return}if(g=A||"",A=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)A.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const lt of N.keys())A.set(lt,N.get(lt));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(A.keys()).find(lt=>lt.toLowerCase()=="content-type"),J=f.FormData&&g instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Es,w,void 0))||N||J||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[lt,wt]of A)this.g.setRequestHeader(lt,wt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fn(this),this.u=!0,this.g.send(g),this.u=!1}catch(lt){ql(this,lt)}};function ql(g,w){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=w,g.m=5,Cr(g),Ji(g)}function Cr(g){g.A||(g.A=!0,me(g,"complete"),me(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,me(this,"complete"),me(this,"abort"),Ji(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),pe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xt(this):this.bb())},n.bb=function(){Xt(this)};function Xt(g){if(g.h&&typeof c<"u"&&(!g.v[1]||wn(g)!=4||g.Z()!=2)){if(g.u&&wn(g)==4)vn(g.Ea,0,g);else if(me(g,"readystatechange"),wn(g)==4){g.h=!1;try{const wt=g.Z();t:switch(wt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var w=!0;break t;default:w=!1}var A;if(!(A=w)){var N;if(N=wt===0){var J=String(g.D).match(Te)[1]||null;!J&&f.self&&f.self.location&&(J=f.self.location.protocol.slice(0,-1)),N=!Rr.test(J?J.toLowerCase():"")}A=N}if(A)me(g,"complete"),me(g,"success");else{g.m=6;try{var lt=2<wn(g)?g.g.statusText:""}catch{lt=""}g.l=lt+" ["+g.Z()+"]",Cr(g)}}finally{Ji(g)}}}}function Ji(g,w){if(g.g){fn(g);const A=g.g,N=g.v[0]?()=>{}:null;g.g=null,g.v=null,w||me(g,"ready");try{A.onreadystatechange=N}catch{}}}function fn(g){g.I&&(f.clearTimeout(g.I),g.I=null)}n.isActive=function(){return!!this.g};function wn(g){return g.g?g.g.readyState:0}n.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(g){if(this.g){var w=this.g.responseText;return g&&w.indexOf(g)==0&&(w=w.substring(g.length)),ua(w)}};function Go(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function rc(g){const w={};g=(g.g&&2<=wn(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<g.length;N++){if(K(g[N]))continue;var A=F(g[N]);const J=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const lt=w[J]||[];w[J]=lt,lt.push(A)}B(w,function(N){return N.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(g,w,A){return A&&A.internalChannelParams&&A.internalChannelParams[g]||w}function _a(g){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,g),this.cb=ws("retryDelaySeedMs",1e4,g),this.Wa=ws("forwardChannelMaxRetries",2,g),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new Yi(g&&g.concurrentRequestLimit),this.Da=new bs,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_a.prototype,n.la=8,n.G=1,n.connect=function(g,w,A,N){De(0),this.W=g,this.H=w||{},A&&N!==void 0&&(this.H.OSID=A,this.H.OAID=N),this.F=this.X,this.I=Sa(this,null,this.W),Ws(this)};function ya(g){if(Gl(g),g.G==3){var w=g.U++,A=ke(g.I);if(jt(A,"SID",g.K),jt(A,"RID",w),jt(A,"TYPE","terminate"),Ir(g,A),w=new bn(g,g.j,w),w.L=2,w.v=Jn(ke(A)),A=!1,f.navigator&&f.navigator.sendBeacon)try{A=f.navigator.sendBeacon(w.v.toString(),"")}catch{}!A&&f.Image&&(new Image().src=w.v,A=!0),A||(w.g=Wl(w.j,null),w.g.ea(w.v)),w.F=Date.now(),wr(w)}Zl(g)}function va(g){g.g&&(Ks(g),g.g.cancel(),g.g=null)}function Gl(g){va(g),g.u&&(f.clearTimeout(g.u),g.u=null),Ea(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&f.clearTimeout(g.s),g.s=null)}function Ws(g){if(!Sr(g.h)&&!g.s){g.s=!0;var w=g.Ga;vt||U(),pt||(vt(),pt=!0),Vt.add(w,g),g.B=0}}function ac(g,w){return Xi(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=w.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=Ke(x(g.Ga,g,w),wa(g,g.B)),g.B++,!0)}n.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const J=new bn(this,this.j,g);let lt=this.o;if(this.S&&(lt?(lt=k(lt),H(lt,this.S)):lt=this.S),this.m!==null||this.O||(J.H=lt,lt=null),this.P)t:{for(var w=0,A=0;A<this.i.length;A++){e:{var N=this.i[A];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break e}N=void 0}if(N===void 0)break;if(w+=N,4096<w){w=A;break t}if(w===4096||A===this.i.length-1){w=A+1;break t}}w=1e3}else w=1e3;w=Zo(this,J,w),A=ke(this.I),jt(A,"RID",g),jt(A,"CVER",22),this.D&&jt(A,"X-HTTP-Session-Id",this.D),Ir(this,A),lt&&(this.O?w="headers="+encodeURIComponent(String(ga(lt)))+"&"+w:this.m&&Je(A,this.m,lt)),_e(this.h,J),this.Ua&&jt(A,"TYPE","init"),this.P?(jt(A,"$req",w),jt(A,"SID","null"),J.T=!0,Si(J,A,null)):Si(J,A,w),this.G=2}}else this.G==3&&(g?qn(this,g):this.i.length==0||Sr(this.h)||qn(this))};function qn(g,w){var A;w?A=w.l:A=g.U++;const N=ke(g.I);jt(N,"SID",g.K),jt(N,"RID",A),jt(N,"AID",g.T),Ir(g,N),g.m&&g.o&&Je(N,g.m,g.o),A=new bn(g,g.j,A,g.B+1),g.m===null&&(A.H=g.o),w&&(g.i=w.D.concat(g.i)),w=Zo(g,A,1e3),A.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),_e(g.h,A),Si(A,N,w)}function Ir(g,w){g.H&&_t(g.H,function(A,N){jt(w,N,A)}),g.l&&Zt({},function(A,N){jt(w,N,A)})}function Zo(g,w,A){A=Math.min(g.i.length,A);var N=g.l?x(g.l.Na,g.l,g):null;t:{var J=g.i;let lt=-1;for(;;){const wt=["count="+A];lt==-1?0<A?(lt=J[0].g,wt.push("ofs="+lt)):lt=0:wt.push("ofs="+lt);let re=!0;for(let Ye=0;Ye<A;Ye++){let ae=J[Ye].g;const ye=J[Ye].map;if(ae-=lt,0>ae)lt=Math.max(0,J[Ye].g-100),re=!1;else try{ui(ye,wt,"req"+ae+"_")}catch{N&&N(ye)}}if(re){N=wt.join("&");break t}}}return g=g.i.splice(0,A),w.D=g,N}function Mi(g){if(!g.g&&!g.u){g.Y=1;var w=g.Fa;vt||U(),pt||(vt(),pt=!0),Vt.add(w,g),g.v=0}}function ba(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=Ke(x(g.Fa,g),wa(g,g.v)),g.v++,!0)}n.Fa=function(){if(this.u=null,Ta(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=Ke(x(this.ab,this),g)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),va(this),Ta(this))};function Ks(g){g.A!=null&&(f.clearTimeout(g.A),g.A=null)}function Ta(g){g.g=new bn(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var w=ke(g.qa);jt(w,"RID","rpc"),jt(w,"SID",g.K),jt(w,"AID",g.T),jt(w,"CI",g.F?"0":"1"),!g.F&&g.ja&&jt(w,"TO",g.ja),jt(w,"TYPE","xmlhttp"),Ir(g,w),g.m&&g.o&&Je(w,g.m,g.o),g.L&&(g.g.I=g.L);var A=g.g;g=g.ia,A.L=1,A.v=Jn(ke(w)),A.m=null,A.P=!0,Wi(A,g)}n.Za=function(){this.C!=null&&(this.C=null,va(this),ba(this),De(19))};function Ea(g){g.C!=null&&(f.clearTimeout(g.C),g.C=null)}function Wo(g,w){var A=null;if(g.g==w){Ea(g),Ks(g),g.g=null;var N=2}else if(te(g.h,w))A=w.D,rn(g.h,w),N=1;else return;if(g.G!=0){if(w.o)if(N==1){A=w.m?w.m.length:0,w=Date.now()-w.F;var J=g.B;N=Bs(),me(N,new $e(N,A)),Ws(g)}else Mi(g);else if(J=w.s,J==3||J==0&&0<w.X||!(N==1&&ac(g,w)||N==2&&ba(g)))switch(A&&0<A.length&&(w=g.h,w.i=w.i.concat(A)),J){case 1:Ss(g,5);break;case 4:Ss(g,10);break;case 3:Ss(g,6);break;default:Ss(g,2)}}}function wa(g,w){let A=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(A*=2),A*w}function Ss(g,w){if(g.j.info("Error code "+w),w==2){var A=x(g.fb,g),N=g.Xa;const J=!N;N=new Ve(N||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||xr(N,"https"),Jn(N),J?ce(N.toString(),A):li(N.toString(),A)}else De(2);g.G=0,g.l&&g.l.sa(w),Zl(g),Gl(g)}n.fb=function(g){g?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function Zl(g){if(g.G=0,g.ka=[],g.l){const w=Qi(g.h);(w.length!=0||g.i.length!=0)&&(D(g.ka,w),D(g.ka,g.i),g.h.i.length=0,O(g.i),g.i.length=0),g.l.ra()}}function Sa(g,w,A){var N=A instanceof Ve?ke(A):new Ve(A);if(N.g!="")w&&(N.g=w+"."+N.g),xi(N,N.s);else{var J=f.location;N=J.protocol,w=w?w+"."+J.hostname:J.hostname,J=+J.port;var lt=new Ve(null);N&&xr(lt,N),w&&(lt.g=w),J&&xi(lt,J),A&&(lt.l=A),N=lt}return A=g.D,w=g.ya,A&&w&&jt(N,A,w),jt(N,"VER",g.la),Ir(g,N),N}function Wl(g,w,A){if(w&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return w=g.Ca&&!g.pa?new pe(new Fn({eb:A})):new pe(g.pa),w.Ha(g.J),w}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ko(){}n=Ko.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Mr(){}Mr.prototype.g=function(g,w){return new an(g,w)};function an(g,w){Oe.call(this),this.g=new _a(w),this.l=g,this.h=w&&w.messageUrlParams||null,g=w&&w.messageHeaders||null,w&&w.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=w&&w.initMessageHeaders||null,w&&w.messageContentType&&(g?g["X-WebChannel-Content-Type"]=w.messageContentType:g={"X-WebChannel-Content-Type":w.messageContentType}),w&&w.va&&(g?g["X-WebChannel-Client-Profile"]=w.va:g={"X-WebChannel-Client-Profile":w.va}),this.g.S=g,(g=w&&w.Sb)&&!K(g)&&(this.g.m=g),this.v=w&&w.supportsCrossDomainXhr||!1,this.u=w&&w.sendRawJson||!1,(w=w&&w.httpSessionIdParam)&&!K(w)&&(this.g.D=w,g=this.h,g!==null&&w in g&&(g=this.h,w in g&&delete g[w])),this.j=new Gn(this)}I(an,Oe),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){ya(this.g)},an.prototype.o=function(g){var w=this.g;if(typeof g=="string"){var A={};A.__data__=g,g=A}else this.u&&(A={},A.__data__=ai(g),g=A);w.i.push(new Fs(w.Ya++,g)),w.G==3&&Ws(w)},an.prototype.N=function(){this.g.l=null,delete this.j,ya(this.g),delete this.g,an.aa.N.call(this)};function ts(g){Gi.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var w=g.__sm__;if(w){t:{for(const A in w){g=A;break t}g=void 0}(this.i=g)&&(g=this.i,w=w!==null&&g in w?w[g]:void 0),this.data=w}else this.data=g}I(ts,Gi);function Kl(){Vo.call(this),this.status=1}I(Kl,Vo);function Gn(g){this.g=g}I(Gn,Ko),Gn.prototype.ua=function(){me(this.g,"a")},Gn.prototype.ta=function(g){me(this.g,new ts(g))},Gn.prototype.sa=function(g){me(this.g,new Kl)},Gn.prototype.ra=function(){me(this.g,"b")},Mr.prototype.createWebChannel=Mr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,px=function(){return new Mr},mx=function(){return Bs()},dx=Zi,__={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_s.NO_ERROR=0,_s.TIMEOUT=8,_s.HTTP_ERROR=6,kd=_s,Ei.COMPLETE="complete",fx=Ei,ca.EventType=qi,qi.OPEN="a",qi.CLOSE="b",qi.ERROR="c",qi.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,rh=ca,pe.prototype.listenOnce=pe.prototype.L,pe.prototype.getLastError=pe.prototype.Ka,pe.prototype.getLastErrorCode=pe.prototype.Ba,pe.prototype.getStatus=pe.prototype.Z,pe.prototype.getResponseJson=pe.prototype.Oa,pe.prototype.getResponseText=pe.prototype.oa,pe.prototype.send=pe.prototype.ea,pe.prototype.setWithCredentials=pe.prototype.Ha,hx=pe}).apply(typeof od<"u"?od:typeof self<"u"?self:typeof window<"u"?window:{});const jT="@firebase/firestore",HT="4.7.12";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Yn.UNAUTHENTICATED=new Yn(null),Yn.GOOGLE_CREDENTIALS=new Yn("google-credentials-uid"),Yn.FIRST_PARTY=new Yn("first-party-uid"),Yn.MOCK_USER=new Yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc="11.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new Q_("@firebase/firestore");function Ru(){return Cl.logLevel}function Rt(n,...t){if(Cl.logLevel<=oe.DEBUG){const e=t.map(uy);Cl.debug(`Firestore (${tc}): ${n}`,...e)}}function sa(n,...t){if(Cl.logLevel<=oe.ERROR){const e=t.map(uy);Cl.error(`Firestore (${tc}): ${n}`,...e)}}function Bu(n,...t){if(Cl.logLevel<=oe.WARN){const e=t.map(uy);Cl.warn(`Firestore (${tc}): ${n}`,...e)}}function uy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,gx(n,i,e)}function gx(n,t,e){let i=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw sa(i),new Error(i)}function be(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||gx(t,r,i)}function Kt(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends aa{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class WO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Yn.UNAUTHENTICATED))}shutdown(){}}class KO{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class YO{constructor(t){this.t=t,this.currentUser=Yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){be(this.o===void 0,42304);let i=this.i;const r=m=>this.i!==i?(i=this.i,e(m)):Promise.resolve();let o=new yo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yo,t.enqueueRetryable(()=>r(this.currentUser))};const c=()=>{const m=o;t.enqueueRetryable(async()=>{await m.promise,await r(this.currentUser)})},f=m=>{Rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yo)}},0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(be(typeof i.accessToken=="string",31837,{l:i}),new _x(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return be(t===null||typeof t=="string",2055,{h:t}),new Yn(t)}}class XO{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QO{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new XO(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $O{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,cs(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){be(this.o===void 0,3512);const i=o=>{o.error!=null&&Rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,Rt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):Rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new FT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(be(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new FT(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=JO(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Jt(n,t){return n<t?-1:n>t?1:0}function y_(n,t){let e=0;for(;e<n.length&&e<t.length;){const i=n.codePointAt(e),r=t.codePointAt(e);if(i!==r){if(i<128&&r<128)return Jt(i,r);{const o=yx(),c=tD(o.encode(qT(n,e)),o.encode(qT(t,e)));return c!==0?c:Jt(i,r)}}e+=i>65535?2:1}return Jt(n.length,t.length)}function qT(n,t){return n.codePointAt(t)>65535?n.substring(t,t+2):n.substring(t,t+1)}function tD(n,t){for(let e=0;e<n.length&&e<t.length;++e)if(n[e]!==t[e])return Jt(n[e],t[e]);return Jt(n.length,t.length)}function Uu(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT=-62135596800,ZT=1e6;class _n{static now(){return _n.fromMillis(Date.now())}static fromDate(t){return _n.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*ZT);return new _n(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new kt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new kt(Tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<GT)throw new kt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kt(Tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ZT}_compareTo(t){return this.seconds===t.seconds?Jt(this.nanoseconds,t.nanoseconds):Jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-GT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{static fromTimestamp(t){return new Wt(t)}static min(){return new Wt(new _n(0,0))}static max(){return new Wt(new _n(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="__name__";class or{constructor(t,e,i){e===void 0?e=0:e>t.length&&Ft(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Ft(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return or.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof or?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=or.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Jt(t.length,e.length)}static compareSegments(t,e){const i=or.isNumericId(t),r=or.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?or.extractNumericId(t).compare(or.extractNumericId(e)):y_(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return _o.fromString(t.substring(4,t.length-2))}}class He extends or{construct(t,e,i){return new He(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new kt(Tt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new He(e)}static emptyPath(){return new He([])}}const eD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends or{construct(t,e,i){return new zn(t,e,i)}static isValidIdentifier(t){return eD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===WT}static keyField(){return new zn([WT])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new kt(Tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const f=t[r];if(f==="\\"){if(r+1===t.length)throw new kt(Tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new kt(Tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else f==="`"?(c=!c,r++):f!=="."||c?(i+=f,r++):(o(),r++)}if(o(),c)throw new kt(Tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new zn(e)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(t){this.path=t}static fromPath(t){return new zt(He.fromString(t))}static fromName(t){return new zt(He.fromString(t).popFirst(5))}static empty(){return new zt(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&He.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return He.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new zt(new He(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=-1;function nD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Wt.fromTimestamp(i===1e9?new _n(e+1,0):new _n(e,i));return new To(r,zt.empty(),t)}function iD(n){return new To(n.readTime,n.key,Ch)}class To{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new To(Wt.min(),zt.empty(),Ch)}static max(){return new To(Wt.max(),zt.empty(),Ch)}}function sD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=zt.comparator(n.documentKey,t.documentKey),e!==0?e:Jt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(n){if(n.code!==Tt.FAILED_PRECONDITION||n.message!==rD)throw n;Rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new mt((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof mt?e:mt.resolve(e)}catch(e){return mt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):mt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):mt.reject(e)}static resolve(t){return new mt((e,i)=>{e(t)})}static reject(t){return new mt((e,i)=>{i(t)})}static waitFor(t){return new mt((e,i)=>{let r=0,o=0,c=!1;t.forEach(f=>{++r,f.next(()=>{++o,c&&o===r&&e()},m=>i(m))}),c=!0,o===r&&e()})}static or(t){let e=mt.resolve(!1);for(const i of t)e=e.next(r=>r?mt.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new mt((i,r)=>{const o=t.length,c=new Array(o);let f=0;for(let m=0;m<o;m++){const p=m;e(t[p]).next(v=>{c[p]=v,++f,f===o&&i(c)},v=>r(v))}})}static doWhile(t,e){return new mt((i,r)=>{const o=()=>{t()===!0?e().next(()=>{o()},r):i()};o()})}}function oD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function nc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>e.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Lm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-1;function Nm(n){return n==null}function im(n){return n===0&&1/n==-1/0}function lD(n){return typeof n=="number"&&Number.isInteger(n)&&!im(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="";function uD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=KT(t)),t=cD(n.get(e),t);return KT(t)}function cD(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case bx:e+="";break;default:e+=o}}return e}function KT(n){return n+bx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function kl(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Tx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(t,e){this.comparator=t,this.root=e||Nn.EMPTY}insert(t,e){return new We(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Nn.BLACK,null,null))}remove(t){return new We(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new ld(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new ld(this.root,t,this.comparator,!1)}getReverseIterator(){return new ld(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new ld(this.root,t,this.comparator,!0)}}class ld{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Nn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Nn.RED,this.left=r??Nn.EMPTY,this.right=o??Nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Nn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Nn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ft(27949);return t+(this.isRed()?0:1)}}Nn.EMPTY=null,Nn.RED=!0,Nn.BLACK=!1;Nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ft(57766)}get value(){throw Ft(16141)}get color(){throw Ft(16727)}get left(){throw Ft(29726)}get right(){throw Ft(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Nn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.comparator=t,this.data=new We(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new XT(this.data.getIterator())}getIteratorFrom(t){return new XT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof yn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new yn(this.comparator);return e.data=t,e}}class XT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(t){this.fields=t,t.sort(zn.comparator)}static empty(){return new ks([])}unionWith(t){let e=new yn(zn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ks(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Uu(this.fields,t.fields,(e,i)=>e.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ex("Invalid base64 string: "+o):o}}(t);return new Vn(e)}static fromUint8Array(t){const e=function(r){let o="";for(let c=0;c<r.length;++c)o+=String.fromCharCode(r[c]);return o}(t);return new Vn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const hD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(n){if(be(!!n,39018),typeof n=="string"){let t=0;const e=hD.exec(n);if(be(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:nn(n.seconds),nanos:nn(n.nanos)}}function nn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wo(n){return typeof n=="string"?Vn.fromBase64String(n):Vn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="server_timestamp",Sx="__type__",xx="__previous_value__",Ax="__local_write_time__";function hy(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Sx])===null||e===void 0?void 0:e.stringValue)===wx}function zm(n){const t=n.mapValue.fields[xx];return hy(t)?zm(t):t}function Ih(n){const t=Eo(n.mapValue.fields[Ax].timestampValue);return new _n(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(t,e,i,r,o,c,f,m,p,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=p,this.isUsingEmulator=v}}const sm="(default)";class Mh{constructor(t,e){this.projectId=t,this.database=e||sm}static empty(){return new Mh("","")}get isDefaultDatabase(){return this.database===sm}isEqual(t){return t instanceof Mh&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx="__type__",dD="__max__",ud={mapValue:{}},Cx="__vector__",rm="value";function So(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hy(n)?4:pD(n)?9007199254740991:mD(n)?10:11:Ft(28295,{value:n})}function mr(n,t){if(n===t)return!0;const e=So(n);if(e!==So(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ih(n).isEqual(Ih(t));case 3:return function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const c=Eo(r.timestampValue),f=Eo(o.timestampValue);return c.seconds===f.seconds&&c.nanos===f.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(r,o){return wo(r.bytesValue).isEqual(wo(o.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,o){return nn(r.geoPointValue.latitude)===nn(o.geoPointValue.latitude)&&nn(r.geoPointValue.longitude)===nn(o.geoPointValue.longitude)}(n,t);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return nn(r.integerValue)===nn(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const c=nn(r.doubleValue),f=nn(o.doubleValue);return c===f?im(c)===im(f):isNaN(c)&&isNaN(f)}return!1}(n,t);case 9:return Uu(n.arrayValue.values||[],t.arrayValue.values||[],mr);case 10:case 11:return function(r,o){const c=r.mapValue.fields||{},f=o.mapValue.fields||{};if(YT(c)!==YT(f))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(f[m]===void 0||!mr(c[m],f[m])))return!1;return!0}(n,t);default:return Ft(52216,{left:n})}}function Ph(n,t){return(n.values||[]).find(e=>mr(e,t))!==void 0}function ju(n,t){if(n===t)return 0;const e=So(n),i=So(t);if(e!==i)return Jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,t.booleanValue);case 2:return function(o,c){const f=nn(o.integerValue||o.doubleValue),m=nn(c.integerValue||c.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(n,t);case 3:return QT(n.timestampValue,t.timestampValue);case 4:return QT(Ih(n),Ih(t));case 5:return y_(n.stringValue,t.stringValue);case 6:return function(o,c){const f=wo(o),m=wo(c);return f.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(o,c){const f=o.split("/"),m=c.split("/");for(let p=0;p<f.length&&p<m.length;p++){const v=Jt(f[p],m[p]);if(v!==0)return v}return Jt(f.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(o,c){const f=Jt(nn(o.latitude),nn(c.latitude));return f!==0?f:Jt(nn(o.longitude),nn(c.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return $T(n.arrayValue,t.arrayValue);case 10:return function(o,c){var f,m,p,v;const E=o.fields||{},x=c.fields||{},R=(f=E[rm])===null||f===void 0?void 0:f.arrayValue,I=(m=x[rm])===null||m===void 0?void 0:m.arrayValue,O=Jt(((p=R==null?void 0:R.values)===null||p===void 0?void 0:p.length)||0,((v=I==null?void 0:I.values)===null||v===void 0?void 0:v.length)||0);return O!==0?O:$T(R,I)}(n.mapValue,t.mapValue);case 11:return function(o,c){if(o===ud.mapValue&&c===ud.mapValue)return 0;if(o===ud.mapValue)return 1;if(c===ud.mapValue)return-1;const f=o.fields||{},m=Object.keys(f),p=c.fields||{},v=Object.keys(p);m.sort(),v.sort();for(let E=0;E<m.length&&E<v.length;++E){const x=y_(m[E],v[E]);if(x!==0)return x;const R=ju(f[m[E]],p[v[E]]);if(R!==0)return R}return Jt(m.length,v.length)}(n.mapValue,t.mapValue);default:throw Ft(23264,{Pe:e})}}function QT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Jt(n,t);const e=Eo(n),i=Eo(t),r=Jt(e.seconds,i.seconds);return r!==0?r:Jt(e.nanos,i.nanos)}function $T(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=ju(e[r],i[r]);if(o)return o}return Jt(e.length,i.length)}function Hu(n){return v_(n)}function v_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(e){const i=Eo(e);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(e){return wo(e).toBase64()}(n.bytesValue):"referenceValue"in n?function(e){return zt.fromName(e).toString()}(n.referenceValue):"geoPointValue"in n?function(e){return`geo(${e.latitude},${e.longitude})`}(n.geoPointValue):"arrayValue"in n?function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=v_(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const c of i)o?o=!1:r+=",",r+=`${c}:${v_(e.fields[c])}`;return r+"}"}(n.mapValue):Ft(61005,{value:n})}function Ld(n){switch(So(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=zm(n);return t?16+Ld(t):16;case 5:return 2*n.stringValue.length;case 6:return wo(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,o)=>r+Ld(o),0)}(n.arrayValue);case 10:case 11:return function(i){let r=0;return kl(i.fields,(o,c)=>{r+=o.length+Ld(c)}),r}(n.mapValue);default:throw Ft(13486,{value:n})}}function b_(n){return!!n&&"integerValue"in n}function fy(n){return!!n&&"arrayValue"in n}function JT(n){return!!n&&"nullValue"in n}function tE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Nd(n){return!!n&&"mapValue"in n}function mD(n){var t,e;return((e=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{})[Rx])===null||e===void 0?void 0:e.stringValue)===Cx}function gh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return kl(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=gh(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=gh(n.arrayValue.values[e]);return t}return Object.assign({},n)}function pD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===dD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t){this.value=t}static empty(){return new hs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Nd(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=gh(e)}setAll(t){let e=zn.emptyPath(),i={},r=[];t.forEach((c,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=f.popLast()}c?i[f.lastSegment()]=gh(c):r.push(f.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Nd(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return mr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Nd(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){kl(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new hs(gh(this.value))}}function Ix(n){const t=[];return kl(n.fields,(e,i)=>{const r=new zn([e]);if(Nd(i)){const o=Ix(i.mapValue).fields;if(o.length===0)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new ks(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,e,i,r,o,c,f){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(t){return new Xn(t,0,Wt.min(),Wt.min(),Wt.min(),hs.empty(),0)}static newFoundDocument(t,e,i,r){return new Xn(t,1,e,Wt.min(),i,r,0)}static newNoDocument(t,e){return new Xn(t,2,e,Wt.min(),Wt.min(),hs.empty(),0)}static newUnknownDocument(t,e){return new Xn(t,3,e,Wt.min(),Wt.min(),hs.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(t,e){this.position=t,this.inclusive=e}}function eE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(o.field.isKeyField()?i=zt.comparator(zt.fromName(c.referenceValue),e.key):i=ju(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function nE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!mr(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(t,e="asc"){this.field=t,this.dir=e}}function gD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{}class pn extends Mx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new yD(t,e,i):e==="array-contains"?new TD(t,i):e==="in"?new ED(t,i):e==="not-in"?new wD(t,i):e==="array-contains-any"?new SD(t,i):new pn(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new vD(t,i):new bD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(ju(e,this.value)):e!==null&&So(this.value)===So(e)&&this.matchesComparison(ju(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pr extends Mx{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new pr(t,e)}matches(t){return Px(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Px(n){return n.op==="and"}function Ox(n){return _D(n)&&Px(n)}function _D(n){for(const t of n.filters)if(t instanceof pr)return!1;return!0}function T_(n){if(n instanceof pn)return n.field.canonicalString()+n.op.toString()+Hu(n.value);if(Ox(n))return n.filters.map(t=>T_(t)).join(",");{const t=n.filters.map(e=>T_(e)).join(",");return`${n.op}(${t})`}}function Dx(n,t){return n instanceof pn?function(i,r){return r instanceof pn&&i.op===r.op&&i.field.isEqual(r.field)&&mr(i.value,r.value)}(n,t):n instanceof pr?function(i,r){return r instanceof pr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((o,c,f)=>o&&Dx(c,r.filters[f]),!0):!1}(n,t):void Ft(19439)}function kx(n){return n instanceof pn?function(e){return`${e.field.canonicalString()} ${e.op} ${Hu(e.value)}`}(n):n instanceof pr?function(e){return e.op.toString()+" {"+e.getFilters().map(kx).join(" ,")+"}"}(n):"Filter"}class yD extends pn{constructor(t,e,i){super(t,e,i),this.key=zt.fromName(i.referenceValue)}matches(t){const e=zt.comparator(t.key,this.key);return this.matchesComparison(e)}}class vD extends pn{constructor(t,e){super(t,"in",e),this.keys=Lx("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class bD extends pn{constructor(t,e){super(t,"not-in",e),this.keys=Lx("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Lx(n,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(i=>zt.fromName(i.referenceValue))}class TD extends pn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return fy(e)&&Ph(e.arrayValue,this.value)}}class ED extends pn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ph(this.value.arrayValue,e)}}class wD extends pn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ph(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ph(this.value.arrayValue,e)}}class SD extends pn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!fy(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Ph(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(t,e=null,i=[],r=[],o=null,c=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=f,this.Ie=null}}function iE(n,t=null,e=[],i=[],r=null,o=null,c=null){return new xD(n,t,e,i,r,o,c)}function dy(n){const t=Kt(n);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>T_(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>function(o){return o.field.canonicalString()+o.dir}(i)).join(","),Nm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Hu(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Hu(i)).join(",")),t.Ie=e}return t.Ie}function my(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!gD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Dx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!nE(n.startAt,t.startAt)&&nE(n.endAt,t.endAt)}function E_(n){return zt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,e=null,i=[],r=[],o=null,c="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=m,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function AD(n,t,e,i,r,o,c,f){return new Vm(n,t,e,i,r,o,c,f)}function Nx(n){return new Vm(n)}function sE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function RD(n){return n.collectionGroup!==null}function _h(n){const t=Kt(n);if(t.Ee===null){t.Ee=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ee.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let f=new yn(zn.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(t).forEach(o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ee.push(new om(o,i))}),e.has(zn.keyField().canonicalString())||t.Ee.push(new om(zn.keyField(),i))}return t.Ee}function cr(n){const t=Kt(n);return t.de||(t.de=CD(t,_h(n))),t.de}function CD(n,t){if(n.limitType==="F")return iE(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map(r=>{const o=r.dir==="desc"?"asc":"desc";return new om(r.field,o)});const e=n.endAt?new am(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new am(n.startAt.position,n.startAt.inclusive):null;return iE(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function w_(n,t,e){return new Vm(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Bm(n,t){return my(cr(n),cr(t))&&n.limitType===t.limitType}function zx(n){return`${dy(cr(n))}|lt:${n.limitType}`}function Cu(n){return`Query(target=${function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map(r=>kx(r)).join(", ")}]`),Nm(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map(r=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(r)).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(r=>Hu(r)).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(r=>Hu(r)).join(",")),`Target(${i})`}(cr(n))}; limitType=${n.limitType})`}function Um(n,t){return t.isFoundDocument()&&function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):zt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,t)&&function(i,r){for(const o of _h(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0}(n,t)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,t)&&function(i,r){return!(i.startAt&&!function(c,f,m){const p=eE(c,f,m);return c.inclusive?p<=0:p<0}(i.startAt,_h(i),r)||i.endAt&&!function(c,f,m){const p=eE(c,f,m);return c.inclusive?p>=0:p>0}(i.endAt,_h(i),r))}(n,t)}function ID(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Vx(n){return(t,e)=>{let i=!1;for(const r of _h(n)){const o=MD(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function MD(n,t,e){const i=n.field.isKeyField()?zt.comparator(t.key,e.key):function(o,c,f){const m=c.data.field(o),p=f.data.field(o);return m!==null&&p!==null?ju(m,p):Ft(42886)}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ft(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){kl(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return Tx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new We(zt.comparator);function ra(){return PD}const Bx=new We(zt.comparator);function ah(...n){let t=Bx;for(const e of n)t=t.insert(e.key,e);return t}function Ux(n){let t=Bx;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function bl(){return yh()}function jx(){return yh()}function yh(){return new Ll(n=>n.toString(),(n,t)=>n.isEqual(t))}const OD=new We(zt.comparator),DD=new yn(zt.comparator);function le(...n){let t=DD;for(const e of n)t=t.add(e);return t}const kD=new yn(Jt);function LD(){return kD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:im(t)?"-0":t}}function Hx(n){return{integerValue:""+n}}function ND(n,t){return lD(t)?Hx(t):py(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this._=void 0}}function zD(n,t,e){return n instanceof lm?function(r,o){const c={fields:{[Sx]:{stringValue:wx},[Ax]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&hy(o)&&(o=zm(o)),o&&(c.fields[xx]=o),{mapValue:c}}(e,t):n instanceof Oh?qx(n,t):n instanceof Dh?Gx(n,t):function(r,o){const c=Fx(r,o),f=rE(c)+rE(r.Re);return b_(c)&&b_(r.Re)?Hx(f):py(r.serializer,f)}(n,t)}function VD(n,t,e){return n instanceof Oh?qx(n,t):n instanceof Dh?Gx(n,t):e}function Fx(n,t){return n instanceof um?function(i){return b_(i)||function(o){return!!o&&"doubleValue"in o}(i)}(t)?t:{integerValue:0}:null}class lm extends jm{}class Oh extends jm{constructor(t){super(),this.elements=t}}function qx(n,t){const e=Zx(t);for(const i of n.elements)e.some(r=>mr(r,i))||e.push(i);return{arrayValue:{values:e}}}class Dh extends jm{constructor(t){super(),this.elements=t}}function Gx(n,t){let e=Zx(t);for(const i of n.elements)e=e.filter(r=>!mr(r,i));return{arrayValue:{values:e}}}class um extends jm{constructor(t,e){super(),this.serializer=t,this.Re=e}}function rE(n){return nn(n.integerValue||n.doubleValue)}function Zx(n){return fy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function BD(n,t){return n.field.isEqual(t.field)&&function(i,r){return i instanceof Oh&&r instanceof Oh||i instanceof Dh&&r instanceof Dh?Uu(i.elements,r.elements,mr):i instanceof um&&r instanceof um?mr(i.Re,r.Re):i instanceof lm&&r instanceof lm}(n.transform,t.transform)}class UD{constructor(t,e){this.version=t,this.transformResults=e}}class ta{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new ta}static exists(t){return new ta(void 0,t)}static updateTime(t){return new ta(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function zd(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Hm{}function Wx(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Yx(n.key,ta.none()):new Xh(n.key,n.data,ta.none());{const e=n.data,i=hs.empty();let r=new yn(zn.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),r=r.add(o)}return new Nl(n.key,i,new ks(r.toArray()),ta.none())}}function jD(n,t,e){n instanceof Xh?function(r,o,c){const f=r.value.clone(),m=oE(r.fieldTransforms,o,c.transformResults);f.setAll(m),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()}(n,t,e):n instanceof Nl?function(r,o,c){if(!zd(r.precondition,o))return void o.convertToUnknownDocument(c.version);const f=oE(r.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(Kx(r)),m.setAll(f),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(n,t,e):function(r,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()}(0,t,e)}function vh(n,t,e,i){return n instanceof Xh?function(o,c,f,m){if(!zd(o.precondition,c))return f;const p=o.value.clone(),v=lE(o.fieldTransforms,m,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Nl?function(o,c,f,m){if(!zd(o.precondition,c))return f;const p=lE(o.fieldTransforms,m,c),v=c.data;return v.setAll(Kx(o)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),f===null?null:f.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(E=>E.field))}(n,t,e,i):function(o,c,f){return zd(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):f}(n,t,e)}function HD(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=Fx(i.transform,r||null);o!=null&&(e===null&&(e=hs.empty()),e.set(i.field,o))}return e||null}function aE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Uu(i,r,(o,c)=>BD(o,c))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class Xh extends Hm{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Nl extends Hm{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Kx(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function oE(n,t,e){const i=new Map;be(n.length===e.length,32656,{Ve:e.length,me:n.length});for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,f=t.data.field(o.field);i.set(o.field,VD(c,f,e[r]))}return i}function lE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,zD(o,c,t))}return i}class Yx extends Hm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class FD extends Hm{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&jD(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=vh(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=vh(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=jx();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=e.has(r.key)?null:f;const m=Wx(c,f);m!==null&&i.set(r.key,m),c.isValidDocument()||c.convertToNoDocument(Wt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),le())}isEqual(t){return this.batchId===t.batchId&&Uu(this.mutations,t.mutations,(e,i)=>aE(e,i))&&Uu(this.baseMutations,t.baseMutations,(e,i)=>aE(e,i))}}class gy{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){be(t.mutations.length===i.length,58842,{fe:t.mutations.length,ge:i.length});let r=function(){return OD}();const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new gy(t,e,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var un,fe;function WD(n){switch(n){case Tt.OK:return Ft(64938);case Tt.CANCELLED:case Tt.UNKNOWN:case Tt.DEADLINE_EXCEEDED:case Tt.RESOURCE_EXHAUSTED:case Tt.INTERNAL:case Tt.UNAVAILABLE:case Tt.UNAUTHENTICATED:return!1;case Tt.INVALID_ARGUMENT:case Tt.NOT_FOUND:case Tt.ALREADY_EXISTS:case Tt.PERMISSION_DENIED:case Tt.FAILED_PRECONDITION:case Tt.ABORTED:case Tt.OUT_OF_RANGE:case Tt.UNIMPLEMENTED:case Tt.DATA_LOSS:return!0;default:return Ft(15467,{code:n})}}function Xx(n){if(n===void 0)return sa("GRPC error has no .code"),Tt.UNKNOWN;switch(n){case un.OK:return Tt.OK;case un.CANCELLED:return Tt.CANCELLED;case un.UNKNOWN:return Tt.UNKNOWN;case un.DEADLINE_EXCEEDED:return Tt.DEADLINE_EXCEEDED;case un.RESOURCE_EXHAUSTED:return Tt.RESOURCE_EXHAUSTED;case un.INTERNAL:return Tt.INTERNAL;case un.UNAVAILABLE:return Tt.UNAVAILABLE;case un.UNAUTHENTICATED:return Tt.UNAUTHENTICATED;case un.INVALID_ARGUMENT:return Tt.INVALID_ARGUMENT;case un.NOT_FOUND:return Tt.NOT_FOUND;case un.ALREADY_EXISTS:return Tt.ALREADY_EXISTS;case un.PERMISSION_DENIED:return Tt.PERMISSION_DENIED;case un.FAILED_PRECONDITION:return Tt.FAILED_PRECONDITION;case un.ABORTED:return Tt.ABORTED;case un.OUT_OF_RANGE:return Tt.OUT_OF_RANGE;case un.UNIMPLEMENTED:return Tt.UNIMPLEMENTED;case un.DATA_LOSS:return Tt.DATA_LOSS;default:return Ft(39323,{code:n})}}(fe=un||(un={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new _o([4294967295,4294967295],0);function uE(n){const t=yx().encode(n),e=new cx;return e.update(t),new Uint8Array(e.digest())}function cE(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new _o([e,i],0),new _o([r,o],0)]}class _y{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new oh(`Invalid padding: ${e}`);if(i<0)throw new oh(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new oh(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=_o.fromNumber(this.pe)}we(t,e,i){let r=t.add(e.multiply(_o.fromNumber(i)));return r.compare(KD)===1&&(r=new _o([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=uE(t),[i,r]=cE(e);for(let o=0;o<this.hashCount;o++){const c=this.we(i,r,o);if(!this.be(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new _y(o,r,e);return i.forEach(f=>c.insert(f)),c}insert(t){if(this.pe===0)return;const e=uE(t),[i,r]=cE(e);for(let o=0;o<this.hashCount;o++){const c=this.we(i,r,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,Qh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Fm(Wt.min(),r,new We(Jt),ra(),le())}}class Qh{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new Qh(i,e,le(),le(),le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(t,e,i,r){this.De=t,this.removedTargetIds=e,this.key=i,this.ve=r}}class Qx{constructor(t,e){this.targetId=t,this.Ce=e}}class $x{constructor(t,e,i=Vn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class hE{constructor(){this.Fe=0,this.Me=fE(),this.xe=Vn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=le(),e=le(),i=le();return this.Me.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ft(38017,{changeType:o})}}),new Qh(this.xe,this.Oe,t,e,i)}Qe(){this.Ne=!1,this.Me=fE()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,be(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class YD{constructor(t){this.ze=t,this.je=new Map,this.He=ra(),this.Je=cd(),this.Ye=cd(),this.Ze=new We(Jt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const i=this.rt(e);switch(t.state){case 0:this.it(e)&&i.ke(t.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(t.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(e);break;case 3:this.it(e)&&(i.Ge(),i.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),i.ke(t.resumeToken));break;default:Ft(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((i,r)=>{this.it(r)&&e(r)})}ot(t){const e=t.targetId,i=t.Ce.count,r=this._t(e);if(r){const o=r.target;if(E_(o))if(i===0){const c=new zt(o.path);this.tt(e,c,Xn.newNoDocument(c,Wt.min()))}else be(i===1,20013,{expectedCount:i});else{const c=this.ut(e);if(c!==i){const f=this.ct(t),m=f?this.lt(f,t,c):1;if(m!==0){this.st(e);const p=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,p)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let c,f;try{c=wo(i).toUint8Array()}catch(m){if(m instanceof Ex)return Bu("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new _y(c,r,o)}catch(m){return Bu(m instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.pe===0?null:f}lt(t,e,i){return e.Ce.count===i-this.Tt(t,e.targetId)?0:2}Tt(t,e){const i=this.ze.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const c=this.ze.Pt(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(f)||(this.tt(e,o,null),r++)}),r}It(t){const e=new Map;this.je.forEach((o,c)=>{const f=this._t(c);if(f){if(o.current&&E_(f.target)){const m=new zt(f.target.path);this.Et(m).has(c)||this.dt(c,m)||this.tt(c,m,Xn.newNoDocument(m,t))}o.Le&&(e.set(c,o.qe()),o.Qe())}});let i=le();this.Ye.forEach((o,c)=>{let f=!0;c.forEachWhile(m=>{const p=this._t(m);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(i=i.add(o))}),this.He.forEach((o,c)=>c.setReadTime(t));const r=new Fm(t,e,this.Ze,this.He,i);return this.He=ra(),this.Je=cd(),this.Ye=cd(),this.Ze=new We(Jt),r}et(t,e){if(!this.it(t))return;const i=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,i),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,i){if(!this.it(t))return;const r=this.rt(t);this.dt(t,e)?r.$e(e,1):r.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),i&&(this.He=this.He.insert(e,i))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new hE,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new yn(Jt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new yn(Jt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||Rt("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new hE),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function cd(){return new We(zt.comparator)}function fE(){return new We(zt.comparator)}const XD={asc:"ASCENDING",desc:"DESCENDING"},QD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$D={and:"AND",or:"OR"};class JD{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function S_(n,t){return n.useProto3Json||Nm(t)?t:{value:t}}function cm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Jx(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function tk(n,t){return cm(n,t.toTimestamp())}function hr(n){return be(!!n,49232),Wt.fromTimestamp(function(e){const i=Eo(e);return new _n(i.seconds,i.nanos)}(n))}function yy(n,t){return x_(n,t).canonicalString()}function x_(n,t){const e=function(r){return new He(["projects",r.projectId,"databases",r.database])}(n).child("documents");return t===void 0?e:e.child(t)}function t1(n){const t=He.fromString(n);return be(r1(t),10190,{key:t.toString()}),t}function A_(n,t){return yy(n.databaseId,t.path)}function qg(n,t){const e=t1(t);if(e.get(1)!==n.databaseId.projectId)throw new kt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new kt(Tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new zt(n1(e))}function e1(n,t){return yy(n.databaseId,t)}function ek(n){const t=t1(n);return t.length===4?He.emptyPath():n1(t)}function R_(n){return new He(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function n1(n){return be(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function dE(n,t,e){return{name:A_(n,t),fields:e.value.mapValue.fields}}function nk(n,t){let e;if("targetChange"in t){t.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ft(39313,{state:p})}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=function(p,v){return p.useProto3Json?(be(v===void 0||typeof v=="string",58123),Vn.fromBase64String(v||"")):(be(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Vn.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,f=c&&function(p){const v=p.code===void 0?Tt.UNKNOWN:Xx(p.code);return new kt(v,p.message||"")}(c);e=new $x(i,r,o,f||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=qg(n,i.document.name),o=hr(i.document.updateTime),c=i.document.createTime?hr(i.document.createTime):Wt.min(),f=new hs({mapValue:{fields:i.document.fields}}),m=Xn.newFoundDocument(r,o,c,f),p=i.targetIds||[],v=i.removedTargetIds||[];e=new Vd(p,v,m.key,m)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=qg(n,i.document),o=i.readTime?hr(i.readTime):Wt.min(),c=Xn.newNoDocument(r,o),f=i.removedTargetIds||[];e=new Vd([],f,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=qg(n,i.document),o=i.removedTargetIds||[];e=new Vd([],o,r,null)}else{if(!("filter"in t))return Ft(11601,{Vt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,c=new ZD(r,o),f=i.targetId;e=new Qx(f,c)}}return e}function ik(n,t){let e;if(t instanceof Xh)e={update:dE(n,t.key,t.value)};else if(t instanceof Yx)e={delete:A_(n,t.key)};else if(t instanceof Nl)e={update:dE(n,t.key,t.data),updateMask:fk(t.fieldMask)};else{if(!(t instanceof FD))return Ft(16599,{ft:t.type});e={verify:A_(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(o,c){const f=c.transform;if(f instanceof lm)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Oh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Dh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof um)return{fieldPath:c.field.canonicalString(),increment:f.Re};throw Ft(20930,{transform:c.transform})}(0,i))),t.precondition.isNone||(e.currentDocument=function(r,o){return o.updateTime!==void 0?{updateTime:tk(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ft(27497)}(n,t.precondition)),e}function sk(n,t){return n&&n.length>0?(be(t!==void 0,14353),n.map(e=>function(r,o){let c=r.updateTime?hr(r.updateTime):hr(o);return c.isEqual(Wt.min())&&(c=hr(o)),new UD(c,r.transformResults||[])}(e,t))):[]}function rk(n,t){return{documents:[e1(n,t.path)]}}function ak(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=e1(n,r);const o=function(p){if(p.length!==0)return s1(pr.create(p,"and"))}(t.filters);o&&(e.structuredQuery.where=o);const c=function(p){if(p.length!==0)return p.map(v=>function(x){return{field:Iu(x.field),direction:uk(x.dir)}}(v))}(t.orderBy);c&&(e.structuredQuery.orderBy=c);const f=S_(n,t.limit);return f!==null&&(e.structuredQuery.limit=f),t.startAt&&(e.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(t.endAt)),{gt:e,parent:r}}function ok(n){let t=ek(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){be(i===1,65062);const v=e.from[0];v.allDescendants?r=v.collectionId:t=t.child(v.collectionId)}let o=[];e.where&&(o=function(E){const x=i1(E);return x instanceof pr&&Ox(x)?x.getFilters():[x]}(e.where));let c=[];e.orderBy&&(c=function(E){return E.map(x=>function(I){return new om(Mu(I.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(x))}(e.orderBy));let f=null;e.limit&&(f=function(E){let x;return x=typeof E=="object"?E.value:E,Nm(x)?null:x}(e.limit));let m=null;e.startAt&&(m=function(E){const x=!!E.before,R=E.values||[];return new am(R,x)}(e.startAt));let p=null;return e.endAt&&(p=function(E){const x=!E.before,R=E.values||[];return new am(R,x)}(e.endAt)),AD(t,r,c,o,f,"F",m,p)}function lk(n,t){const e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ft(28987,{purpose:r})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function i1(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Mu(e.unaryFilter.field);return pn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Mu(e.unaryFilter.field);return pn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Mu(e.unaryFilter.field);return pn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Mu(e.unaryFilter.field);return pn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ft(61313);default:return Ft(60726)}}(n):n.fieldFilter!==void 0?function(e){return pn.create(Mu(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ft(58110);default:return Ft(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return pr.create(e.compositeFilter.filters.map(i=>i1(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ft(1026)}}(e.compositeFilter.op))}(n):Ft(30097,{filter:n})}function uk(n){return XD[n]}function ck(n){return QD[n]}function hk(n){return $D[n]}function Iu(n){return{fieldPath:n.canonicalString()}}function Mu(n){return zn.fromServerFormat(n.fieldPath)}function s1(n){return n instanceof pn?function(e){if(e.op==="=="){if(tE(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NAN"}};if(JT(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(tE(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NOT_NAN"}};if(JT(e.value))return{unaryFilter:{field:Iu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Iu(e.field),op:ck(e.op),value:e.value}}}(n):n instanceof pr?function(e){const i=e.getFilters().map(r=>s1(r));return i.length===1?i[0]:{compositeFilter:{op:hk(e.op),filters:i}}}(n):Ft(54877,{filter:n})}function fk(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function r1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(t,e,i,r,o=Wt.min(),c=Wt.min(),f=Vn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(t){return new lo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new lo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(t){this.wt=t}}function mk(n){const t=ok({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?w_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(){this.yn=new gk}addToCollectionParentIndex(t,e){return this.yn.add(e),mt.resolve()}getCollectionParents(t,e){return mt.resolve(this.yn.getEntries(e))}addFieldIndex(t,e){return mt.resolve()}deleteFieldIndex(t,e){return mt.resolve()}deleteAllFieldIndexes(t){return mt.resolve()}createTargetIndexes(t,e){return mt.resolve()}getDocumentsMatchingTarget(t,e){return mt.resolve(null)}getIndexType(t,e){return mt.resolve(0)}getFieldIndexes(t,e){return mt.resolve([])}getNextCollectionGroupToUpdate(t){return mt.resolve(null)}getMinOffset(t,e){return mt.resolve(To.min())}getMinOffsetFromCollectionGroup(t,e){return mt.resolve(To.min())}updateCollectionGroup(t,e,i){return mt.resolve()}updateIndexEntries(t,e){return mt.resolve()}}class gk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new yn(He.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new yn(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},a1=41943040;class pi{static withCacheSize(t){return new pi(t,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pi.DEFAULT_COLLECTION_PERCENTILE=10,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pi.DEFAULT=new pi(a1,pi.DEFAULT_COLLECTION_PERCENTILE,pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pi.DISABLED=new pi(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Fu(0)}static ir(){return new Fu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="LruGarbageCollector",_k=1048576;function gE([n,t],[e,i]){const r=Jt(n,e);return r===0?Jt(t,i):r}class yk{constructor(t){this.cr=t,this.buffer=new yn(gE),this.lr=0}hr(){return++this.lr}Pr(t){const e=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();gE(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class vk{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Rt(pE,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){nc(e)?Rt(pE,"Ignoring IndexedDB error during garbage collection: ",e):await ec(e)}await this.Ir(3e5)})}}class bk{constructor(t,e){this.Er=t,this.params=e}calculateTargetCount(t,e){return this.Er.dr(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(e===0)return mt.resolve(Lm.le);const i=new yk(e);return this.Er.forEachTarget(t,r=>i.Pr(r.sequenceNumber)).next(()=>this.Er.Ar(t,r=>i.Pr(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Er.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Er.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(Rt("LruGarbageCollector","Garbage collection skipped; disabled"),mt.resolve(mE)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.Rr(t,e))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,e){let i,r,o,c,f,m,p;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(Rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(t,r))).next(E=>(i=E,f=Date.now(),this.removeTargets(t,i,e))).next(E=>(o=E,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(p=Date.now(),Ru()<=oe.DEBUG&&Rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${r} in `+(f-c)+`ms
	Removed ${o} targets in `+(m-f)+`ms
	Removed ${E} documents in `+(p-m)+`ms
Total Duration: ${p-v}ms`),mt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:E})))}}function Tk(n,t){return new bk(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.changes=new Ll(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Xn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?mt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(i!==null&&vh(i.mutation,r,ks.empty(),_n.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,le()).next(()=>i))}getLocalViewOfDocuments(t,e,i=le()){const r=bl();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=ah();return o.forEach((f,m)=>{c=c.insert(f,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=bl();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,le()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,f)=>{e.set(c,f)})})}computeViews(t,e,i,r){let o=ra();const c=yh(),f=function(){return yh()}();return e.forEach((m,p)=>{const v=i.get(p.key);r.has(p.key)&&(v===void 0||v.mutation instanceof Nl)?o=o.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),vh(v.mutation,p,v.mutation.getFieldMask(),_n.now())):c.set(p.key,ks.empty())}),this.recalculateAndSaveOverlays(t,o).next(m=>(m.forEach((p,v)=>c.set(p,v)),e.forEach((p,v)=>{var E;return f.set(p,new wk(v,(E=c.get(p))!==null&&E!==void 0?E:null))}),f))}recalculateAndSaveOverlays(t,e){const i=yh();let r=new We((c,f)=>c-f),o=le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const f of c)f.keys().forEach(m=>{const p=e.get(m);if(p===null)return;let v=i.get(m)||ks.empty();v=f.applyToLocalView(p,v),i.set(m,v);const E=(r.get(f.batchId)||le()).add(m);r=r.insert(f.batchId,E)})}).next(()=>{const c=[],f=r.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),p=m.key,v=m.value,E=jx();v.forEach(x=>{if(!o.has(x)){const R=Wx(e.get(x),i.get(x));R!==null&&E.set(x,R),o=o.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(t,p,E))}return mt.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i,r){return function(c){return zt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):RD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):mt.resolve(bl());let f=Ch,m=o;return c.next(p=>mt.forEach(p,(v,E)=>(f<E.largestBatchId&&(f=E.largestBatchId),o.get(v)?mt.resolve():this.remoteDocumentCache.getEntry(t,v).next(x=>{m=m.insert(v,x)}))).next(()=>this.populateOverlays(t,p,o)).next(()=>this.computeViews(t,m,p,le())).next(v=>({batchId:f,changes:Ux(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new zt(e)).next(i=>{let r=ah();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let c=ah();return this.indexManager.getCollectionParents(t,o).next(f=>mt.forEach(f,m=>{const p=function(E,x){return new Vm(x,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(e,m.child(o));return this.getDocumentsMatchingCollectionQuery(t,p,i,r).next(v=>{v.forEach((E,x)=>{c=c.insert(E,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r))).next(c=>{o.forEach((m,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,Xn.newInvalidDocument(v)))});let f=ah();return c.forEach((m,p)=>{const v=o.get(m);v!==void 0&&vh(v.mutation,p,ks.empty(),_n.now()),Um(e,p)&&(f=f.insert(m,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,e){return mt.resolve(this.Fr.get(e))}saveBundleMetadata(t,e){return this.Fr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:hr(r.createTime)}}(e)),mt.resolve()}getNamedQuery(t,e){return mt.resolve(this.Mr.get(e))}saveNamedQuery(t,e){return this.Mr.set(e.name,function(r){return{name:r.name,query:mk(r.bundledQuery),readTime:hr(r.readTime)}}(e)),mt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(){this.overlays=new We(zt.comparator),this.Or=new Map}getOverlay(t,e){return mt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=bl();return mt.forEach(e,r=>this.getOverlay(t,r).next(o=>{o!==null&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.St(t,e,o)}),mt.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Or.get(i);return r!==void 0&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(i)),mt.resolve()}getOverlaysForCollection(t,e,i){const r=bl(),o=e.length+1,c=new zt(e.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const m=f.getNext().value,p=m.getKey();if(!e.isPrefixOf(p.path))break;p.path.length===o&&m.largestBatchId>i&&r.set(m.getKey(),m)}return mt.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new We((p,v)=>p-v);const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===e&&p.largestBatchId>i){let v=o.get(p.largestBatchId);v===null&&(v=bl(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=bl(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((p,v)=>f.set(p,v)),!(f.size()>=r)););return mt.resolve(f)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const c=this.Or.get(r.largestBatchId).delete(i.key);this.Or.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new GD(e,i));let o=this.Or.get(e);o===void 0&&(o=le(),this.Or.set(e,o)),this.Or.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(t){return mt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,mt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(){this.Nr=new yn(Cn.Br),this.Lr=new yn(Cn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,e){const i=new Cn(t,e);this.Nr=this.Nr.add(i),this.Lr=this.Lr.add(i)}qr(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.Qr(new Cn(t,e))}$r(t,e){t.forEach(i=>this.removeReference(i,e))}Ur(t){const e=new zt(new He([])),i=new Cn(e,t),r=new Cn(e,t+1),o=[];return this.Lr.forEachInRange([i,r],c=>{this.Qr(c),o.push(c.key)}),o}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const e=new zt(new He([])),i=new Cn(e,t),r=new Cn(e,t+1);let o=le();return this.Lr.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new Cn(t,0),i=this.Nr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Cn{constructor(t,e){this.key=t,this.Gr=e}static Br(t,e){return zt.comparator(t.key,e.key)||Jt(t.Gr,e.Gr)}static kr(t,e){return Jt(t.Gr,e.Gr)||zt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Jn=1,this.zr=new yn(Cn.Br)}checkEmpty(t){return mt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new qD(o,e,i,r);this.mutationQueue.push(c);for(const f of r)this.zr=this.zr.add(new Cn(f.key,o)),this.indexManager.addToCollectionParentIndex(t,f.key.path.popLast());return mt.resolve(c)}lookupMutationBatch(t,e){return mt.resolve(this.jr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.Hr(i),o=r<0?0:r;return mt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return mt.resolve(this.mutationQueue.length===0?cy:this.Jn-1)}getAllMutationBatches(t){return mt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Cn(e,0),r=new Cn(e,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([i,r],c=>{const f=this.jr(c.Gr);o.push(f)}),mt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new yn(Jt);return e.forEach(r=>{const o=new Cn(r,0),c=new Cn(r,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,c],f=>{i=i.add(f.Gr)})}),mt.resolve(this.Jr(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;zt.isDocumentKey(o)||(o=o.child(""));const c=new Cn(new zt(o),0);let f=new yn(Jt);return this.zr.forEachWhile(m=>{const p=m.key.path;return!!i.isPrefixOf(p)&&(p.length===r&&(f=f.add(m.Gr)),!0)},c),mt.resolve(this.Jr(f))}Jr(t){const e=[];return t.forEach(i=>{const r=this.jr(i);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){be(this.Yr(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.zr;return mt.forEach(e.mutations,r=>{const o=new Cn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.zr=i})}Xn(t){}containsKey(t,e){const i=new Cn(e,0),r=this.zr.firstAfterOrEqual(i);return mt.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,mt.resolve()}Yr(t,e){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const e=this.Hr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t){this.Zr=t,this.docs=function(){return new We(zt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.Zr(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return mt.resolve(i?i.document.mutableCopy():Xn.newInvalidDocument(e))}getEntries(t,e){let i=ra();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Xn.newInvalidDocument(r))}),mt.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=ra();const c=e.path,f=new zt(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:p,value:{document:v}}=m.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||sD(iD(v),i)<=0||(r.has(v.key)||Um(e,v))&&(o=o.insert(v.key,v.mutableCopy()))}return mt.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Ft(9500)}Xr(t,e){return mt.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new Mk(this)}getSize(t){return mt.resolve(this.size)}}class Mk extends Ek{constructor(t){super(),this.vr=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.vr.addEntry(t,r)):this.vr.removeEntry(i)}),mt.waitFor(e)}getFromCache(t,e){return this.vr.getEntry(t,e)}getAllFromCache(t,e){return this.vr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(t){this.persistence=t,this.ei=new Ll(e=>dy(e),my),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.ti=0,this.ni=new vy,this.targetCount=0,this.ri=Fu.rr()}forEachTarget(t,e){return this.ei.forEach((i,r)=>e(r)),mt.resolve()}getLastRemoteSnapshotVersion(t){return mt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return mt.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),mt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.ti&&(this.ti=e),mt.resolve()}ar(t){this.ei.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ri=new Fu(e),this.highestTargetId=e),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,e){return this.ar(e),this.targetCount+=1,mt.resolve()}updateTargetData(t,e){return this.ar(e),mt.resolve()}removeTargetData(t,e){return this.ei.delete(e.target),this.ni.Ur(e.targetId),this.targetCount-=1,mt.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.ei.forEach((c,f)=>{f.sequenceNumber<=e&&i.get(f.targetId)===null&&(this.ei.delete(c),o.push(this.removeMatchingKeysForTargetId(t,f.targetId)),r++)}),mt.waitFor(o).next(()=>r)}getTargetCount(t){return mt.resolve(this.targetCount)}getTargetData(t,e){const i=this.ei.get(e)||null;return mt.resolve(i)}addMatchingKeys(t,e,i){return this.ni.qr(e,i),mt.resolve()}removeMatchingKeys(t,e,i){this.ni.$r(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),mt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ni.Ur(e),mt.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ni.Wr(e);return mt.resolve(i)}containsKey(t,e){return mt.resolve(this.ni.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t,e){this.ii={},this.overlays={},this.si=new Lm(0),this.oi=!1,this.oi=!0,this._i=new Rk,this.referenceDelegate=t(this),this.ai=new Pk(this),this.indexManager=new pk,this.remoteDocumentCache=function(r){return new Ik(r)}(i=>this.referenceDelegate.ui(i)),this.serializer=new dk(e),this.ci=new xk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Ak,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ii[t.toKey()];return i||(i=new Ck(e,this.referenceDelegate),this.ii[t.toKey()]=i),i}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,e,i){Rt("MemoryPersistence","Starting transaction:",t);const r=new Ok(this.si.next());return this.referenceDelegate.li(),i(r).next(o=>this.referenceDelegate.hi(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Pi(t,e){return mt.or(Object.values(this.ii).map(i=>()=>i.containsKey(t,e)))}}class Ok extends aD{constructor(t){super(),this.currentSequenceNumber=t}}class by{constructor(t){this.persistence=t,this.Ti=new vy,this.Ii=null}static Ei(t){return new by(t)}get di(){if(this.Ii)return this.Ii;throw Ft(60996)}addReference(t,e,i){return this.Ti.addReference(i,e),this.di.delete(i.toString()),mt.resolve()}removeReference(t,e,i){return this.Ti.removeReference(i,e),this.di.add(i.toString()),mt.resolve()}markPotentiallyOrphaned(t,e){return this.di.add(e.toString()),mt.resolve()}removeTarget(t,e){this.Ti.Ur(e.targetId).forEach(r=>this.di.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.di.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}li(){this.Ii=new Set}hi(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return mt.forEach(this.di,i=>{const r=zt.fromPath(i);return this.Ai(t,r).next(o=>{o||e.removeEntry(r,Wt.min())})}).next(()=>(this.Ii=null,e.apply(t)))}updateLimboDocument(t,e){return this.Ai(t,e).next(i=>{i?this.di.delete(e.toString()):this.di.add(e.toString())})}ui(t){return 0}Ai(t,e){return mt.or([()=>mt.resolve(this.Ti.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Pi(t,e)])}}class hm{constructor(t,e){this.persistence=t,this.Ri=new Ll(i=>uD(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=Tk(this,e)}static Ei(t,e){return new hm(t,e)}li(){}hi(t){return mt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}dr(t){const e=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Vr(t){let e=0;return this.Ar(t,i=>{e++}).next(()=>e)}Ar(t,e){return mt.forEach(this.Ri,(i,r)=>this.gr(t,i,r).next(o=>o?mt.resolve():e(r)))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.Xr(t,c=>this.gr(t,c,e).next(f=>{f||(i++,o.removeEntry(c,Wt.min()))})).next(()=>o.apply(t)).next(()=>i)}markPotentiallyOrphaned(t,e){return this.Ri.set(e,t.currentSequenceNumber),mt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),mt.resolve()}removeReference(t,e,i){return this.Ri.set(i,t.currentSequenceNumber),mt.resolve()}updateLimboDocument(t,e){return this.Ri.set(e,t.currentSequenceNumber),mt.resolve()}ui(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ld(t.data.value)),e}gr(t,e,i){return mt.or([()=>this.persistence.Pi(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.Ri.get(e);return mt.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.ls=i,this.hs=r}static Ps(t,e){let i=le(),r=le();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ty(t,e.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return dI()?8:oD($n())>0?6:4}()}initialize(t,e){this.As=t,this.indexManager=e,this.Ts=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.Rs(t,e).next(c=>{o.result=c}).next(()=>{if(!o.result)return this.Vs(t,e,r,i).next(c=>{o.result=c})}).next(()=>{if(o.result)return;const c=new Dk;return this.fs(t,e,c).next(f=>{if(o.result=f,this.Is)return this.gs(t,e,c,f.size)})}).next(()=>o.result)}gs(t,e,i,r){return i.documentReadCount<this.Es?(Ru()<=oe.DEBUG&&Rt("QueryEngine","SDK will not create cache indexes for query:",Cu(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),mt.resolve()):(Ru()<=oe.DEBUG&&Rt("QueryEngine","Query:",Cu(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.ds*r?(Ru()<=oe.DEBUG&&Rt("QueryEngine","The SDK decides to create cache indexes for query:",Cu(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,cr(e))):mt.resolve())}Rs(t,e){if(sE(e))return mt.resolve(null);let i=cr(e);return this.indexManager.getIndexType(t,i).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=w_(e,null,"F"),i=cr(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=le(...o);return this.As.getDocuments(t,c).next(f=>this.indexManager.getMinOffset(t,i).next(m=>{const p=this.ps(e,f);return this.ys(e,p,c,m.readTime)?this.Rs(t,w_(e,null,"F")):this.ws(t,p,e,m)}))})))}Vs(t,e,i,r){return sE(e)||r.isEqual(Wt.min())?mt.resolve(null):this.As.getDocuments(t,i).next(o=>{const c=this.ps(e,o);return this.ys(e,c,i,r)?mt.resolve(null):(Ru()<=oe.DEBUG&&Rt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Cu(e)),this.ws(t,c,e,nD(r,Ch)).next(f=>f))})}ps(t,e){let i=new yn(Vx(t));return e.forEach((r,o)=>{Um(t,o)&&(i=i.add(o))}),i}ys(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}fs(t,e,i){return Ru()<=oe.DEBUG&&Rt("QueryEngine","Using full collection scan to execute query:",Cu(e)),this.As.getDocumentsMatchingQuery(t,e,To.min(),i)}ws(t,e,i,r){return this.As.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="LocalStore",Lk=3e8;class Nk{constructor(t,e,i,r){this.persistence=t,this.bs=e,this.serializer=r,this.Ss=new We(Jt),this.Ds=new Ll(o=>dy(o),my),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(i)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Sk(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ss))}}function zk(n,t,e,i){return new Nk(n,t,e,i)}async function l1(n,t){const e=Kt(n);return await e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.Fs(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],f=[];let m=le();for(const p of r){c.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}for(const p of o){f.push(p.batchId);for(const v of p.mutations)m=m.add(v.key)}return e.localDocuments.getDocuments(i,m).next(p=>({Ms:p,removedBatchIds:c,addedBatchIds:f}))})})}function Vk(n,t){const e=Kt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Cs.newChangeBuffer({trackRemovals:!0});return function(f,m,p,v){const E=p.batch,x=E.keys();let R=mt.resolve();return x.forEach(I=>{R=R.next(()=>v.getEntry(m,I)).next(O=>{const D=p.docVersions.get(I);be(D!==null,48541),O.version.compareTo(D)<0&&(E.applyToRemoteDocument(O,p),O.isValidDocument()&&(O.setReadTime(p.commitVersion),v.addEntry(O)))})}),R.next(()=>f.mutationQueue.removeMutationBatch(m,E))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(f){let m=le();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(m=m.add(f.batch.mutations[p].key));return m}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function u1(n){const t=Kt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ai.getLastRemoteSnapshotVersion(e))}function Bk(n,t){const e=Kt(n),i=t.snapshotVersion;let r=e.Ss;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Cs.newChangeBuffer({trackRemovals:!0});r=e.Ss;const f=[];t.targetChanges.forEach((v,E)=>{const x=r.get(E);if(!x)return;f.push(e.ai.removeMatchingKeys(o,v.removedDocuments,E).next(()=>e.ai.addMatchingKeys(o,v.addedDocuments,E)));let R=x.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(E)!==null?R=R.withResumeToken(Vn.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,i)),r=r.insert(E,R),function(O,D,V){return O.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=Lk?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(x,R,v)&&f.push(e.ai.updateTargetData(o,R))});let m=ra(),p=le();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(o,v))}),f.push(Uk(o,c,t.documentUpdates).next(v=>{m=v.xs,p=v.Os})),!i.isEqual(Wt.min())){const v=e.ai.getLastRemoteSnapshotVersion(o).next(E=>e.ai.setTargetsMetadata(o,o.currentSequenceNumber,i));f.push(v)}return mt.waitFor(f).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,m,p)).next(()=>m)}).then(o=>(e.Ss=r,o))}function Uk(n,t,e){let i=le(),r=le();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=ra();return e.forEach((f,m)=>{const p=o.get(f);m.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(f)),m.isNoDocument()&&m.version.isEqual(Wt.min())?(t.removeEntry(f,m.readTime),c=c.insert(f,m)):!p.isValidDocument()||m.version.compareTo(p.version)>0||m.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(m),c=c.insert(f,m)):Rt(Ey,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",m.version)}),{xs:c,Os:r}})}function jk(n,t){const e=Kt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(t===void 0&&(t=cy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function Hk(n,t){const e=Kt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.ai.getTargetData(i,t).next(o=>o?(r=o,mt.resolve(r)):e.ai.allocateTargetId(i).next(c=>(r=new lo(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.ai.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ss.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ss=e.Ss.insert(i.targetId,i),e.Ds.set(t,i.targetId)),i})}async function C_(n,t,e){const i=Kt(n),r=i.Ss.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r))}catch(c){if(!nc(c))throw c;Rt(Ey,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ss=i.Ss.remove(t),i.Ds.delete(r.target)}function _E(n,t,e){const i=Kt(n);let r=Wt.min(),o=le();return i.persistence.runTransaction("Execute query","readwrite",c=>function(m,p,v){const E=Kt(m),x=E.Ds.get(v);return x!==void 0?mt.resolve(E.Ss.get(x)):E.ai.getTargetData(p,v)}(i,c,cr(t)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.ai.getMatchingKeysForTargetId(c,f.targetId).next(m=>{o=m})}).next(()=>i.bs.getDocumentsMatchingQuery(c,t,e?r:Wt.min(),e?o:le())).next(f=>(Fk(i,ID(t),f),{documents:f,Ns:o})))}function Fk(n,t,e){let i=n.vs.get(t)||Wt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.vs.set(t,i)}class yE{constructor(){this.activeTargetIds=LD()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qk{constructor(){this.So=new yE,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,e,i){this.Do[t]=e}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new yE,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="ConnectivityMonitor";class bE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Rt(vE,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Rt(vE,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hd=null;function I_(){return hd===null?hd=function(){return 268435456+Math.round(2147483648*Math.random())}():hd++,"0x"+hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gg="RestConnection",Zk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wk{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Lo=e+"://"+t.host,this.ko=`projects/${i}/databases/${r}`,this.qo=this.databaseId.database===sm?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Qo(t,e,i,r,o){const c=I_(),f=this.$o(t,e.toUriEncodedString());Rt(Gg,`Sending RPC '${t}' ${c}:`,f,i);const m={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(m,r,o);const{host:p}=new URL(f),v=Pm(p);return this.Ko(t,f,m,i,v).then(E=>(Rt(Gg,`Received RPC '${t}' ${c}: `,E),E),E=>{throw Bu(Gg,`RPC '${t}' ${c} failed with error: `,E,"url: ",f,"request:",i),E})}Wo(t,e,i,r,o,c){return this.Qo(t,e,i,r,o)}Uo(t,e,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+tc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}$o(t,e){const i=Zk[t];return`${this.Lo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn="WebChannelConnection";class Yk extends Wk{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,e,i,r,o){const c=I_();return new Promise((f,m)=>{const p=new hx;p.setWithCredentials(!0),p.listenOnce(fx.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case kd.NO_ERROR:const E=p.getResponseJson();Rt(Kn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(E)),f(E);break;case kd.TIMEOUT:Rt(Kn,`RPC '${t}' ${c} timed out`),m(new kt(Tt.DEADLINE_EXCEEDED,"Request time out"));break;case kd.HTTP_ERROR:const x=p.getStatus();if(Rt(Kn,`RPC '${t}' ${c} failed with status:`,x,"response text:",p.getResponseText()),x>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const I=R==null?void 0:R.error;if(I&&I.status&&I.message){const O=function(V){const K=V.toLowerCase().replace(/_/g,"-");return Object.values(Tt).indexOf(K)>=0?K:Tt.UNKNOWN}(I.status);m(new kt(O,I.message))}else m(new kt(Tt.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new kt(Tt.UNAVAILABLE,"Connection failed."));break;default:Ft(9055,{s_:t,streamId:c,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{Rt(Kn,`RPC '${t}' ${c} completed.`)}});const v=JSON.stringify(r);Rt(Kn,`RPC '${t}' ${c} sending request:`,r),p.send(e,"POST",v,i,15)})}a_(t,e,i){const r=I_(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=px(),f=mx(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(m.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Uo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const v=o.join("");Rt(Kn,`Creating RPC '${t}' stream ${r}: ${v}`,m);const E=c.createWebChannel(v,m);let x=!1,R=!1;const I=new Kk({Go:D=>{R?Rt(Kn,`Not sending because RPC '${t}' stream ${r} is closed:`,D):(x||(Rt(Kn,`Opening RPC '${t}' stream ${r} transport.`),E.open(),x=!0),Rt(Kn,`RPC '${t}' stream ${r} sending:`,D),E.send(D))},zo:()=>E.close()}),O=(D,V,K)=>{D.listen(V,W=>{try{K(W)}catch(ut){setTimeout(()=>{throw ut},0)}})};return O(E,rh.EventType.OPEN,()=>{R||(Rt(Kn,`RPC '${t}' stream ${r} transport opened.`),I.t_())}),O(E,rh.EventType.CLOSE,()=>{R||(R=!0,Rt(Kn,`RPC '${t}' stream ${r} transport closed`),I.r_())}),O(E,rh.EventType.ERROR,D=>{R||(R=!0,Bu(Kn,`RPC '${t}' stream ${r} transport errored. Name:`,D.name,"Message:",D.message),I.r_(new kt(Tt.UNAVAILABLE,"The operation could not be completed")))}),O(E,rh.EventType.MESSAGE,D=>{var V;if(!R){const K=D.data[0];be(!!K,16349);const W=K,ut=(W==null?void 0:W.error)||((V=W[0])===null||V===void 0?void 0:V.error);if(ut){Rt(Kn,`RPC '${t}' stream ${r} received error:`,ut);const et=ut.status;let _t=function(z){const H=un[z];if(H!==void 0)return Xx(H)}(et),B=ut.message;_t===void 0&&(_t=Tt.INTERNAL,B="Unknown error status: "+et+" with message "+ut.message),R=!0,I.r_(new kt(_t,B)),E.close()}else Rt(Kn,`RPC '${t}' stream ${r} received:`,K),I.i_(K)}}),O(f,dx.STAT_EVENT,D=>{D.stat===__.PROXY?Rt(Kn,`RPC '${t}' stream ${r} detected buffering proxy`):D.stat===__.NOPROXY&&Rt(Kn,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{I.n_()},0),I}}function Zg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(n){return new JD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,e,i=1e3,r=1.5,o=6e4){this.bi=t,this.timerId=e,this.u_=i,this.c_=r,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const e=Math.floor(this.h_+this.d_()),i=Math.max(0,Date.now()-this.T_),r=Math.max(0,e-i);r>0&&Rt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.h_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,r,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="PersistentStream";class h1{constructor(t,e,i,r,o,c,f,m){this.bi=t,this.R_=i,this.V_=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new c1(t,e)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,e){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():e&&e.code===Tt.RESOURCE_EXHAUSTED?(sa(e.toString()),sa("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):e&&e.code===Tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(e)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),e=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.m_===e&&this.B_(i,r)},i=>{t(()=>{const r=new kt(Tt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.L_(r)})})}B_(t,e){const i=this.N_(this.m_);this.stream=this.k_(t,e),this.stream.jo(()=>{i(()=>this.listener.jo())}),this.stream.Jo(()=>{i(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(r=>{i(()=>this.L_(r))}),this.stream.onMessage(r=>{i(()=>++this.p_==1?this.q_(r):this.onNext(r))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Rt(TE,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return e=>{this.bi.enqueueAndForget(()=>this.m_===t?e():(Rt(TE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xk extends h1{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}k_(t,e){return this.connection.a_("Listen",t,e)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const e=nk(this.serializer,t),i=function(o){if(!("targetChange"in o))return Wt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Wt.min():c.readTime?hr(c.readTime):Wt.min()}(t);return this.listener.Q_(e,i)}U_(t){const e={};e.database=R_(this.serializer),e.addTarget=function(o,c){let f;const m=c.target;if(f=E_(m)?{documents:rk(o,m)}:{query:ak(o,m).gt},f.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){f.resumeToken=Jx(o,c.resumeToken);const p=S_(o,c.expectedCount);p!==null&&(f.expectedCount=p)}else if(c.snapshotVersion.compareTo(Wt.min())>0){f.readTime=cm(o,c.snapshotVersion.toTimestamp());const p=S_(o,c.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,t);const i=lk(this.serializer,t);i&&(e.labels=i),this.F_(e)}K_(t){const e={};e.database=R_(this.serializer),e.removeTarget=t,this.F_(e)}}class Qk extends h1{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,e){return this.connection.a_("Write",t,e)}q_(t){return be(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,be(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){be(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const e=sk(t.writeResults,t.commitTime),i=hr(t.commitTime);return this.listener.j_(i,e)}H_(){const t={};t.database=R_(this.serializer),this.F_(t)}G_(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>ik(this.serializer,i))};this.F_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{}class Jk extends $k{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.J_=!1}Y_(){if(this.J_)throw new kt(Tt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,e,i,r){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Qo(t,x_(e,i),r,o,c)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new kt(Tt.UNKNOWN,o.toString())})}Wo(t,e,i,r,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Wo(t,x_(e,i),r,c,f,o)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new kt(Tt.UNKNOWN,c.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class tL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(sa(e),this.ea=!1):Rt("OnlineStateTracker",e)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il="RemoteStore";class eL{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(c=>{i.enqueueAndForget(async()=>{zl(this)&&(Rt(Il,"Restarting streams for network reachability change."),await async function(m){const p=Kt(m);p.aa.add(4),await $h(p),p.la.set("Unknown"),p.aa.delete(4),await Gm(p)}(this))})}),this.la=new tL(i,r)}}async function Gm(n){if(zl(n))for(const t of n.ua)await t(!0)}async function $h(n){for(const t of n.ua)await t(!1)}function f1(n,t){const e=Kt(n);e._a.has(t.targetId)||(e._a.set(t.targetId,t),Ay(e)?xy(e):ic(e).b_()&&Sy(e,t))}function wy(n,t){const e=Kt(n),i=ic(e);e._a.delete(t),i.b_()&&d1(e,t),e._a.size===0&&(i.b_()?i.v_():zl(e)&&e.la.set("Unknown"))}function Sy(n,t){if(n.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Wt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ic(n).U_(t)}function d1(n,t){n.ha.Ke(t),ic(n).K_(t)}function xy(n){n.ha=new YD({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>n._a.get(t)||null,Pt:()=>n.datastore.serializer.databaseId}),ic(n).start(),n.la.ta()}function Ay(n){return zl(n)&&!ic(n).w_()&&n._a.size>0}function zl(n){return Kt(n).aa.size===0}function m1(n){n.ha=void 0}async function nL(n){n.la.set("Online")}async function iL(n){n._a.forEach((t,e)=>{Sy(n,t)})}async function sL(n,t){m1(n),Ay(n)?(n.la.ia(t),xy(n)):n.la.set("Unknown")}async function rL(n,t,e){if(n.la.set("Online"),t instanceof $x&&t.state===2&&t.cause)try{await async function(r,o){const c=o.cause;for(const f of o.targetIds)r._a.has(f)&&(await r.remoteSyncer.rejectListen(f,c),r._a.delete(f),r.ha.removeTarget(f))}(n,t)}catch(i){Rt(Il,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await fm(n,i)}else if(t instanceof Vd?n.ha.Xe(t):t instanceof Qx?n.ha.ot(t):n.ha.nt(t),!e.isEqual(Wt.min()))try{const i=await u1(n.localStore);e.compareTo(i)>=0&&await function(o,c){const f=o.ha.It(c);return f.targetChanges.forEach((m,p)=>{if(m.resumeToken.approximateByteSize()>0){const v=o._a.get(p);v&&o._a.set(p,v.withResumeToken(m.resumeToken,c))}}),f.targetMismatches.forEach((m,p)=>{const v=o._a.get(m);if(!v)return;o._a.set(m,v.withResumeToken(Vn.EMPTY_BYTE_STRING,v.snapshotVersion)),d1(o,m);const E=new lo(v.target,m,p,v.sequenceNumber);Sy(o,E)}),o.remoteSyncer.applyRemoteEvent(f)}(n,e)}catch(i){Rt(Il,"Failed to raise snapshot:",i),await fm(n,i)}}async function fm(n,t,e){if(!nc(t))throw t;n.aa.add(1),await $h(n),n.la.set("Offline"),e||(e=()=>u1(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{Rt(Il,"Retrying IndexedDB access"),await e(),n.aa.delete(1),await Gm(n)})}function p1(n,t){return t().catch(e=>fm(n,e,t))}async function Zm(n){const t=Kt(n),e=xo(t);let i=t.oa.length>0?t.oa[t.oa.length-1].batchId:cy;for(;aL(t);)try{const r=await jk(t.localStore,i);if(r===null){t.oa.length===0&&e.v_();break}i=r.batchId,oL(t,r)}catch(r){await fm(t,r)}g1(t)&&_1(t)}function aL(n){return zl(n)&&n.oa.length<10}function oL(n,t){n.oa.push(t);const e=xo(n);e.b_()&&e.W_&&e.G_(t.mutations)}function g1(n){return zl(n)&&!xo(n).w_()&&n.oa.length>0}function _1(n){xo(n).start()}async function lL(n){xo(n).H_()}async function uL(n){const t=xo(n);for(const e of n.oa)t.G_(e.mutations)}async function cL(n,t,e){const i=n.oa.shift(),r=gy.from(i,t,e);await p1(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),await Zm(n)}async function hL(n,t){t&&xo(n).W_&&await async function(i,r){if(function(c){return WD(c)&&c!==Tt.ABORTED}(r.code)){const o=i.oa.shift();xo(i).D_(),await p1(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r)),await Zm(i)}}(n,t),g1(n)&&_1(n)}async function EE(n,t){const e=Kt(n);e.asyncQueue.verifyOperationInProgress(),Rt(Il,"RemoteStore received new credentials");const i=zl(e);e.aa.add(3),await $h(e),i&&e.la.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.aa.delete(3),await Gm(e)}async function fL(n,t){const e=Kt(n);t?(e.aa.delete(2),await Gm(e)):t||(e.aa.add(2),await $h(e),e.la.set("Unknown"))}function ic(n){return n.Pa||(n.Pa=function(e,i,r){const o=Kt(e);return o.Y_(),new Xk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{jo:nL.bind(null,n),Jo:iL.bind(null,n),Zo:sL.bind(null,n),Q_:rL.bind(null,n)}),n.ua.push(async t=>{t?(n.Pa.D_(),Ay(n)?xy(n):n.la.set("Unknown")):(await n.Pa.stop(),m1(n))})),n.Pa}function xo(n){return n.Ta||(n.Ta=function(e,i,r){const o=Kt(e);return o.Y_(),new Qk(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:lL.bind(null,n),Zo:hL.bind(null,n),z_:uL.bind(null,n),j_:cL.bind(null,n)}),n.ua.push(async t=>{t?(n.Ta.D_(),await Zm(n)):(await n.Ta.stop(),n.oa.length>0&&(Rt(Il,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new yo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,f=new Ry(t,e,c,r,o);return f.start(i),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new kt(Tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cy(n,t){if(sa("AsyncQueue",`${t}: ${n}`),nc(n))return new kt(Tt.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu{static emptySet(t){return new Lu(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||zt.comparator(e.key,i.key):(e,i)=>zt.comparator(e.key,i.key),this.keyedMap=ah(),this.sortedSet=new We(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Lu)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Lu;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.Ia=new We(zt.comparator)}track(t){const e=t.doc.key,i=this.Ia.get(e);i?t.type!==0&&i.type===3?this.Ia=this.Ia.insert(e,t):t.type===3&&i.type!==1?this.Ia=this.Ia.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.Ia=this.Ia.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.Ia=this.Ia.remove(e):t.type===1&&i.type===2?this.Ia=this.Ia.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.Ia=this.Ia.insert(e,{type:2,doc:t.doc}):Ft(63341,{Vt:t,Ea:i}):this.Ia=this.Ia.insert(e,t)}da(){const t=[];return this.Ia.inorderTraversal((e,i)=>{t.push(i)}),t}}class qu{constructor(t,e,i,r,o,c,f,m,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=p}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(f=>{c.push({type:0,doc:f})}),new qu(t,e,Lu.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Bm(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class mL{constructor(){this.queries=SE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(e,i){const r=Kt(e),o=r.queries;r.queries=SE(),o.forEach((c,f)=>{for(const m of f.Ra)m.onError(i)})})(this,new kt(Tt.ABORTED,"Firestore shutting down"))}}function SE(){return new Ll(n=>zx(n),Bm)}async function pL(n,t){const e=Kt(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.Va()&&t.ma()&&(i=2):(o=new dL,i=t.ma()?0:1);try{switch(i){case 0:o.Aa=await e.onListen(r,!0);break;case 1:o.Aa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(c){const f=Cy(c,`Initialization of query '${Cu(t.query)}' failed`);return void t.onError(f)}e.queries.set(r,o),o.Ra.push(t),t.ga(e.onlineState),o.Aa&&t.pa(o.Aa)&&Iy(e)}async function gL(n,t){const e=Kt(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const c=o.Ra.indexOf(t);c>=0&&(o.Ra.splice(c,1),o.Ra.length===0?r=t.ma()?0:1:!o.Va()&&t.ma()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function _L(n,t){const e=Kt(n);let i=!1;for(const r of t){const o=r.query,c=e.queries.get(o);if(c){for(const f of c.Ra)f.pa(r)&&(i=!0);c.Aa=r}}i&&Iy(e)}function yL(n,t,e){const i=Kt(n),r=i.queries.get(t);if(r)for(const o of r.Ra)o.onError(e);i.queries.delete(t)}function Iy(n){n.fa.forEach(t=>{t.next()})}var M_,xE;(xE=M_||(M_={})).ya="default",xE.Cache="cache";class vL{constructor(t,e,i){this.query=t,this.wa=e,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=i||{}}pa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new qu(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.ba?this.Da(t)&&(this.wa.next(t),e=!0):this.va(t,this.onlineState)&&(this.Ca(t),e=!0),this.Sa=t,e}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let e=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),e=!0),e}va(t,e){if(!t.fromCache||!this.ma())return!0;const i=e!=="Offline";return(!this.options.Fa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const e=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}Ca(t){t=qu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==M_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(t){this.key=t}}class v1{constructor(t){this.key=t}}class bL{constructor(t,e){this.query=t,this.qa=e,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=le(),this.mutatedKeys=le(),this.Ua=Vx(t),this.Ka=new Lu(this.Ua)}get Wa(){return this.qa}Ga(t,e){const i=e?e.za:new wE,r=e?e.Ka:this.Ka;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,f=!1;const m=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((v,E)=>{const x=r.get(v),R=Um(this.query,E)?E:null,I=!!x&&this.mutatedKeys.has(x.key),O=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let D=!1;x&&R?x.data.isEqual(R.data)?I!==O&&(i.track({type:3,doc:R}),D=!0):this.ja(x,R)||(i.track({type:2,doc:R}),D=!0,(m&&this.Ua(R,m)>0||p&&this.Ua(R,p)<0)&&(f=!0)):!x&&R?(i.track({type:0,doc:R}),D=!0):x&&!R&&(i.track({type:1,doc:x}),D=!0,(m||p)&&(f=!0)),D&&(R?(c=c.add(R),o=O?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),i.track({type:1,doc:v})}return{Ka:c,za:i,ys:f,mutatedKeys:o}}ja(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const c=t.za.da();c.sort((v,E)=>function(R,I){const O=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ft(20277,{Vt:D})}};return O(R)-O(I)}(v.type,E.type)||this.Ua(v.doc,E.doc)),this.Ha(i),r=r!=null&&r;const f=e&&!r?this.Ja():[],m=this.$a.size===0&&this.current&&!r?1:0,p=m!==this.Qa;return this.Qa=m,c.length!==0||p?{snapshot:new qu(this.query,t.Ka,o,c,t.mutatedKeys,m===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ya:f}:{Ya:f}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new wE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(e=>this.qa=this.qa.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.qa=this.qa.delete(e)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=le(),this.Ka.forEach(i=>{this.Za(i.key)&&(this.$a=this.$a.add(i.key))});const e=[];return t.forEach(i=>{this.$a.has(i)||e.push(new v1(i))}),this.$a.forEach(i=>{t.has(i)||e.push(new y1(i))}),e}Xa(t){this.qa=t.Ns,this.$a=le();const e=this.Ga(t.documents);return this.applyChanges(e,!0)}eu(){return qu.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const My="SyncEngine";class TL{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class EL{constructor(t){this.key=t,this.tu=!1}}class wL{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.nu={},this.ru=new Ll(f=>zx(f),Bm),this.iu=new Map,this.su=new Set,this.ou=new We(zt.comparator),this._u=new Map,this.au=new vy,this.uu={},this.cu=new Map,this.lu=Fu.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function SL(n,t,e=!0){const i=x1(n);let r;const o=i.ru.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.eu()):r=await b1(i,t,e,!0),r}async function xL(n,t){const e=x1(n);await b1(e,t,!0,!1)}async function b1(n,t,e,i){const r=await Hk(n.localStore,cr(t)),o=r.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let f;return i&&(f=await AL(n,t,o,c==="current",r.resumeToken)),n.isPrimaryClient&&e&&f1(n.remoteStore,r),f}async function AL(n,t,e,i,r){n.Pu=(E,x,R)=>async function(O,D,V,K){let W=D.view.Ga(V);W.ys&&(W=await _E(O.localStore,D.query,!1).then(({documents:B})=>D.view.Ga(B,W)));const ut=K&&K.targetChanges.get(D.targetId),et=K&&K.targetMismatches.get(D.targetId)!=null,_t=D.view.applyChanges(W,O.isPrimaryClient,ut,et);return RE(O,D.targetId,_t.Ya),_t.snapshot}(n,E,x,R);const o=await _E(n.localStore,t,!0),c=new bL(t,o.Ns),f=c.Ga(o.documents),m=Qh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),p=c.applyChanges(f,n.isPrimaryClient,m);RE(n,e,p.Ya);const v=new TL(t,e,c);return n.ru.set(t,v),n.iu.has(e)?n.iu.get(e).push(t):n.iu.set(e,[t]),p.snapshot}async function RL(n,t,e){const i=Kt(n),r=i.ru.get(t),o=i.iu.get(r.targetId);if(o.length>1)return i.iu.set(r.targetId,o.filter(c=>!Bm(c,t))),void i.ru.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await C_(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),e&&wy(i.remoteStore,r.targetId),P_(i,r.targetId)}).catch(ec)):(P_(i,r.targetId),await C_(i.localStore,r.targetId,!0))}async function CL(n,t){const e=Kt(n),i=e.ru.get(t),r=e.iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),wy(e.remoteStore,i.targetId))}async function IL(n,t,e){const i=NL(n);try{const r=await function(c,f){const m=Kt(c),p=_n.now(),v=f.reduce((R,I)=>R.add(I.key),le());let E,x;return m.persistence.runTransaction("Locally write mutations","readwrite",R=>{let I=ra(),O=le();return m.Cs.getEntries(R,v).next(D=>{I=D,I.forEach((V,K)=>{K.isValidDocument()||(O=O.add(V))})}).next(()=>m.localDocuments.getOverlayedDocuments(R,I)).next(D=>{E=D;const V=[];for(const K of f){const W=HD(K,E.get(K.key).overlayedDocument);W!=null&&V.push(new Nl(K.key,W,Ix(W.value.mapValue),ta.exists(!0)))}return m.mutationQueue.addMutationBatch(R,p,V,f)}).next(D=>{x=D;const V=D.applyToLocalDocumentSet(E,O);return m.documentOverlayCache.saveOverlays(R,D.batchId,V)})}).then(()=>({batchId:x.batchId,changes:Ux(E)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(c,f,m){let p=c.uu[c.currentUser.toKey()];p||(p=new We(Jt)),p=p.insert(f,m),c.uu[c.currentUser.toKey()]=p}(i,r.batchId,e),await Jh(i,r.changes),await Zm(i.remoteStore)}catch(r){const o=Cy(r,"Failed to persist write");e.reject(o)}}async function T1(n,t){const e=Kt(n);try{const i=await Bk(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e._u.get(o);c&&(be(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.tu=!0:r.modifiedDocuments.size>0?be(c.tu,14607):r.removedDocuments.size>0&&(be(c.tu,42227),c.tu=!1))}),await Jh(e,i,t)}catch(i){await ec(i)}}function AE(n,t,e){const i=Kt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.ru.forEach((o,c)=>{const f=c.view.ga(t);f.snapshot&&r.push(f.snapshot)}),function(c,f){const m=Kt(c);m.onlineState=f;let p=!1;m.queries.forEach((v,E)=>{for(const x of E.Ra)x.ga(f)&&(p=!0)}),p&&Iy(m)}(i.eventManager,t),r.length&&i.nu.Q_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function ML(n,t,e){const i=Kt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i._u.get(t),o=r&&r.key;if(o){let c=new We(zt.comparator);c=c.insert(o,Xn.newNoDocument(o,Wt.min()));const f=le().add(o),m=new Fm(Wt.min(),new Map,new We(Jt),c,f);await T1(i,m),i.ou=i.ou.remove(o),i._u.delete(t),Py(i)}else await C_(i.localStore,t,!1).then(()=>P_(i,t,e)).catch(ec)}async function PL(n,t){const e=Kt(n),i=t.batch.batchId;try{const r=await Vk(e.localStore,t);w1(e,i,null),E1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Jh(e,r)}catch(r){await ec(r)}}async function OL(n,t,e){const i=Kt(n);try{const r=await function(c,f){const m=Kt(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return m.mutationQueue.lookupMutationBatch(p,f).next(E=>(be(E!==null,37113),v=E.keys(),m.mutationQueue.removeMutationBatch(p,E))).next(()=>m.mutationQueue.performConsistencyCheck(p)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(p,v,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>m.localDocuments.getDocuments(p,v))})}(i.localStore,t);w1(i,t,e),E1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Jh(i,r)}catch(r){await ec(r)}}function E1(n,t){(n.cu.get(t)||[]).forEach(e=>{e.resolve()}),n.cu.delete(t)}function w1(n,t,e){const i=Kt(n);let r=i.uu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.uu[i.currentUser.toKey()]=r}}function P_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.iu.get(t))n.ru.delete(i),e&&n.nu.Tu(i,e);n.iu.delete(t),n.isPrimaryClient&&n.au.Ur(t).forEach(i=>{n.au.containsKey(i)||S1(n,i)})}function S1(n,t){n.su.delete(t.path.canonicalString());const e=n.ou.get(t);e!==null&&(wy(n.remoteStore,e),n.ou=n.ou.remove(t),n._u.delete(e),Py(n))}function RE(n,t,e){for(const i of e)i instanceof y1?(n.au.addReference(i.key,t),DL(n,i)):i instanceof v1?(Rt(My,"Document no longer in limbo: "+i.key),n.au.removeReference(i.key,t),n.au.containsKey(i.key)||S1(n,i.key)):Ft(19791,{Iu:i})}function DL(n,t){const e=t.key,i=e.path.canonicalString();n.ou.get(e)||n.su.has(i)||(Rt(My,"New document in limbo: "+e),n.su.add(i),Py(n))}function Py(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const t=n.su.values().next().value;n.su.delete(t);const e=new zt(He.fromString(t)),i=n.lu.next();n._u.set(i,new EL(e)),n.ou=n.ou.insert(e,i),f1(n.remoteStore,new lo(cr(Nx(e.path)),i,"TargetPurposeLimboResolution",Lm.le))}}async function Jh(n,t,e){const i=Kt(n),r=[],o=[],c=[];i.ru.isEmpty()||(i.ru.forEach((f,m)=>{c.push(i.Pu(m,t,e).then(p=>{var v;if((p||e)&&i.isPrimaryClient){const E=p?!p.fromCache:(v=e==null?void 0:e.targetChanges.get(m.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(m.targetId,E?"current":"not-current")}if(p){r.push(p);const E=Ty.Ps(m.targetId,p);o.push(E)}}))}),await Promise.all(c),i.nu.Q_(r),await async function(m,p){const v=Kt(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>mt.forEach(p,x=>mt.forEach(x.ls,R=>v.persistence.referenceDelegate.addReference(E,x.targetId,R)).next(()=>mt.forEach(x.hs,R=>v.persistence.referenceDelegate.removeReference(E,x.targetId,R)))))}catch(E){if(!nc(E))throw E;Rt(Ey,"Failed to update sequence numbers: "+E)}for(const E of p){const x=E.targetId;if(!E.fromCache){const R=v.Ss.get(x),I=R.snapshotVersion,O=R.withLastLimboFreeSnapshotVersion(I);v.Ss=v.Ss.insert(x,O)}}}(i.localStore,o))}async function kL(n,t){const e=Kt(n);if(!e.currentUser.isEqual(t)){Rt(My,"User change. New user:",t.toKey());const i=await l1(e.localStore,t);e.currentUser=t,function(o,c){o.cu.forEach(f=>{f.forEach(m=>{m.reject(new kt(Tt.CANCELLED,c))})}),o.cu.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Jh(e,i.Ms)}}function LL(n,t){const e=Kt(n),i=e._u.get(t);if(i&&i.tu)return le().add(i.key);{let r=le();const o=e.iu.get(t);if(!o)return r;for(const c of o){const f=e.ru.get(c);r=r.unionWith(f.view.Wa)}return r}}function x1(n){const t=Kt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=LL.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ML.bind(null,t),t.nu.Q_=_L.bind(null,t.eventManager),t.nu.Tu=yL.bind(null,t.eventManager),t}function NL(n){const t=Kt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=PL.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=OL.bind(null,t),t}class dm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=qm(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,e){return null}fu(t,e){return null}Vu(t){return zk(this.persistence,new kk,t.initialUser,this.serializer)}Ru(t){return new o1(by.Ei,this.serializer)}Au(t){return new qk}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dm.provider={build:()=>new dm};class zL extends dm{constructor(t){super(),this.cacheSizeBytes=t}mu(t,e){be(this.persistence.referenceDelegate instanceof hm,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new vk(i,t.asyncQueue,e)}Ru(t){const e=this.cacheSizeBytes!==void 0?pi.withCacheSize(this.cacheSizeBytes):pi.DEFAULT;return new o1(i=>hm.Ei(i,e),this.serializer)}}class O_{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>AE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=kL.bind(null,this.syncEngine),await fL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new mL}()}createDatastore(t){const e=qm(t.databaseInfo.databaseId),i=function(o){return new Yk(o)}(t.databaseInfo);return function(o,c,f,m){return new Jk(o,c,f,m)}(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return function(i,r,o,c,f){return new eL(i,r,o,c,f)}(this.localStore,this.datastore,t.asyncQueue,e=>AE(this.syncEngine,e,0),function(){return bE.C()?new bE:new Gk}())}createSyncEngine(t,e){return function(r,o,c,f,m,p,v){const E=new wL(r,o,c,f,m,p);return v&&(E.hu=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(r){const o=Kt(r);Rt(Il,"RemoteStore shutting down."),o.aa.add(5),await $h(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}O_.provider={build:()=>new O_};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):sa("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="FirestoreClient";class BL{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Yn.UNAUTHENTICATED,this.clientId=vx.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,async c=>{Rt(Ao,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(Rt(Ao,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new yo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Cy(e,"Failed to shutdown persistence");t.reject(i)}}),t.promise}}async function Wg(n,t){n.asyncQueue.verifyOperationInProgress(),Rt(Ao,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(async r=>{i.isEqual(r)||(await l1(t.localStore,r),i=r)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function CE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await UL(n);Rt(Ao,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener(i=>EE(t.remoteStore,i)),n.setAppCheckTokenChangeListener((i,r)=>EE(t.remoteStore,r)),n._onlineComponents=t}async function UL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Rt(Ao,"Using user provided OfflineComponentProvider");try{await Wg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(r){return r.name==="FirebaseError"?r.code===Tt.FAILED_PRECONDITION||r.code===Tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;Bu("Error using user provided cache. Falling back to memory cache: "+e),await Wg(n,new dm)}}else Rt(Ao,"Using default OfflineComponentProvider"),await Wg(n,new zL(void 0));return n._offlineComponents}async function A1(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Rt(Ao,"Using user provided OnlineComponentProvider"),await CE(n,n._uninitializedComponentsProvider._online)):(Rt(Ao,"Using default OnlineComponentProvider"),await CE(n,new O_))),n._onlineComponents}function jL(n){return A1(n).then(t=>t.syncEngine)}async function HL(n){const t=await A1(n),e=t.eventManager;return e.onListen=SL.bind(null,t.syncEngine),e.onUnlisten=RL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=xL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=CL.bind(null,t.syncEngine),e}function FL(n,t,e={}){const i=new yo;return n.asyncQueue.enqueueAndForget(async()=>function(o,c,f,m,p){const v=new VL({next:x=>{v.yu(),c.enqueueAndForget(()=>gL(o,E)),x.fromCache&&m.source==="server"?p.reject(new kt(Tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),E=new vL(f,v,{includeMetadataChanges:!0,Fa:!0});return pL(o,E)}(await HL(n),n.asyncQueue,t,e,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(n,t,e){if(!e)throw new kt(Tt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function qL(n,t,e,i){if(t===!0&&i===!0)throw new kt(Tt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function ME(n){if(!zt.isDocumentKey(n))throw new kt(Tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PE(n){if(zt.isDocumentKey(n))throw new kt(Tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Oy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(i){return i.constructor?i.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ft(12329,{type:typeof n})}function mm(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new kt(Tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Oy(n);throw new kt(Tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="firestore.googleapis.com",OE=!0;class DE{constructor(t){var e,i;if(t.host===void 0){if(t.ssl!==void 0)throw new kt(Tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=I1,this.ssl=OE}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:OE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=a1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<_k)throw new kt(Tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}qL("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=R1((i=t.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new kt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new kt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new kt(Tt.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Wm{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kt(Tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new kt(Tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new WO;switch(i.type){case"firstParty":return new QO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new kt(Tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const i=IE.get(e);i&&(Rt("ComponentProvider","Removing Datastore"),IE.delete(e),i.terminate())}(this),Promise.resolve()}}function GL(n,t,e,i={}){var r;n=mm(n,Wm);const o=Pm(t),c=n._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:n._getEmulatorOptions()}),m=`${t}:${e}`;o&&wS(`https://${m}`),c.host!==I1&&c.host!==m&&Bu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:o,emulatorOptions:i});if(!Sl(p,f)&&(n._setSettings(p),i.mockUserToken)){let v,E;if(typeof i.mockUserToken=="string")v=i.mockUserToken,E=Yn.MOCK_USER;else{v=aI(i.mockUserToken,(r=n._app)===null||r===void 0?void 0:r.options.projectId);const x=i.mockUserToken.sub||i.mockUserToken.user_id;if(!x)throw new kt(Tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Yn(x)}n._authCredentials=new KO(new _x(v,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Km(this.firestore,t,this._query)}}class Ls{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ls(this.firestore,t,this._key)}}class vo extends Km{constructor(t,e,i){super(t,e,Nx(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ls(this.firestore,null,new zt(t))}withConverter(t){return new vo(this.firestore,t,this._path)}}function Gu(n,t,...e){if(n=Hi(n),C1("collection","path",t),n instanceof Wm){const i=He.fromString(t,...e);return PE(i),new vo(n,null,i)}{if(!(n instanceof Ls||n instanceof vo))throw new kt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(He.fromString(t,...e));return PE(i),new vo(n.firestore,null,i)}}function ZL(n,t,...e){if(n=Hi(n),arguments.length===1&&(t=vx.newId()),C1("doc","path",t),n instanceof Wm){const i=He.fromString(t,...e);return ME(i),new Ls(n,null,new zt(i))}{if(!(n instanceof Ls||n instanceof vo))throw new kt(Tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(He.fromString(t,...e));return ME(i),new Ls(n.firestore,n instanceof vo?n.converter:null,new zt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class LE{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new c1(this,"async_queue_retry"),this.ju=()=>{const i=Zg();i&&Rt(kE,"Visibility state changed to "+i.visibilityState),this.y_.A_()},this.Hu=t;const e=Zg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const e=Zg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const e=new yo;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!nc(t))throw t;Rt(kE,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const e=this.Hu.then(()=>(this.Wu=!0,t().catch(i=>{throw this.Ku=i,this.Wu=!1,sa("INTERNAL UNHANDLED ERROR: ",NE(i)),i}).then(i=>(this.Wu=!1,i))));return this.Hu=e,e}enqueueAfterDelay(t,e,i){this.Ju(),this.zu.indexOf(t)>-1&&(e=0);const r=Ry.createAndSchedule(this,t,e,i,o=>this.Xu(o));return this.Uu.push(r),r}Ju(){this.Ku&&Ft(47125,{ec:NE(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const e of this.Uu)if(e.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const e=this.Uu.indexOf(t);this.Uu.splice(e,1)}}function NE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}class Dy extends Wm{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new LE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new LE(t),this._firestoreClient=void 0,await t}}}function WL(n,t){const e=typeof n=="object"?n:RS(),i=typeof n=="string"?n:sm,r=J_(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=sI("firestore");o&&GL(r,...o)}return r}function M1(n){if(n._terminated)throw new kt(Tt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||KL(n),n._firestoreClient}function KL(n){var t,e,i;const r=n._freezeSettings(),o=function(f,m,p,v){return new fD(f,m,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,R1(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,r);n._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),n._firestoreClient=new BL(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zu(Vn.fromBase64String(t))}catch(e){throw new kt(Tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Zu(Vn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new kt(Tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new kt(Tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new kt(Tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Jt(this._lat,t._lat)||Jt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=/^__.*__$/;class XL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Nl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xh(t,this.data,e,this.fieldTransforms)}}function O1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ft(40011,{oc:n})}}class zy{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new zy(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.ac({path:i,cc:!1});return r.lc(t),r}hc(t){var e;const i=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.ac({path:i,cc:!1});return r._c(),r}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return pm(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(O1(this.oc)&&YL.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class QL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||qm(t)}dc(t,e,i,r=!1){return new zy({oc:t,methodName:e,Ec:i,path:zn.emptyPath(),cc:!1,Ic:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $L(n){const t=n._freezeSettings(),e=qm(n._databaseId);return new QL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function JL(n,t,e,i,r,o={}){const c=n.dc(o.merge||o.mergeFields?2:0,t,e,r);N1("Data must be an object, but it was:",c,i);const f=k1(i,c);let m,p;if(o.merge)m=new ks(c.fieldMask),p=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const E of o.mergeFields){const x=tN(t,E,e);if(!c.contains(x))throw new kt(Tt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);nN(v,x)||v.push(x)}m=new ks(v),p=c.fieldTransforms.filter(E=>m.covers(E.field))}else m=null,p=c.fieldTransforms;return new XL(new hs(f),m,p)}function D1(n,t){if(L1(n=Hi(n)))return N1("Unsupported field value:",t,n),k1(n,t);if(n instanceof P1)return function(i,r){if(!O1(r.oc))throw r.Tc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Tc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(i,r){const o=[];let c=0;for(const f of i){let m=D1(f,r.Pc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}}(n,t)}return function(i,r){if((i=Hi(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return ND(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=_n.fromDate(i);return{timestampValue:cm(r.serializer,o)}}if(i instanceof _n){const o=new _n(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:cm(r.serializer,o)}}if(i instanceof Ly)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Zu)return{bytesValue:Jx(r.serializer,i._byteString)};if(i instanceof Ls){const o=r.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw r.Tc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yy(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Ny)return function(c,f){return{mapValue:{fields:{[Rx]:{stringValue:Cx},[rm]:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw f.Tc("VectorValues must only contain numeric values.");return py(f.serializer,p)})}}}}}}(i,r);throw r.Tc(`Unsupported field value: ${Oy(i)}`)}(n,t)}function k1(n,t){const e={};return Tx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):kl(n,(i,r)=>{const o=D1(r,t.uc(i));o!=null&&(e[i]=o)}),{mapValue:{fields:e}}}function L1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof _n||n instanceof Ly||n instanceof Zu||n instanceof Ls||n instanceof P1||n instanceof Ny)}function N1(n,t,e){if(!L1(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){const i=Oy(e);throw i==="an object"?t.Tc(n+" a custom object"):t.Tc(n+" "+i)}}function tN(n,t,e){if((t=Hi(t))instanceof ky)return t._internalPath;if(typeof t=="string")return z1(n,t);throw pm("Field path arguments must be of type string or ",n,!1,void 0,e)}const eN=new RegExp("[~\\*/\\[\\]]");function z1(n,t,e){if(t.search(eN)>=0)throw pm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ky(...t.split("."))._internalPath}catch{throw pm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function pm(n,t,e,i,r){const o=i&&!i.isEmpty(),c=r!==void 0;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${i}`),c&&(m+=` in document ${r}`),m+=")"),new kt(Tt.INVALID_ARGUMENT,f+n+m)}function nN(n,t){return n.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ls(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(B1("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class iN extends V1{data(){return super.data()}}function B1(n,t){return typeof t=="string"?z1(n,t):t instanceof ky?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new kt(Tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rN{convertValue(t,e="none"){switch(So(t)){case 0:return null;case 1:return t.booleanValue;case 2:return nn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(wo(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ft(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return kl(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertVectorValue(t){var e,i,r;const o=(r=(i=(e=t.fields)===null||e===void 0?void 0:e[rm].arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(c=>nn(c.doubleValue));return new Ny(o)}convertGeoPoint(t){return new Ly(nn(t.latitude),nn(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=zm(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ih(t));default:return null}}convertTimestamp(t){const e=Eo(t);return new _n(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=He.fromString(t);be(r1(i),9688,{name:t});const r=new Mh(i.get(1),i.get(3)),o=new zt(i.popFirst(5));return r.isEqual(e)||sa(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(n,t,e){let i;return i=n?n.toFirestore(t):t,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oN extends V1{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Bd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(B1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Bd extends oN{data(t={}){return super.data(t)}}class lN{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new fd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Bd(this._firestore,this._userDataWriter,i.key,i,new fd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new kt(Tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map(f=>{const m=new Bd(r._firestore,r._userDataWriter,f.doc.key,f.doc,new fd(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(f=>o||f.type!==3).map(f=>{const m=new Bd(r._firestore,r._userDataWriter,f.doc.key,f.doc,new fd(r._snapshot.mutatedKeys.has(f.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,v=-1;return f.type!==0&&(p=c.indexOf(f.doc.key),c=c.delete(f.doc.key)),f.type!==1&&(c=c.add(f.doc),v=c.indexOf(f.doc.key)),{type:uN(f.type),doc:m,oldIndex:p,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function uN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ft(61501,{type:n})}}class cN extends rN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ls(this.firestore,null,e)}}function gm(n){n=mm(n,Km);const t=mm(n.firestore,Dy),e=M1(t),i=new cN(t);return sN(n._query),FL(e,n._query).then(r=>new lN(t,i,n,r))}function U1(n,t){const e=mm(n.firestore,Dy),i=ZL(n),r=aN(n.converter,t);return hN(e,[JL($L(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,ta.exists(!1))]).then(()=>i)}function hN(n,t){return function(i,r){const o=new yo;return i.asyncQueue.enqueueAndForget(async()=>IL(await jL(i),r,o)),o.promise}(M1(n),t)}(function(t,e=!0){(function(r){tc=r})($u),Vu(new xl("firestore",(i,{instanceIdentifier:r,options:o})=>{const c=i.getProvider("app").getImmediate(),f=new Dy(new YO(i.getProvider("auth-internal")),new $O(c,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new kt(Tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mh(p.options.projectId,v)}(c,r),c);return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC").setMultipleInstances(!0)),go(jT,HT,t),go(jT,HT,"esm2017")})();const fN={apiKey:"AIzaSyAQF2YqFv_ewEXjj6_uk2poYEyK5u1Sdu4",authDomain:"crs-in-react-js-c7752.firebaseapp.com",projectId:"crs-in-react-js-c7752",storageBucket:"crs-in-react-js-c7752.appspot.com",messagingSenderId:"236703955362",appId:"1:236703955362:web:b24a1788daec85e7249afb"},j1=AS(fN),_m=GO(j1),Wu=WL(j1);function dN(){const[n,t]=$.useState(""),[e,i]=$.useState(""),[r,o]=$.useState(""),c=Cm(),f=async m=>{m.preventDefault();try{await PP(_m,n,e),c("/dashboard")}catch{o("Login failed. Please check your credentials.")}};return X.jsx("div",{className:"flex items-center justify-center h-screen bg-cover bg-center",style:{backgroundImage:"url('/form-bg.jpg')"},children:X.jsxs("div",{className:"bg-white bg-opacity-80 p-8 rounded-lg shadow-md max-w-sm w-full",children:[X.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Login"}),r&&X.jsx("p",{className:"text-red-500 text-center mb-2",children:r}),X.jsxs("form",{className:"space-y-4",onSubmit:f,children:[X.jsx("input",{type:"email",className:"w-full p-3 border rounded",placeholder:"Email",value:n,onChange:m=>t(m.target.value)}),X.jsx("input",{type:"password",className:"w-full p-3 border rounded",placeholder:"Password",value:e,onChange:m=>i(m.target.value)}),X.jsx("button",{className:"w-full bg-blue-600 text-white py-3 rounded hover:bg-blue-700 transition",children:"Login"})]}),X.jsxs("p",{className:"mt-4 text-center text-sm",children:["Don't have an account? ",X.jsx(Os,{to:"/register",className:"text-blue-600 hover:underline",children:"Register"})]})]})})}function mN(){const[n,t]=$.useState(""),[e,i]=$.useState(""),[r,o]=$.useState(""),c=Cm(),f=async m=>{m.preventDefault();try{await MP(_m,n,e),c("/login")}catch{o("Registration failed. Please try again.")}};return X.jsx("div",{className:"flex items-center justify-center h-screen bg-cover bg-center",style:{backgroundImage:"url('/form-bg.jpg')"},children:X.jsxs("div",{className:"bg-white bg-opacity-80 p-8 rounded-lg shadow-md max-w-sm w-full",children:[X.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:"Register"}),r&&X.jsx("p",{className:"text-red-500 text-center mb-2",children:r}),X.jsxs("form",{className:"space-y-4",onSubmit:f,children:[X.jsx("input",{type:"email",className:"w-full p-3 border rounded",placeholder:"Email",value:n,onChange:m=>t(m.target.value)}),X.jsx("input",{type:"password",className:"w-full p-3 border rounded",placeholder:"Password",value:e,onChange:m=>i(m.target.value)}),X.jsx("button",{className:"w-full bg-blue-600 text-white py-3 rounded hover:bg-blue-700 transition",children:"Register"})]}),X.jsxs("p",{className:"mt-4 text-center text-sm",children:["Already have an account? ",X.jsx(Os,{to:"/login",className:"text-blue-600 hover:underline",children:"Login"})]})]})})}const pN=()=>{const[n,t]=$.useState(null),[e,i]=$.useState([]),[r,o]=$.useState([]),[c,f]=$.useState(""),[m,p]=$.useState(null),v=Cm(),E=Co();$.useEffect(()=>{const V=async()=>{const W=await gm(Gu(Wu,"crimes"));i(W.docs.map(et=>et.data()));const ut=await gm(Gu(Wu,"missing_people"));o(ut.docs.map(et=>et.data()))},K=_m.onAuthStateChanged(W=>{W?t(W):v("/login")});return V(),()=>K()},[v]);const x=()=>{kP(_m),v("/login")},R=V=>{p(V)},I=()=>{p(null)},O=[...e,...r].filter(V=>c?(V.location||V.last_seen).includes(c):!0),D=E.pathname==="/dashboard";return X.jsxs("div",{className:"flex min-h-screen",children:[X.jsxs("aside",{className:"w-1/4 bg-blue-700 text-white p-4 min-h-screen flex flex-col",children:[X.jsx("h2",{className:"text-2xl mb-4",children:"Dashboard"}),X.jsxs("p",{className:"text-sm mb-4",children:["Welcome, ",n?n.email:"Guest"]}),X.jsxs("nav",{className:"flex flex-col gap-2 mb-4",children:[X.jsx(nh,{to:"/dashboard",className:"hover:text-yellow-300",children:"Overview"}),X.jsx(nh,{to:"/dashboard/reportcrime",className:"hover:text-yellow-300",children:"Report Crime"}),X.jsx(nh,{to:"/dashboard/missingpeople",className:"hover:text-yellow-300",children:"Missing People"}),X.jsx(nh,{to:"/dashboard/analytics",className:"hover:text-yellow-300",children:"Analytics"})]}),X.jsx("button",{onClick:x,className:"mt-2 p-2 bg-red-500 text-white rounded",children:"Logout"})]}),X.jsxs("main",{className:"flex-grow p-6 bg-gray-100 overflow-auto",children:[D?X.jsxs(X.Fragment,{children:[X.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Dashboard Overview"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[X.jsxs("div",{className:"bg-white p-4 rounded shadow flex flex-col",children:[X.jsx("h3",{className:"font-bold mb-2",children:"Recent Crimes"}),e.slice(0,2).map((V,K)=>X.jsxs("div",{className:"text-gray-700 mb-2 p-2 rounded bg-gray-50",children:[X.jsx("strong",{children:V.title})," - ",V.location,", ",V.date]},K))]}),X.jsxs("div",{className:"bg-white p-4 rounded shadow flex flex-col",children:[X.jsx("h3",{className:"font-bold mb-2",children:"Recent Missing People"}),r.slice(0,2).map((V,K)=>X.jsxs("div",{className:"text-gray-700 mb-2 p-2 rounded bg-gray-50",children:[X.jsx("strong",{children:V.name})," - Last Seen: ",V.last_seen,", ",V.date_missing]},K))]})]}),X.jsxs("select",{className:"p-2 border mb-4",value:c,onChange:V=>f(V.target.value),children:[X.jsx("option",{value:"",children:"All Locations"}),X.jsx("option",{value:"Colaba",children:"Colaba"}),X.jsx("option",{value:"Thane",children:"Thane"}),X.jsx("option",{value:"Dadar",children:"Dadar"}),X.jsx("option",{value:"Bandra",children:"Bandra"}),X.jsx("option",{value:"Andheri",children:"Andheri"}),X.jsx("option",{value:"Borivali",children:"Borivali"}),X.jsx("option",{value:"Juhu",children:"Juhu"}),X.jsx("option",{value:"Goregaon",children:"Goregaon"})]}),X.jsxs("table",{className:"min-w-full bg-white mt-4 rounded shadow",children:[X.jsx("thead",{children:X.jsxs("tr",{className:"bg-blue-200 text-left",children:[X.jsx("th",{className:"py-2 px-4",children:"Title/Name"}),X.jsx("th",{className:"py-2 px-4",children:"Location/Last Seen"}),X.jsx("th",{className:"py-2 px-4",children:"Date"})]})}),X.jsx("tbody",{children:O.map((V,K)=>X.jsxs("tr",{className:"hover:bg-gray-100 cursor-pointer",onClick:()=>R(V),children:[X.jsx("td",{className:"py-2 px-4",children:V.title||V.name}),X.jsx("td",{className:"py-2 px-4",children:V.location||V.last_seen}),X.jsx("td",{className:"py-2 px-4",children:V.date||V.date_missing})]},K))})]})]}):X.jsx(QC,{}),m&&X.jsx("div",{className:"fixed inset-0 backdrop-blur-sm flex items-center justify-center",children:X.jsxs("div",{className:"bg-white p-6 rounded shadow-lg relative max-w-md w-full",children:[X.jsx("h3",{className:"font-bold text-lg mb-2",children:"Details"}),X.jsxs("p",{children:[X.jsx("strong",{children:"Title/Name:"})," ",m.title||m.name]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Location/Last Seen:"})," ",m.location||m.last_seen]}),X.jsxs("p",{children:[X.jsx("strong",{children:"Description:"})," ",m.description]}),X.jsx("button",{onClick:I,className:"absolute top-2 right-2 text-gray-500",children:"✖"})]})})]})]})},gN=()=>{const[n,t]=$.useState(""),[e,i]=$.useState(""),[r,o]=$.useState(""),[c,f]=$.useState(""),m=async p=>{p.preventDefault();try{await U1(Gu(Wu,"crimes"),{title:n,description:e,location:r,date:c}),alert("Crime report submitted successfully!"),t(""),i(""),o(""),f("")}catch(v){console.error("Error adding document: ",v),alert("Failed to submit report. Please try again.")}};return X.jsxs("div",{className:"p-8",children:[X.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Report a Crime"}),X.jsxs("form",{onSubmit:m,className:"space-y-4",children:[X.jsx("input",{type:"text",placeholder:"Title",value:n,onChange:p=>t(p.target.value),className:"w-full p-3 border rounded",required:!0}),X.jsx("textarea",{placeholder:"Description",value:e,onChange:p=>i(p.target.value),className:"w-full p-3 border rounded",required:!0}),X.jsx("input",{type:"text",placeholder:"Location",value:r,onChange:p=>o(p.target.value),className:"w-full p-3 border rounded",required:!0}),X.jsx("input",{type:"date",value:c,onChange:p=>f(p.target.value),className:"w-full p-3 border rounded",required:!0}),X.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded hover:bg-blue-700 transition",children:"Submit Report"})]})]})},_N=()=>{const[n,t]=$.useState(""),[e,i]=$.useState(""),[r,o]=$.useState(""),[c,f]=$.useState(""),[m,p]=$.useState(""),v=async E=>{E.preventDefault();try{await U1(Gu(Wu,"missing_people"),{name:n,age:e,last_seen:r,date_missing:c,description:m}),alert("Missing person report submitted successfully!"),t(""),i(""),o(""),f(""),p("")}catch(x){console.error("Error adding document: ",x),alert("Failed to submit report. Please try again.")}};return X.jsxs("div",{className:"p-8",children:[X.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Report a Missing Person"}),X.jsxs("form",{onSubmit:v,className:"space-y-4",children:[X.jsx("input",{type:"text",placeholder:"Name",value:n,onChange:E=>t(E.target.value),className:"w-full p-3 border rounded",required:!0}),X.jsx("input",{type:"number",placeholder:"Age",value:e,onChange:E=>i(E.target.value),className:"w-full p-3 border rounded",required:!0}),X.jsx("input",{type:"text",placeholder:"Last Seen Location",value:r,onChange:E=>o(E.target.value),className:"w-full p-3 border rounded",required:!0}),X.jsx("input",{type:"date",value:c,onChange:E=>f(E.target.value),className:"w-full p-3 border rounded",required:!0}),X.jsx("textarea",{placeholder:"Description",value:m,onChange:E=>p(E.target.value),className:"w-full p-3 border rounded",required:!0}),X.jsx("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded hover:bg-blue-700 transition",children:"Submit Report"})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function tf(n){return n+.5|0}const uo=(n,t,e)=>Math.max(Math.min(n,e),t);function lh(n){return uo(tf(n*2.55),0,255)}function bo(n){return uo(tf(n*255),0,255)}function Kr(n){return uo(tf(n/2.55)/100,0,1)}function zE(n){return uo(tf(n*100),0,100)}const us={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},D_=[..."0123456789ABCDEF"],yN=n=>D_[n&15],vN=n=>D_[(n&240)>>4]+D_[n&15],dd=n=>(n&240)>>4===(n&15),bN=n=>dd(n.r)&&dd(n.g)&&dd(n.b)&&dd(n.a);function TN(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&us[n[1]]*17,g:255&us[n[2]]*17,b:255&us[n[3]]*17,a:t===5?us[n[4]]*17:255}:(t===7||t===9)&&(e={r:us[n[1]]<<4|us[n[2]],g:us[n[3]]<<4|us[n[4]],b:us[n[5]]<<4|us[n[6]],a:t===9?us[n[7]]<<4|us[n[8]]:255})),e}const EN=(n,t)=>n<255?t(n):"";function wN(n){var t=bN(n)?yN:vN;return n?"#"+t(n.r)+t(n.g)+t(n.b)+EN(n.a,t):void 0}const SN=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function H1(n,t,e){const i=t*Math.min(e,1-e),r=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[r(0),r(8),r(4)]}function xN(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function AN(n,t,e){const i=H1(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function RN(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function Vy(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),c=Math.min(e,i,r),f=(o+c)/2;let m,p,v;return o!==c&&(v=o-c,p=f>.5?v/(2-o-c):v/(o+c),m=RN(e,i,r,v,o),m=m*60+.5),[m|0,p||0,f]}function By(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(bo)}function Uy(n,t,e){return By(H1,n,t,e)}function CN(n,t,e){return By(AN,n,t,e)}function IN(n,t,e){return By(xN,n,t,e)}function F1(n){return(n%360+360)%360}function MN(n){const t=SN.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?lh(+t[5]):bo(+t[5]));const r=F1(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=CN(r,o,c):t[1]==="hsv"?i=IN(r,o,c):i=Uy(r,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function PN(n,t){var e=Vy(n);e[0]=F1(e[0]+t),e=Uy(e),n.r=e[0],n.g=e[1],n.b=e[2]}function ON(n){if(!n)return;const t=Vy(n),e=t[0],i=zE(t[1]),r=zE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Kr(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const VE={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},BE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function DN(){const n={},t=Object.keys(BE),e=Object.keys(VE);let i,r,o,c,f;for(i=0;i<t.length;i++){for(c=f=t[i],r=0;r<e.length;r++)o=e[r],f=f.replace(o,VE[o]);o=parseInt(BE[c],16),n[f]=[o>>16&255,o>>8&255,o&255]}return n}let md;function kN(n){md||(md=DN(),md.transparent=[0,0,0,0]);const t=md[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const LN=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function NN(n){const t=LN.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?lh(c):uo(c*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?lh(i):uo(i,0,255)),r=255&(t[4]?lh(r):uo(r,0,255)),o=255&(t[6]?lh(o):uo(o,0,255)),{r:i,g:r,b:o,a:e}}}function zN(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Kr(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Kg=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,xu=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function VN(n,t,e){const i=xu(Kr(n.r)),r=xu(Kr(n.g)),o=xu(Kr(n.b));return{r:bo(Kg(i+e*(xu(Kr(t.r))-i))),g:bo(Kg(r+e*(xu(Kr(t.g))-r))),b:bo(Kg(o+e*(xu(Kr(t.b))-o))),a:n.a+e*(t.a-n.a)}}function pd(n,t,e){if(n){let i=Vy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Uy(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function q1(n,t){return n&&Object.assign(t||{},n)}function UE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=bo(n[3]))):(t=q1(n,{r:0,g:0,b:0,a:1}),t.a=bo(t.a)),t}function BN(n){return n.charAt(0)==="r"?NN(n):MN(n)}class kh{constructor(t){if(t instanceof kh)return t;const e=typeof t;let i;e==="object"?i=UE(t):e==="string"&&(i=TN(t)||kN(t)||BN(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=q1(this._rgb);return t&&(t.a=Kr(t.a)),t}set rgb(t){this._rgb=UE(t)}rgbString(){return this._valid?zN(this._rgb):void 0}hexString(){return this._valid?wN(this._rgb):void 0}hslString(){return this._valid?ON(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const c=e===o?.5:e,f=2*c-1,m=i.a-r.a,p=((f*m===-1?f:(f+m)/(1+f*m))+1)/2;o=1-p,i.r=255&p*i.r+o*r.r+.5,i.g=255&p*i.g+o*r.g+.5,i.b=255&p*i.b+o*r.b+.5,i.a=c*i.a+(1-c)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=VN(this._rgb,t._rgb,e)),this}clone(){return new kh(this.rgb)}alpha(t){return this._rgb.a=bo(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=tf(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return pd(this._rgb,2,t),this}darken(t){return pd(this._rgb,2,-t),this}saturate(t){return pd(this._rgb,1,t),this}desaturate(t){return pd(this._rgb,1,-t),this}rotate(t){return PN(this._rgb,t),this}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Gr(){}const UN=(()=>{let n=0;return()=>n++})();function ve(n){return n==null}function In(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function de(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function fs(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ir(n,t){return fs(n)?n:t}function se(n,t){return typeof n>"u"?t:n}const jN=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,G1=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Be(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Se(n,t,e,i){let r,o,c;if(In(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(de(n))for(c=Object.keys(n),o=c.length,r=0;r<o;r++)t.call(e,n[c[r]],c[r])}function ym(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function vm(n){if(In(n))return n.map(vm);if(de(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=vm(n[e[r]]);return t}return n}function Z1(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function HN(n,t,e,i){if(!Z1(n))return;const r=t[n],o=e[n];de(r)&&de(o)?Lh(r,o,i):t[n]=vm(o)}function Lh(n,t,e){const i=In(t)?t:[t],r=i.length;if(!de(n))return n;e=e||{};const o=e.merger||HN;let c;for(let f=0;f<r;++f){if(c=i[f],!de(c))continue;const m=Object.keys(c);for(let p=0,v=m.length;p<v;++p)o(m[p],n,c,e)}return n}function bh(n,t){return Lh(n,t,{merger:FN})}function FN(n,t,e){if(!Z1(n))return;const i=t[n],r=e[n];de(i)&&de(r)?bh(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=vm(r))}const jE={"":n=>n,x:n=>n.x,y:n=>n.y};function qN(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function GN(n){const t=qN(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ml(n,t){return(jE[t]||(jE[t]=GN(t)))(n)}function jy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Nh=n=>typeof n<"u",Ro=n=>typeof n=="function",HE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function ZN(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const cn=Math.PI,Qe=2*cn,WN=Qe+cn,bm=Number.POSITIVE_INFINITY,KN=cn/180,gn=cn/2,ml=cn/4,FE=cn*2/3,W1=Math.log10,fr=Math.sign;function Th(n,t,e){return Math.abs(n-t)<e}function qE(n){const t=Math.round(n);n=Th(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(W1(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function YN(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function XN(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function zh(n){return!XN(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function QN(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function $N(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Qr(n){return n*(cn/180)}function JN(n){return n*(180/cn)}function GE(n){if(!fs(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function K1(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*cn&&(o+=Qe),{angle:o,distance:r}}function k_(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function t4(n,t){return(n-t+WN)%Qe-cn}function io(n){return(n%Qe+Qe)%Qe}function Vh(n,t,e,i){const r=io(n),o=io(t),c=io(e),f=io(o-r),m=io(c-r),p=io(r-o),v=io(r-c);return r===o||r===c||i&&o===c||f>m&&p<v}function Qn(n,t,e){return Math.max(t,Math.min(e,n))}function e4(n){return Qn(n,-32768,32767)}function co(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Hy(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const Tl=(n,t,e,i)=>Hy(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),n4=(n,t,e)=>Hy(n,e,i=>n[i][t]>=e);function i4(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const Y1=["push","pop","shift","splice","unshift"];function s4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Y1.forEach(e=>{const i="_onData"+jy(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=r.apply(this,o);return n._chartjs.listeners.forEach(f=>{typeof f[i]=="function"&&f[i](...o)}),c}})})}function ZE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(Y1.forEach(o=>{delete n[o]}),delete n._chartjs)}function X1(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Q1=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function $1(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,Q1.call(window,()=>{i=!1,n.apply(t,e)}))}}function r4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const J1=n=>n==="start"?"left":n==="end"?"right":"center",Ui=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,a4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function o4(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:c,vScale:f,_parsed:m}=n,p=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,v=c.axis,{min:E,max:x,minDefined:R,maxDefined:I}=c.getUserBounds();if(R){if(r=Math.min(Tl(m,v,E).lo,e?i:Tl(t,v,c.getPixelForValue(E)).lo),p){const O=m.slice(0,r+1).reverse().findIndex(D=>!ve(D[f.axis]));r-=Math.max(0,O)}r=Qn(r,0,i-1)}if(I){let O=Math.max(Tl(m,c.axis,x,!0).hi+1,e?0:Tl(t,v,c.getPixelForValue(x),!0).hi+1);if(p){const D=m.slice(O-1).findIndex(V=>!ve(V[f.axis]));O+=Math.max(0,D)}o=Qn(O,r,i)-r}else o=i-r}return{start:r,count:o}}function l4(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const gd=n=>n===0||n===1,WE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Qe/e)),KE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Qe/e)+1,Eh={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*gn)+1,easeOutSine:n=>Math.sin(n*gn),easeInOutSine:n=>-.5*(Math.cos(cn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>gd(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>gd(n)?n:WE(n,.075,.3),easeOutElastic:n=>gd(n)?n:KE(n,.075,.3),easeInOutElastic(n){return gd(n)?n:n<.5?.5*WE(n*2,.1125,.45):.5+.5*KE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Eh.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Eh.easeInBounce(n*2)*.5:Eh.easeOutBounce(n*2-1)*.5+.5};function Fy(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function YE(n){return Fy(n)?n:new kh(n)}function Yg(n){return Fy(n)?n:new kh(n).saturate(.5).darken(.1).hexString()}const u4=["x","y","borderWidth","radius","tension"],c4=["color","borderColor","backgroundColor"];function h4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:c4},numbers:{type:"number",properties:u4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function f4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const XE=new Map;function d4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=XE.get(e);return i||(i=new Intl.NumberFormat(n,t),XE.set(e,i)),i}function qy(n,t,e){return d4(t,e).format(n)}const m4={values(n){return In(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const p=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(p<1e-4||p>1e15)&&(r="scientific"),o=p4(n,e)}const c=W1(Math.abs(o)),f=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),m={notation:r,minimumFractionDigits:f,maximumFractionDigits:f};return Object.assign(m,this.options.ticks.format),qy(n,i,m)}};function p4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var tA={formatters:m4};function g4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:tA.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Pl=Object.create(null),L_=Object.create(null);function wh(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Xg(n,t,e){return typeof t=="string"?Lh(wh(n,t),e):Lh(wh(n,""),t)}class _4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Yg(r.backgroundColor),this.hoverBorderColor=(i,r)=>Yg(r.borderColor),this.hoverColor=(i,r)=>Yg(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Xg(this,t,e)}get(t){return wh(this,t)}describe(t,e){return Xg(L_,t,e)}override(t,e){return Xg(Pl,t,e)}route(t,e,i,r){const o=wh(this,t),c=wh(this,i),f="_"+e;Object.defineProperties(o,{[f]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const m=this[f],p=c[r];return de(m)?Object.assign({},p,m):se(m,p)},set(m){this[f]=m}}})}apply(t){t.forEach(e=>e(this))}}var sn=new _4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[h4,f4,g4]);function y4(n){return!n||ve(n.size)||ve(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function QE(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function pl(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function $E(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function N_(n,t,e,i){eA(n,t,e,i,null)}function eA(n,t,e,i,r){let o,c,f,m,p,v,E,x;const R=t.pointStyle,I=t.rotation,O=t.radius;let D=(I||0)*KN;if(R&&typeof R=="object"&&(o=R.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(D),n.drawImage(R,-R.width/2,-R.height/2,R.width,R.height),n.restore();return}if(!(isNaN(O)||O<=0)){switch(n.beginPath(),R){default:r?n.ellipse(e,i,r/2,O,0,0,Qe):n.arc(e,i,O,0,Qe),n.closePath();break;case"triangle":v=r?r/2:O,n.moveTo(e+Math.sin(D)*v,i-Math.cos(D)*O),D+=FE,n.lineTo(e+Math.sin(D)*v,i-Math.cos(D)*O),D+=FE,n.lineTo(e+Math.sin(D)*v,i-Math.cos(D)*O),n.closePath();break;case"rectRounded":p=O*.516,m=O-p,c=Math.cos(D+ml)*m,E=Math.cos(D+ml)*(r?r/2-p:m),f=Math.sin(D+ml)*m,x=Math.sin(D+ml)*(r?r/2-p:m),n.arc(e-E,i-f,p,D-cn,D-gn),n.arc(e+x,i-c,p,D-gn,D),n.arc(e+E,i+f,p,D,D+gn),n.arc(e-x,i+c,p,D+gn,D+cn),n.closePath();break;case"rect":if(!I){m=Math.SQRT1_2*O,v=r?r/2:m,n.rect(e-v,i-m,2*v,2*m);break}D+=ml;case"rectRot":E=Math.cos(D)*(r?r/2:O),c=Math.cos(D)*O,f=Math.sin(D)*O,x=Math.sin(D)*(r?r/2:O),n.moveTo(e-E,i-f),n.lineTo(e+x,i-c),n.lineTo(e+E,i+f),n.lineTo(e-x,i+c),n.closePath();break;case"crossRot":D+=ml;case"cross":E=Math.cos(D)*(r?r/2:O),c=Math.cos(D)*O,f=Math.sin(D)*O,x=Math.sin(D)*(r?r/2:O),n.moveTo(e-E,i-f),n.lineTo(e+E,i+f),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c);break;case"star":E=Math.cos(D)*(r?r/2:O),c=Math.cos(D)*O,f=Math.sin(D)*O,x=Math.sin(D)*(r?r/2:O),n.moveTo(e-E,i-f),n.lineTo(e+E,i+f),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c),D+=ml,E=Math.cos(D)*(r?r/2:O),c=Math.cos(D)*O,f=Math.sin(D)*O,x=Math.sin(D)*(r?r/2:O),n.moveTo(e-E,i-f),n.lineTo(e+E,i+f),n.moveTo(e+x,i-c),n.lineTo(e-x,i+c);break;case"line":c=r?r/2:Math.cos(D)*O,f=Math.sin(D)*O,n.moveTo(e-c,i-f),n.lineTo(e+c,i+f);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(D)*(r?r/2:O),i+Math.sin(D)*O);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Bh(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Gy(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Zy(n){n.restore()}function v4(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function b4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function T4(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ve(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function E4(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,f=t+o.actualBoundingBoxRight,m=e-o.actualBoundingBoxAscent,p=e+o.actualBoundingBoxDescent,v=r.strikethrough?(m+p)/2:p;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(c,v),n.lineTo(f,v),n.stroke()}}function w4(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Tm(n,t,e,i,r,o={}){const c=In(t)?t:[t],f=o.strokeWidth>0&&o.strokeColor!=="";let m,p;for(n.save(),n.font=r.string,T4(n,o),m=0;m<c.length;++m)p=c[m],o.backdrop&&w4(n,o.backdrop),f&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ve(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(p,e,i,o.maxWidth)),n.fillText(p,e,i,o.maxWidth),E4(n,e,i,p,o),i+=Number(r.lineHeight);n.restore()}function Em(n,t){const{x:e,y:i,w:r,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*cn,cn,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,cn,gn,!0),n.lineTo(e+r-c.bottomRight,i+o),n.arc(e+r-c.bottomRight,i+o-c.bottomRight,c.bottomRight,gn,0,!0),n.lineTo(e+r,i+c.topRight),n.arc(e+r-c.topRight,i+c.topRight,c.topRight,0,-gn,!0),n.lineTo(e+c.topLeft,i)}const S4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,x4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function A4(n,t){const e=(""+n).match(S4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const R4=n=>+n||0;function Wy(n,t){const e={},i=de(t),r=i?Object.keys(t):t,o=de(n)?i?c=>se(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of r)e[c]=R4(o(c));return e}function nA(n){return Wy(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Nu(n){return Wy(n,["topLeft","topRight","bottomLeft","bottomRight"])}function zs(n){const t=nA(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function _i(n,t){n=n||{},t=t||sn.font;let e=se(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=se(n.style,t.style);i&&!(""+i).match(x4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:se(n.family,t.family),lineHeight:A4(se(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:se(n.weight,t.weight),string:""};return r.string=y4(r),r}function _d(n,t,e,i){let r,o,c;for(r=0,o=n.length;r<o;++r)if(c=n[r],c!==void 0&&c!==void 0)return c}function C4(n,t,e){const{min:i,max:r}=n,o=G1(t,(r-i)/2),c=(f,m)=>e&&f===0?0:f+m;return{min:c(i,-Math.abs(o)),max:c(r,o)}}function Vl(n,t){return Object.assign(Object.create(n),t)}function Ky(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=aA("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:f=>Ky([f,...n],t,o,i)};return new Proxy(c,{deleteProperty(f,m){return delete f[m],delete f._keys,delete n[0][m],!0},get(f,m){return sA(f,m,()=>N4(m,t,n,f))},getOwnPropertyDescriptor(f,m){return Reflect.getOwnPropertyDescriptor(f._scopes[0],m)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(f,m){return tw(f).includes(m)},ownKeys(f){return tw(f)},set(f,m,p){const v=f._storage||(f._storage=r());return f[m]=v[m]=p,delete f._keys,!0}})}function Ku(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:iA(n,i),setContext:o=>Ku(n,o,e,i),override:o=>Ku(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,f){return sA(o,c,()=>M4(o,c,f))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,f){return n[c]=f,delete o[c],!0}})}function iA(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:Ro(e)?e:()=>e,isIndexable:Ro(i)?i:()=>i}}const I4=(n,t)=>n?n+jy(t):t,Yy=(n,t)=>de(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function sA(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function M4(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:c}=n;let f=i[t];return Ro(f)&&c.isScriptable(t)&&(f=P4(t,f,n,e)),In(f)&&f.length&&(f=O4(t,f,n,c.isIndexable)),Yy(t,f)&&(f=Ku(f,r,o&&o[t],c)),f}function P4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_stack:f}=e;if(f.has(n))throw new Error("Recursion detected: "+Array.from(f).join("->")+"->"+n);f.add(n);let m=t(o,c||i);return f.delete(n),Yy(n,m)&&(m=Xy(r._scopes,r,n,m)),m}function O4(n,t,e,i){const{_proxy:r,_context:o,_subProxy:c,_descriptors:f}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(de(t[0])){const m=t,p=r._scopes.filter(v=>v!==m);t=[];for(const v of m){const E=Xy(p,r,n,v);t.push(Ku(E,o,c&&c[n],f))}}return t}function rA(n,t,e){return Ro(n)?n(t,e):n}const D4=(n,t)=>n===!0?t:typeof n=="string"?Ml(t,n):void 0;function k4(n,t,e,i,r){for(const o of t){const c=D4(e,o);if(c){n.add(c);const f=rA(c._fallback,e,r);if(typeof f<"u"&&f!==e&&f!==i)return f}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Xy(n,t,e,i){const r=t._rootScopes,o=rA(t._fallback,e,i),c=[...n,...r],f=new Set;f.add(i);let m=JE(f,c,e,o||e,i);return m===null||typeof o<"u"&&o!==e&&(m=JE(f,c,o,m,i),m===null)?!1:Ky(Array.from(f),[""],r,o,()=>L4(t,e,i))}function JE(n,t,e,i,r){for(;e;)e=k4(n,t,e,i,r);return e}function L4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return In(r)&&de(e)?e:r||{}}function N4(n,t,e,i){let r;for(const o of t)if(r=aA(I4(o,n),e),typeof r<"u")return Yy(n,r)?Xy(e,i,n,r):r}function aA(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function tw(n){let t=n._keys;return t||(t=n._keys=z4(n._scopes)),t}function z4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const V4=Number.EPSILON||1e-14,Yu=(n,t)=>t<n.length&&!n[t].skip&&n[t],oA=n=>n==="x"?"y":"x";function B4(n,t,e,i){const r=n.skip?t:n,o=t,c=e.skip?t:e,f=k_(o,r),m=k_(c,o);let p=f/(f+m),v=m/(f+m);p=isNaN(p)?0:p,v=isNaN(v)?0:v;const E=i*p,x=i*v;return{previous:{x:o.x-E*(c.x-r.x),y:o.y-E*(c.y-r.y)},next:{x:o.x+x*(c.x-r.x),y:o.y+x*(c.y-r.y)}}}function U4(n,t,e){const i=n.length;let r,o,c,f,m,p=Yu(n,0);for(let v=0;v<i-1;++v)if(m=p,p=Yu(n,v+1),!(!m||!p)){if(Th(t[v],0,V4)){e[v]=e[v+1]=0;continue}r=e[v]/t[v],o=e[v+1]/t[v],f=Math.pow(r,2)+Math.pow(o,2),!(f<=9)&&(c=3/Math.sqrt(f),e[v]=r*c*t[v],e[v+1]=o*c*t[v])}}function j4(n,t,e="x"){const i=oA(e),r=n.length;let o,c,f,m=Yu(n,0);for(let p=0;p<r;++p){if(c=f,f=m,m=Yu(n,p+1),!f)continue;const v=f[e],E=f[i];c&&(o=(v-c[e])/3,f[`cp1${e}`]=v-o,f[`cp1${i}`]=E-o*t[p]),m&&(o=(m[e]-v)/3,f[`cp2${e}`]=v+o,f[`cp2${i}`]=E+o*t[p])}}function H4(n,t="x"){const e=oA(t),i=n.length,r=Array(i).fill(0),o=Array(i);let c,f,m,p=Yu(n,0);for(c=0;c<i;++c)if(f=m,m=p,p=Yu(n,c+1),!!m){if(p){const v=p[t]-m[t];r[c]=v!==0?(p[e]-m[e])/v:0}o[c]=f?p?fr(r[c-1])!==fr(r[c])?0:(r[c-1]+r[c])/2:r[c-1]:r[c]}U4(n,r,o),j4(n,o,t)}function yd(n,t,e){return Math.max(Math.min(n,e),t)}function F4(n,t){let e,i,r,o,c,f=Bh(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=f,f=e<i-1&&Bh(n[e+1],t),o&&(r=n[e],c&&(r.cp1x=yd(r.cp1x,t.left,t.right),r.cp1y=yd(r.cp1y,t.top,t.bottom)),f&&(r.cp2x=yd(r.cp2x,t.left,t.right),r.cp2y=yd(r.cp2y,t.top,t.bottom)))}function q4(n,t,e,i,r){let o,c,f,m;if(t.spanGaps&&(n=n.filter(p=>!p.skip)),t.cubicInterpolationMode==="monotone")H4(n,r);else{let p=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)f=n[o],m=B4(p,f,n[Math.min(o+1,c-(i?0:1))%c],t.tension),f.cp1x=m.previous.x,f.cp1y=m.previous.y,f.cp2x=m.next.x,f.cp2y=m.next.y,p=f}t.capBezierPoints&&F4(n,e)}function Qy(){return typeof window<"u"&&typeof document<"u"}function $y(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function wm(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Ym=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function G4(n,t){return Ym(n).getPropertyValue(t)}const Z4=["top","right","bottom","left"];function El(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=Z4[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const W4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function K4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let c=!1,f,m;if(W4(r,o,n.target))f=r,m=o;else{const p=t.getBoundingClientRect();f=i.clientX-p.left,m=i.clientY-p.top,c=!0}return{x:f,y:m,box:c}}function yl(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Ym(e),o=r.boxSizing==="border-box",c=El(r,"padding"),f=El(r,"border","width"),{x:m,y:p,box:v}=K4(n,e),E=c.left+(v&&f.left),x=c.top+(v&&f.top);let{width:R,height:I}=t;return o&&(R-=c.width+f.width,I-=c.height+f.height),{x:Math.round((m-E)/R*e.width/i),y:Math.round((p-x)/I*e.height/i)}}function Y4(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&$y(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),f=Ym(o),m=El(f,"border","width"),p=El(f,"padding");t=c.width-p.width-m.width,e=c.height-p.height-m.height,i=wm(f.maxWidth,o,"clientWidth"),r=wm(f.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||bm,maxHeight:r||bm}}const vd=n=>Math.round(n*10)/10;function X4(n,t,e,i){const r=Ym(n),o=El(r,"margin"),c=wm(r.maxWidth,n,"clientWidth")||bm,f=wm(r.maxHeight,n,"clientHeight")||bm,m=Y4(n,t,e);let{width:p,height:v}=m;if(r.boxSizing==="content-box"){const x=El(r,"border","width"),R=El(r,"padding");p-=R.width+x.width,v-=R.height+x.height}return p=Math.max(0,p-o.width),v=Math.max(0,i?p/i:v-o.height),p=vd(Math.min(p,c,m.maxWidth)),v=vd(Math.min(v,f,m.maxHeight)),p&&!v&&(v=vd(p/2)),(t!==void 0||e!==void 0)&&i&&m.height&&v>m.height&&(v=m.height,p=vd(Math.floor(v*i))),{width:p,height:v}}function ew(n,t,e){const i=t||1,r=Math.floor(n.height*i),o=Math.floor(n.width*i);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==r||c.width!==o?(n.currentDevicePixelRatio=i,c.height=r,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Q4=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};Qy()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function nw(n,t){const e=G4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function vl(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function $4(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function J4(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=vl(n,r,e),f=vl(r,o,e),m=vl(o,t,e),p=vl(c,f,e),v=vl(f,m,e);return vl(p,v,e)}const tz=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},ez=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function zu(n,t,e){return n?tz(t,e):ez()}function lA(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function uA(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function cA(n){return n==="angle"?{between:Vh,compare:t4,normalize:io}:{between:co,compare:(t,e)=>t-e,normalize:t=>t}}function iw({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function nz(n,t,e){const{property:i,start:r,end:o}=e,{between:c,normalize:f}=cA(i),m=t.length;let{start:p,end:v,loop:E}=n,x,R;if(E){for(p+=m,v+=m,x=0,R=m;x<R&&c(f(t[p%m][i]),r,o);++x)p--,v--;p%=m,v%=m}return v<p&&(v+=m),{start:p,end:v,loop:E,style:n.style}}function iz(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,c=t.length,{compare:f,between:m,normalize:p}=cA(i),{start:v,end:E,loop:x,style:R}=nz(n,t,e),I=[];let O=!1,D=null,V,K,W;const ut=()=>m(r,W,V)&&f(r,W)!==0,et=()=>f(o,V)===0||m(o,W,V),_t=()=>O||ut(),B=()=>!O||et();for(let k=v,z=v;k<=E;++k)K=t[k%c],!K.skip&&(V=p(K[i]),V!==W&&(O=m(V,r,o),D===null&&_t()&&(D=f(V,r)===0?k:z),D!==null&&B()&&(I.push(iw({start:D,end:k,loop:x,count:c,style:R})),D=null),z=k,W=V));return D!==null&&I.push(iw({start:D,end:E,loop:x,count:c,style:R})),I}function sz(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=iz(i[r],n.points,t);o.length&&e.push(...o)}return e}function rz(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function az(n,t,e,i){const r=n.length,o=[];let c=t,f=n[t],m;for(m=t+1;m<=e;++m){const p=n[m%r];p.skip||p.stop?f.skip||(i=!1,o.push({start:t%r,end:(m-1)%r,loop:i}),t=c=p.stop?m:null):(c=m,f.skip&&(t=m)),f=p}return c!==null&&o.push({start:t%r,end:c%r,loop:i}),o}function oz(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:c,end:f}=rz(e,r,o,i);if(i===!0)return sw(n,[{start:c,end:f,loop:o}],e,t);const m=f<c?f+r:f,p=!!n._fullLoop&&c===0&&f===r-1;return sw(n,az(e,c,m,p),e,t)}function sw(n,t,e,i){return!i||!i.setContext||!e?t:lz(n,t,e,i)}function lz(n,t,e,i){const r=n._chart.getContext(),o=rw(n.options),{_datasetIndex:c,options:{spanGaps:f}}=n,m=e.length,p=[];let v=o,E=t[0].start,x=E;function R(I,O,D,V){const K=f?-1:1;if(I!==O){for(I+=m;e[I%m].skip;)I-=K;for(;e[O%m].skip;)O+=K;I%m!==O%m&&(p.push({start:I%m,end:O%m,loop:D,style:V}),v=V,E=O%m)}}for(const I of t){E=f?E:I.start;let O=e[E%m],D;for(x=E+1;x<=I.end;x++){const V=e[x%m];D=rw(i.setContext(Vl(r,{type:"segment",p0:O,p1:V,p0DataIndex:(x-1)%m,p1DataIndex:x%m,datasetIndex:c}))),uz(D,v)&&R(E,x-1,I.loop,v),O=V,v=D}E<x-1&&R(E,x-1,I.loop,v)}return p}function rw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function uz(n,t){if(!t)return!1;const e=[],i=function(r,o){return Fy(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function bd(n,t,e){return n.options.clip?n[e]:t[e]}function cz(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:bd(e,t,"left"),right:bd(e,t,"right"),top:bd(i,t,"top"),bottom:bd(i,t,"bottom")}:t}function hz(n,t){const e=t._clip;if(e.disabled)return!1;const i=cz(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.4.9
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class fz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],c=e.duration;o.forEach(f=>f({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Q1.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,f=!1,m;for(;c>=0;--c)m=o[c],m._active?(m._total>i.duration&&(i.duration=m._total),m.tick(t),f=!0):(o[c]=o[o.length-1],o.pop());f&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Zr=new fz;const aw="transparent",dz={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=YE(n||aw),r=i.valid&&YE(t||aw);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class mz{constructor(t,e,i,r){const o=e[i];r=_d([t.to,r,o,t.from]);const c=_d([t.from,o,r]);this._active=!0,this._fn=t.fn||dz[t.type||typeof c],this._easing=Eh[t.easing]||Eh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=_d([t.to,e,r,t.from]),this._from=_d([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,c=this._loop,f=this._to;let m;if(this._active=o!==f&&(c||e<i),!this._active){this._target[r]=f,this._notify(!0);return}if(e<0){this._target[r]=o;return}m=e/i%2,m=c&&m>1?2-m:m,m=this._easing(Math.min(1,Math.max(0,m))),this._target[r]=this._fn(o,f,m)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class hA{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!de(t))return;const e=Object.keys(sn.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!de(o))return;const c={};for(const f of e)c[f]=o[f];(In(o.properties)&&o.properties||[r]).forEach(f=>{(f===r||!i.has(f))&&i.set(f,c)})})}_animateOptions(t,e){const i=e.options,r=gz(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&pz(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),f=Date.now();let m;for(m=c.length-1;m>=0;--m){const p=c[m];if(p.charAt(0)==="$")continue;if(p==="options"){r.push(...this._animateOptions(t,e));continue}const v=e[p];let E=o[p];const x=i.get(p);if(E)if(x&&E.active()){E.update(x,v,f);continue}else E.cancel();if(!x||!x.duration){t[p]=v;continue}o[p]=E=new mz(x,t,p,v),r.push(E)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Zr.add(this._chart,i),!0}}function pz(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function gz(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function ow(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function _z(n,t,e){if(e===!1)return!1;const i=ow(n,e),r=ow(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function yz(n){let t,e,i,r;return de(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function fA(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function lw(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let c,f,m,p;if(t===null)return;let v=!1;for(c=0,f=r.length;c<f;++c){if(m=+r[c],m===e){if(v=!0,i.all)continue;break}p=n.values[m],fs(p)&&(o||t===0||fr(t)===fr(p))&&(t+=p)}return!v&&!i.all?0:t}function vz(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),f=new Array(c.length);let m,p,v;for(m=0,p=c.length;m<p;++m)v=c[m],f[m]={[r]:v,[o]:n[v]};return f}function Qg(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function bz(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Tz(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function Ez(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function uw(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function cw(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:f}=i,m=o.axis,p=c.axis,v=bz(o,c,i),E=t.length;let x;for(let R=0;R<E;++R){const I=t[R],{[m]:O,[p]:D}=I,V=I._stacks||(I._stacks={});x=V[p]=Ez(r,v,O),x[f]=D,x._top=uw(x,c,!0,i.type),x._bottom=uw(x,c,!1,i.type);const K=x._visualValues||(x._visualValues={});K[f]=D}}function $g(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function wz(n,t){return Vl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Sz(n,t,e){return Vl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Qc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Jg=n=>n==="reset"||n==="none",hw=(n,t)=>t?n:Object.assign({},n),xz=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:fA(e,!0),values:null};class wl{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Qg(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Qc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(E,x,R,I)=>E==="x"?x:E==="r"?I:R,o=e.xAxisID=se(i.xAxisID,$g(t,"x")),c=e.yAxisID=se(i.yAxisID,$g(t,"y")),f=e.rAxisID=se(i.rAxisID,$g(t,"r")),m=e.indexAxis,p=e.iAxisID=r(m,o,c,f),v=e.vAxisID=r(m,c,o,f);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(f),e.iScale=this.getScaleForId(p),e.vScale=this.getScaleForId(v)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ZE(this._data,this),t._stacked&&Qc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(de(e)){const r=this._cachedMeta;this._data=vz(e,r)}else if(i!==e){if(i){ZE(i,this);const r=this._cachedMeta;Qc(r),r._parsed=[]}e&&Object.isExtensible(e)&&s4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Qg(e.vScale,e),e.stack!==i.stack&&(r=!0,Qc(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(cw(this,e._parsed),e._stacked=Qg(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:c}=i,f=o.axis;let m=t===0&&e===r.length?!0:i._sorted,p=t>0&&i._parsed[t-1],v,E,x;if(this._parsing===!1)i._parsed=r,i._sorted=!0,x=r;else{In(r[t])?x=this.parseArrayData(i,r,t,e):de(r[t])?x=this.parseObjectData(i,r,t,e):x=this.parsePrimitiveData(i,r,t,e);const R=()=>E[f]===null||p&&E[f]<p[f];for(v=0;v<e;++v)i._parsed[v+t]=E=x[v],m&&(R()&&(m=!1),p=E);i._sorted=m}c&&cw(this,x)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:c}=t,f=o.axis,m=c.axis,p=o.getLabels(),v=o===c,E=new Array(r);let x,R,I;for(x=0,R=r;x<R;++x)I=x+i,E[x]={[f]:v||o.parse(p[I],I),[m]:c.parse(e[I],I)};return E}parseArrayData(t,e,i,r){const{xScale:o,yScale:c}=t,f=new Array(r);let m,p,v,E;for(m=0,p=r;m<p;++m)v=m+i,E=e[v],f[m]={x:o.parse(E[0],v),y:c.parse(E[1],v)};return f}parseObjectData(t,e,i,r){const{xScale:o,yScale:c}=t,{xAxisKey:f="x",yAxisKey:m="y"}=this._parsing,p=new Array(r);let v,E,x,R;for(v=0,E=r;v<E;++v)x=v+i,R=e[x],p[v]={x:o.parse(Ml(R,f),x),y:c.parse(Ml(R,m),x)};return p}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,c=e[t.axis],f={keys:fA(r,!0),values:e._stacks[t.axis]._visualValues};return lw(f,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let c=o===null?NaN:o;const f=r&&i._stacks[e.axis];r&&f&&(r.values=f,c=lw(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,c=r.length,f=this._getOtherScale(t),m=xz(e,i,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:v,max:E}=Tz(f);let x,R;function I(){R=r[x];const O=R[f.axis];return!fs(R[t.axis])||v>O||E<O}for(x=0;x<c&&!(!I()&&(this.updateRangeFromParsed(p,t,R,m),o));++x);if(o){for(x=c-1;x>=0;--x)if(!I()){this.updateRangeFromParsed(p,t,R,m);break}}return p}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,c;for(r=0,o=e.length;r<o;++r)c=e[r][t.axis],fs(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=yz(se(this.options.clip,_z(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,c=[],f=this._drawStart||0,m=this._drawCount||r.length-f,p=this.options.drawActiveElementsOnTop;let v;for(i.dataset&&i.dataset.draw(t,o,f,m),v=f;v<f+m;++v){const E=r[v];E.hidden||(E.active&&p?c.push(E):E.draw(t,o))}for(v=0;v<c.length;++v)c[v].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=Sz(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=wz(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,c=t+"-"+e,f=o[c],m=this.enableOptionSharing&&Nh(i);if(f)return hw(f,m);const p=this.chart.config,v=p.datasetElementScopeKeys(this._type,t),E=r?[`${t}Hover`,"hover",t,""]:[t,""],x=p.getOptionScopes(this.getDataset(),v),R=Object.keys(sn.elements[t]),I=()=>this.getContext(i,r,e),O=p.resolveNamedOptions(x,R,I,E);return O.$shared&&(O.$shared=m,o[c]=Object.freeze(hw(O,m))),O}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,f=o[c];if(f)return f;let m;if(r.options.animation!==!1){const v=this.chart.config,E=v.datasetAnimationScopeKeys(this._type,e),x=v.getOptionScopes(this.getDataset(),E);m=v.createResolver(x,this.getContext(t,i,e))}const p=new hA(r,m&&m.animations);return m&&m._cacheable&&(o[c]=Object.freeze(p)),p}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Jg(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,r){Jg(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Jg(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[f,m,p]of this._syncList)this[f](m,p);this._syncList=[];const r=i.length,o=e.length,c=Math.min(o,r);c&&this.parse(0,c),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,c=t+e;let f;const m=p=>{for(p.length+=e,f=p.length-1;f>=c;f--)p[f]=p[f-e]};for(m(o),f=t;f<c;++f)o[f]=new this.dataElementType;this._parsing&&m(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Qc(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Mt(wl,"defaults",{}),Mt(wl,"datasetElementType",null),Mt(wl,"dataElementType",null);function Az(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let r=0,o=e.length;r<o;r++)i=i.concat(e[r].controller.getAllParsedValues(n));n._cache.$bar=X1(i.sort((r,o)=>r-o))}return n._cache.$bar}function Rz(n){const t=n.iScale,e=Az(t,n.type);let i=t._length,r,o,c,f;const m=()=>{c===32767||c===-32768||(Nh(f)&&(i=Math.min(i,Math.abs(c-f)||i)),f=c)};for(r=0,o=e.length;r<o;++r)c=t.getPixelForValue(e[r]),m();for(f=void 0,r=0,o=t.ticks.length;r<o;++r)c=t.getPixelForTick(r),m();return i}function Cz(n,t,e,i){const r=e.barThickness;let o,c;return ve(r)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=r*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function Iz(n,t,e,i){const r=t.pixels,o=r[n];let c=n>0?r[n-1]:null,f=n<r.length-1?r[n+1]:null;const m=e.categoryPercentage;c===null&&(c=o-(f===null?t.end-t.start:f-o)),f===null&&(f=o+o-c);const p=o-(o-Math.min(c,f))/2*m;return{chunk:Math.abs(f-c)/2*m/i,ratio:e.barPercentage,start:p}}function Mz(n,t,e,i){const r=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(r,o),f=Math.max(r,o);let m=c,p=f;Math.abs(c)>Math.abs(f)&&(m=f,p=c),t[e.axis]=p,t._custom={barStart:m,barEnd:p,start:r,end:o,min:c,max:f}}function dA(n,t,e,i){return In(n)?Mz(n,t,e,i):t[e.axis]=e.parse(n,i),t}function fw(n,t,e,i){const r=n.iScale,o=n.vScale,c=r.getLabels(),f=r===o,m=[];let p,v,E,x;for(p=e,v=e+i;p<v;++p)x=t[p],E={},E[r.axis]=f||r.parse(c[p],p),m.push(dA(x,E,o,p));return m}function t_(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function Pz(n,t,e){return n!==0?fr(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function Oz(n){let t,e,i,r,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:e,end:i,reverse:t,top:r,bottom:o}}function Dz(n,t,e,i){let r=t.borderSkipped;const o={};if(!r){n.borderSkipped=o;return}if(r===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:f,reverse:m,top:p,bottom:v}=Oz(n);r==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?r=p:(e._bottom||0)===i?r=v:(o[dw(v,c,f,m)]=!0,r=p)),o[dw(r,c,f,m)]=!0,n.borderSkipped=o}function dw(n,t,e,i){return i?(n=kz(n,t,e),n=mw(n,e,t)):n=mw(n,t,e),n}function kz(n,t,e){return n===t?e:n===e?t:n}function mw(n,t,e){return n==="start"?t:n==="end"?e:n}function Lz(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class Ud extends wl{parsePrimitiveData(t,e,i,r){return fw(t,e,i,r)}parseArrayData(t,e,i,r){return fw(t,e,i,r)}parseObjectData(t,e,i,r){const{iScale:o,vScale:c}=t,{xAxisKey:f="x",yAxisKey:m="y"}=this._parsing,p=o.axis==="x"?f:m,v=c.axis==="x"?f:m,E=[];let x,R,I,O;for(x=i,R=i+r;x<R;++x)O=e[x],I={},I[o.axis]=o.parse(Ml(O,p),x),E.push(dA(Ml(O,v),I,c,x));return E}updateRangeFromParsed(t,e,i,r){super.updateRangeFromParsed(t,e,i,r);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:r}=e,o=this.getParsed(t),c=o._custom,f=t_(c)?"["+c.start+", "+c.end+"]":""+r.getLabelForValue(o[r.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:f}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,r){const o=r==="reset",{index:c,_cachedMeta:{vScale:f}}=this,m=f.getBasePixel(),p=f.isHorizontal(),v=this._getRuler(),{sharedOptions:E,includeOptions:x}=this._getSharedOptions(e,r);for(let R=e;R<e+i;R++){const I=this.getParsed(R),O=o||ve(I[f.axis])?{base:m,head:m}:this._calculateBarValuePixels(R),D=this._calculateBarIndexPixels(R,v),V=(I._stacks||{})[f.axis],K={horizontal:p,base:O.base,enableBorderRadius:!V||t_(I._custom)||c===V._top||c===V._bottom,x:p?O.head:D.center,y:p?D.center:O.head,height:p?D.size:Math.abs(O.size),width:p?Math.abs(O.size):D.size};x&&(K.options=E||this.resolveDataElementOptions(R,t[R].active?"active":r));const W=K.options||t[R].options;Dz(K,W,V,c),Lz(K,W,v.ratio),this.updateElement(t[R],R,K,r)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(v=>v.controller.options.grouped),o=i.options.stacked,c=[],f=this._cachedMeta.controller.getParsed(e),m=f&&f[i.axis],p=v=>{const E=v._parsed.find(R=>R[i.axis]===m),x=E&&E[v.vScale.axis];if(ve(x)||isNaN(x))return!0};for(const v of r)if(!(e!==void 0&&p(v))&&((o===!1||c.indexOf(v.stack)===-1||o===void 0&&v.stack===void 0)&&c.push(v.stack),v.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,i){const r=this._getStacks(t,i),o=e!==void 0?r.indexOf(e):-1;return o===-1?r.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,r=[];let o,c;for(o=0,c=e.data.length;o<c;++o)r.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const f=t.barThickness;return{min:f||Rz(e),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:f?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:r},options:{base:o,minBarLength:c}}=this,f=o||0,m=this.getParsed(t),p=m._custom,v=t_(p);let E=m[e.axis],x=0,R=i?this.applyStack(e,m,i):E,I,O;R!==E&&(x=R-E,R=E),v&&(E=p.barStart,R=p.barEnd-p.barStart,E!==0&&fr(E)!==fr(p.barEnd)&&(x=0),x+=E);const D=!ve(o)&&!v?o:x;let V=e.getPixelForValue(D);if(this.chart.getDataVisibility(t)?I=e.getPixelForValue(x+R):I=V,O=I-V,Math.abs(O)<c){O=Pz(O,e,f)*c,E===f&&(V-=O/2);const K=e.getPixelForDecimal(0),W=e.getPixelForDecimal(1),ut=Math.min(K,W),et=Math.max(K,W);V=Math.max(Math.min(V,et),ut),I=V+O,i&&!v&&(m._stacks[e.axis]._visualValues[r]=e.getValueForPixel(I)-e.getValueForPixel(V))}if(V===e.getPixelForValue(f)){const K=fr(O)*e.getLineWidthForValue(f)/2;V+=K,O-=K}return{size:O,base:V,head:I,center:I+O/2}}_calculateBarIndexPixels(t,e){const i=e.scale,r=this.options,o=r.skipNull,c=se(r.maxBarThickness,1/0);let f,m;if(e.grouped){const p=o?this._getStackCount(t):e.stackCount,v=r.barThickness==="flex"?Iz(t,e,r,p):Cz(t,e,r,p),E=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);f=v.start+v.chunk*E+v.chunk/2,m=Math.min(c,v.chunk*v.ratio)}else f=i.getPixelForValue(this.getParsed(t)[i.axis],t),m=Math.min(c,e.min*e.ratio);return{base:f-m/2,head:f+m/2,center:f,size:m}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,r=i.length;let o=0;for(;o<r;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}Mt(Ud,"id","bar"),Mt(Ud,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Mt(Ud,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function Nz(n,t,e){let i=1,r=1,o=0,c=0;if(t<Qe){const f=n,m=f+t,p=Math.cos(f),v=Math.sin(f),E=Math.cos(m),x=Math.sin(m),R=(W,ut,et)=>Vh(W,f,m,!0)?1:Math.max(ut,ut*e,et,et*e),I=(W,ut,et)=>Vh(W,f,m,!0)?-1:Math.min(ut,ut*e,et,et*e),O=R(0,p,E),D=R(gn,v,x),V=I(cn,p,E),K=I(cn+gn,v,x);i=(O-V)/2,r=(D-K)/2,o=-(O+V)/2,c=-(D+K)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:c}}class uh extends wl{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let o=m=>+i[m];if(de(i[t])){const{key:m="value"}=this._parsing;o=p=>+Ml(i[p],m)}let c,f;for(c=t,f=t+e;c<f;++c)r._parsed[c]=o(c)}}_getRotation(){return Qr(this.options.rotation-90)}_getCircumference(){return Qr(this.options.circumference)}_getRotationExtents(){let t=Qe,e=-Qe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,o=r._getRotation(),c=r._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,r=this._cachedMeta,o=r.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,f=Math.max((Math.min(i.width,i.height)-c)/2,0),m=Math.min(jN(this.options.cutout,f),1),p=this._getRingWeight(this.index),{circumference:v,rotation:E}=this._getRotationExtents(),{ratioX:x,ratioY:R,offsetX:I,offsetY:O}=Nz(E,v,m),D=(i.width-c)/x,V=(i.height-c)/R,K=Math.max(Math.min(D,V)/2,0),W=G1(this.options.radius,K),ut=Math.max(W*m,0),et=(W-ut)/this._getVisibleDatasetWeightTotal();this.offsetX=I*W,this.offsetY=O*W,r.total=this.calculateTotal(),this.outerRadius=W-et*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-et*p,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,r=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||r._parsed[t]===null||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*o/Qe)}updateElements(t,e,i,r){const o=r==="reset",c=this.chart,f=c.chartArea,p=c.options.animation,v=(f.left+f.right)/2,E=(f.top+f.bottom)/2,x=o&&p.animateScale,R=x?0:this.innerRadius,I=x?0:this.outerRadius,{sharedOptions:O,includeOptions:D}=this._getSharedOptions(e,r);let V=this._getRotation(),K;for(K=0;K<e;++K)V+=this._circumference(K,o);for(K=e;K<e+i;++K){const W=this._circumference(K,o),ut=t[K],et={x:v+this.offsetX,y:E+this.offsetY,startAngle:V,endAngle:V+W,circumference:W,outerRadius:I,innerRadius:R};D&&(et.options=O||this.resolveDataElementOptions(K,ut.active?"active":r)),V+=W,this.updateElement(ut,K,et,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,r;for(r=0;r<e.length;r++){const o=t._parsed[r];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(r)&&!e[r].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Qe*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,r=i.data.labels||[],o=qy(e._parsed[t],i.options.locale);return{label:r[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let r,o,c,f,m;if(!t){for(r=0,o=i.data.datasets.length;r<o;++r)if(i.isDatasetVisible(r)){c=i.getDatasetMeta(r),t=c.data,f=c.controller;break}}if(!t)return 0;for(r=0,o=t.length;r<o;++r)m=f.resolveDataElementOptions(r),m.borderAlign!=="inner"&&(e=Math.max(e,m.borderWidth||0,m.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,r=t.length;i<r;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(se(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Mt(uh,"id","doughnut"),Mt(uh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Mt(uh,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Mt(uh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:r}}=t.legend.options;return e.labels.map((o,c)=>{const m=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:m.backgroundColor,strokeStyle:m.borderColor,fontColor:r,lineWidth:m.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class jd extends wl{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:f,count:m}=o4(e,r,c);this._drawStart=f,this._drawCount=m,l4(e)&&(f=0,m=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const p=this.resolveDatasetElementOptions(t);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:p},t),this.updateElements(r,f,m,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:c,vScale:f,_stacked:m,_dataset:p}=this._cachedMeta,{sharedOptions:v,includeOptions:E}=this._getSharedOptions(e,r),x=c.axis,R=f.axis,{spanGaps:I,segment:O}=this.options,D=zh(I)?I:Number.POSITIVE_INFINITY,V=this.chart._animationsDisabled||o||r==="none",K=e+i,W=t.length;let ut=e>0&&this.getParsed(e-1);for(let et=0;et<W;++et){const _t=t[et],B=V?_t:{};if(et<e||et>=K){B.skip=!0;continue}const k=this.getParsed(et),z=ve(k[R]),H=B[x]=c.getPixelForValue(k[x],et),F=B[R]=o||z?f.getBasePixel():f.getPixelForValue(m?this.applyStack(f,k,m):k[R],et);B.skip=isNaN(H)||isNaN(F)||z,B.stop=et>0&&Math.abs(k[x]-ut[x])>D,O&&(B.parsed=k,B.raw=p.data[et]),E&&(B.options=v||this.resolveDataElementOptions(et,_t.active?"active":r)),V||this.updateElement(_t,et,B,r),ut=k}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),c=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Mt(jd,"id","line"),Mt(jd,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Mt(jd,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class z_ extends uh{}Mt(z_,"id","pie"),Mt(z_,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function gl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Jy{constructor(t){Mt(this,"options");this.options=t||{}}static override(t){Object.assign(Jy.prototype,t)}init(){}formats(){return gl()}parse(){return gl()}format(){return gl()}add(){return gl()}diff(){return gl()}startOf(){return gl()}endOf(){return gl()}}var zz={_date:Jy};function Vz(n,t,e,i){const{controller:r,data:o,_sorted:c}=n,f=r._cachedMeta.iScale,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(f&&t===f.axis&&t!=="r"&&c&&o.length){const p=f._reversePixels?n4:Tl;if(i){if(r._sharedOptions){const v=o[0],E=typeof v.getRange=="function"&&v.getRange(t);if(E){const x=p(o,t,e-E),R=p(o,t,e+E);return{lo:x.lo,hi:R.hi}}}}else{const v=p(o,t,e);if(m){const{vScale:E}=r._cachedMeta,{_parsed:x}=n,R=x.slice(0,v.lo+1).reverse().findIndex(O=>!ve(O[E.axis]));v.lo-=Math.max(0,R);const I=x.slice(v.hi).findIndex(O=>!ve(O[E.axis]));v.hi+=Math.max(0,I)}return v}}return{lo:0,hi:o.length-1}}function Xm(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let f=0,m=o.length;f<m;++f){const{index:p,data:v}=o[f],{lo:E,hi:x}=Vz(o[f],t,c,r);for(let R=E;R<=x;++R){const I=v[R];I.skip||i(I,p,R)}}}function Bz(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,c=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function e_(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Xm(n,e,t,function(f,m,p){!r&&!Bh(f,n.chartArea,0)||f.inRange(t.x,t.y,i)&&o.push({element:f,datasetIndex:m,index:p})},!0),o}function Uz(n,t,e,i){let r=[];function o(c,f,m){const{startAngle:p,endAngle:v}=c.getProps(["startAngle","endAngle"],i),{angle:E}=K1(c,{x:t.x,y:t.y});Vh(E,p,v)&&r.push({element:c,datasetIndex:f,index:m})}return Xm(n,e,t,o),r}function jz(n,t,e,i,r,o){let c=[];const f=Bz(e);let m=Number.POSITIVE_INFINITY;function p(v,E,x){const R=v.inRange(t.x,t.y,r);if(i&&!R)return;const I=v.getCenterPoint(r);if(!(!!o||n.isPointInArea(I))&&!R)return;const D=f(t,I);D<m?(c=[{element:v,datasetIndex:E,index:x}],m=D):D===m&&c.push({element:v,datasetIndex:E,index:x})}return Xm(n,e,t,p),c}function n_(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?Uz(n,t,e,r):jz(n,t,e,i,r,o)}function pw(n,t,e,i,r){const o=[],c=e==="x"?"inXRange":"inYRange";let f=!1;return Xm(n,e,t,(m,p,v)=>{m[c]&&m[c](t[e],r)&&(o.push({element:m,datasetIndex:p,index:v}),f=f||m.inRange(t.x,t.y,r))}),i&&!f?[]:o}var Hz={modes:{index(n,t,e,i){const r=yl(t,n),o=e.axis||"x",c=e.includeInvisible||!1,f=e.intersect?e_(n,r,o,i,c):n_(n,r,o,!1,i,c),m=[];return f.length?(n.getSortedVisibleDatasetMetas().forEach(p=>{const v=f[0].index,E=p.data[v];E&&!E.skip&&m.push({element:E,datasetIndex:p.index,index:v})}),m):[]},dataset(n,t,e,i){const r=yl(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let f=e.intersect?e_(n,r,o,i,c):n_(n,r,o,!1,i,c);if(f.length>0){const m=f[0].datasetIndex,p=n.getDatasetMeta(m).data;f=[];for(let v=0;v<p.length;++v)f.push({element:p[v],datasetIndex:m,index:v})}return f},point(n,t,e,i){const r=yl(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return e_(n,r,o,i,c)},nearest(n,t,e,i){const r=yl(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return n_(n,r,o,e.intersect,i,c)},x(n,t,e,i){const r=yl(t,n);return pw(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=yl(t,n);return pw(n,r,"y",e.intersect,i)}}};const mA=["left","top","right","bottom"];function $c(n,t){return n.filter(e=>e.pos===t)}function gw(n,t){return n.filter(e=>mA.indexOf(e.pos)===-1&&e.box.axis===t)}function Jc(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function Fz(n){const t=[];let e,i,r,o,c,f;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:c,stackWeight:f=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:c&&o+c,stackWeight:f});return t}function qz(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!mA.includes(r))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function Gz(n,t){const e=qz(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,c,f;for(o=0,c=n.length;o<c;++o){f=n[o];const{fullSize:m}=f.box,p=e[f.stack],v=p&&f.stackWeight/p.weight;f.horizontal?(f.width=v?v*i:m&&t.availableWidth,f.height=r):(f.width=i,f.height=v?v*r:m&&t.availableHeight)}return e}function Zz(n){const t=Fz(n),e=Jc(t.filter(p=>p.box.fullSize),!0),i=Jc($c(t,"left"),!0),r=Jc($c(t,"right")),o=Jc($c(t,"top"),!0),c=Jc($c(t,"bottom")),f=gw(t,"x"),m=gw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(m).concat(c).concat(f),chartArea:$c(t,"chartArea"),vertical:i.concat(r).concat(m),horizontal:o.concat(c).concat(f)}}function _w(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function pA(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function Wz(n,t,e,i){const{pos:r,box:o}=e,c=n.maxPadding;if(!de(r)){e.size&&(n[r]-=e.size);const E=i[e.stack]||{size:0,count:1};E.size=Math.max(E.size,e.horizontal?o.height:o.width),e.size=E.size/E.count,n[r]+=e.size}o.getPadding&&pA(c,o.getPadding());const f=Math.max(0,t.outerWidth-_w(c,n,"left","right")),m=Math.max(0,t.outerHeight-_w(c,n,"top","bottom")),p=f!==n.w,v=m!==n.h;return n.w=f,n.h=m,e.horizontal?{same:p,other:v}:{same:v,other:p}}function Kz(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function Yz(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function ch(n,t,e,i){const r=[];let o,c,f,m,p,v;for(o=0,c=n.length,p=0;o<c;++o){f=n[o],m=f.box,m.update(f.width||t.w,f.height||t.h,Yz(f.horizontal,t));const{same:E,other:x}=Wz(t,e,f,i);p|=E&&r.length,v=v||x,m.fullSize||r.push(f)}return p&&ch(r,t,e,i)||v}function Td(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function yw(n,t,e,i){const r=e.padding;let{x:o,y:c}=t;for(const f of n){const m=f.box,p=i[f.stack]||{placed:0,weight:1},v=f.stackWeight/p.weight||1;if(f.horizontal){const E=t.w*v,x=p.size||m.height;Nh(p.start)&&(c=p.start),m.fullSize?Td(m,r.left,c,e.outerWidth-r.right-r.left,x):Td(m,t.left+p.placed,c,E,x),p.start=c,p.placed+=E,c=m.bottom}else{const E=t.h*v,x=p.size||m.width;Nh(p.start)&&(o=p.start),m.fullSize?Td(m,o,r.top,x,e.outerHeight-r.bottom-r.top):Td(m,o,t.top+p.placed,x,E),p.start=o,p.placed+=E,o=m.right}}t.x=o,t.y=c}var ho={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=zs(n.options.layout.padding),o=Math.max(t-r.width,0),c=Math.max(e-r.height,0),f=Zz(n.boxes),m=f.vertical,p=f.horizontal;Se(n.boxes,O=>{typeof O.beforeLayout=="function"&&O.beforeLayout()});const v=m.reduce((O,D)=>D.box.options&&D.box.options.display===!1?O:O+1,0)||1,E=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/v,hBoxMaxHeight:c/2}),x=Object.assign({},r);pA(x,zs(i));const R=Object.assign({maxPadding:x,w:o,h:c,x:r.left,y:r.top},r),I=Gz(m.concat(p),E);ch(f.fullSize,R,E,I),ch(m,R,E,I),ch(p,R,E,I)&&ch(m,R,E,I),Kz(R),yw(f.leftAndTop,R,E,I),R.x+=R.w,R.y+=R.h,yw(f.rightAndBottom,R,E,I),n.chartArea={left:R.left,top:R.top,right:R.left+R.w,bottom:R.top+R.h,height:R.h,width:R.w},Se(f.chartArea,O=>{const D=O.box;Object.assign(D,n.chartArea),D.update(R.w,R.h,{left:0,top:0,right:0,bottom:0})})}};class gA{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class Xz extends gA{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Hd="$chartjs",Qz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},vw=n=>n===null||n==="";function $z(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Hd]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",vw(r)){const o=nw(n,"width");o!==void 0&&(n.width=o)}if(vw(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=nw(n,"height");o!==void 0&&(n.height=o)}return n}const _A=Q4?{passive:!0}:!1;function Jz(n,t,e){n&&n.addEventListener(t,e,_A)}function tV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,_A)}function eV(n,t){const e=Qz[n.type]||n.type,{x:i,y:r}=yl(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Sm(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function nV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const f of o)c=c||Sm(f.addedNodes,i),c=c&&!Sm(f.removedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function iV(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let c=!1;for(const f of o)c=c||Sm(f.removedNodes,i),c=c&&!Sm(f.addedNodes,i);c&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Uh=new Map;let bw=0;function yA(){const n=window.devicePixelRatio;n!==bw&&(bw=n,Uh.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function sV(n,t){Uh.size||window.addEventListener("resize",yA),Uh.set(n,t)}function rV(n){Uh.delete(n),Uh.size||window.removeEventListener("resize",yA)}function aV(n,t,e){const i=n.canvas,r=i&&$y(i);if(!r)return;const o=$1((f,m)=>{const p=r.clientWidth;e(f,m),p<r.clientWidth&&e()},window),c=new ResizeObserver(f=>{const m=f[0],p=m.contentRect.width,v=m.contentRect.height;p===0&&v===0||o(p,v)});return c.observe(r),sV(n,o),c}function i_(n,t,e){e&&e.disconnect(),t==="resize"&&rV(n)}function oV(n,t,e){const i=n.canvas,r=$1(o=>{n.ctx!==null&&e(eV(o,n))},n);return Jz(i,t,r),r}class lV extends gA{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?($z(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Hd])return!1;const i=e[Hd].initial;["height","width"].forEach(o=>{const c=i[o];ve(c)?e.removeAttribute(o):e.setAttribute(o,c)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Hd],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),c={attach:nV,detach:iV,resize:aV}[e]||oV;r[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:i_,detach:i_,resize:i_}[e]||tV)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return X4(t,e,i,r)}isAttached(t){const e=t&&$y(t);return!!(e&&e.isConnected)}}function uV(n){return!Qy()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?Xz:lV}var Rd;let Po=(Rd=class{constructor(){Mt(this,"x");Mt(this,"y");Mt(this,"active",!1);Mt(this,"options");Mt(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return zh(this.x)&&zh(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}},Mt(Rd,"defaults",{}),Mt(Rd,"defaultRoutes"),Rd);function cV(n,t){const e=n.options.ticks,i=hV(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?dV(t):[],c=o.length,f=o[0],m=o[c-1],p=[];if(c>r)return mV(t,p,o,c/r),p;const v=fV(o,t,r);if(c>0){let E,x;const R=c>1?Math.round((m-f)/(c-1)):null;for(Ed(t,p,v,ve(R)?0:f-R,f),E=0,x=c-1;E<x;E++)Ed(t,p,v,o[E],o[E+1]);return Ed(t,p,v,m,ve(R)?t.length:m+R),p}return Ed(t,p,v),p}function hV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function fV(n,t,e){const i=pV(n),r=t.length/e;if(!i)return Math.max(r,1);const o=YN(i);for(let c=0,f=o.length-1;c<f;c++){const m=o[c];if(m>r)return m}return Math.max(r,1)}function dV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function mV(n,t,e,i){let r=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),r++,o=e[r*i])}function Ed(n,t,e,i,r){const o=se(i,0),c=Math.min(se(r,n.length),n.length);let f=0,m,p,v;for(e=Math.ceil(e),r&&(m=r-i,e=m/Math.floor(m/e)),v=o;v<0;)f++,v=Math.round(o+f*e);for(p=Math.max(o,0);p<c;p++)p===v&&(t.push(n[p]),f++,v=Math.round(o+f*e))}function pV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const gV=n=>n==="left"?"right":n==="right"?"left":n,Tw=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Ew=(n,t)=>Math.min(t||n,n);function ww(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function _V(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,f=1e-6;let m=n.getPixelForTick(r),p;if(!(e&&(i===1?p=Math.max(m-o,c-m):t===0?p=(n.getPixelForTick(1)-m)/2:p=(m-n.getPixelForTick(r-1))/2,m+=r<t?p:-p,m<o-f||m>c+f)))return m}function yV(n,t){Se(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function th(n){return n.drawTicks?n.tickLength:0}function Sw(n,t){if(!n.display)return 0;const e=_i(n.font,t),i=zs(n.padding);return(In(n.text)?n.text.length:1)*e.lineHeight+i.height}function vV(n,t){return Vl(n,{scale:t,type:"scale"})}function bV(n,t,e){return Vl(n,{tick:e,index:t,type:"tick"})}function TV(n,t,e){let i=J1(n);return(e&&t!=="right"||!e&&t==="right")&&(i=gV(i)),i}function EV(n,t,e,i){const{top:r,left:o,bottom:c,right:f,chart:m}=n,{chartArea:p,scales:v}=m;let E=0,x,R,I;const O=c-r,D=f-o;if(n.isHorizontal()){if(R=Ui(i,o,f),de(e)){const V=Object.keys(e)[0],K=e[V];I=v[V].getPixelForValue(K)+O-t}else e==="center"?I=(p.bottom+p.top)/2+O-t:I=Tw(n,e,t);x=f-o}else{if(de(e)){const V=Object.keys(e)[0],K=e[V];R=v[V].getPixelForValue(K)-D+t}else e==="center"?R=(p.left+p.right)/2-D+t:R=Tw(n,e,t);I=Ui(i,c,r),E=e==="left"?-gn:gn}return{titleX:R,titleY:I,maxWidth:x,rotation:E}}class sc extends Po{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ir(t,Number.POSITIVE_INFINITY),e=ir(e,Number.NEGATIVE_INFINITY),i=ir(i,Number.POSITIVE_INFINITY),r=ir(r,Number.NEGATIVE_INFINITY),{min:ir(t,i),max:ir(e,r),minDefined:fs(t),maxDefined:fs(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),c;if(r&&o)return{min:e,max:i};const f=this.getMatchingVisibleMetas();for(let m=0,p=f.length;m<p;++m)c=f[m].controller.getMinMax(this,t),r||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:ir(e,ir(i,e)),max:ir(i,ir(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Be(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:c}=this.options,f=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=C4(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const m=f<this.ticks.length;this._convertTicksToLabels(m?ww(this.ticks,f):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=cV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),m&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Be(this.options.afterUpdate,[this])}beforeSetDimensions(){Be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Be(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Be(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=Be(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Ew(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let c=r,f,m,p;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const v=this._getLabelSizes(),E=v.widest.width,x=v.highest.height,R=Qn(this.chart.width-E,0,this.maxWidth);f=t.offset?this.maxWidth/i:R/(i-1),E+6>f&&(f=R/(i-(t.offset?.5:1)),m=this.maxHeight-th(t.grid)-e.padding-Sw(t.title,this.chart.options.font),p=Math.sqrt(E*E+x*x),c=JN(Math.min(Math.asin(Qn((v.highest.height+6)/f,-1,1)),Math.asin(Qn(m/p,-1,1))-Math.asin(Qn(x/p,-1,1)))),c=Math.max(r,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){Be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Be(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,c=this._isVisible(),f=this.isHorizontal();if(c){const m=Sw(r,e.options.font);if(f?(t.width=this.maxWidth,t.height=th(o)+m):(t.height=this.maxHeight,t.width=th(o)+m),i.display&&this.ticks.length){const{first:p,last:v,widest:E,highest:x}=this._getLabelSizes(),R=i.padding*2,I=Qr(this.labelRotation),O=Math.cos(I),D=Math.sin(I);if(f){const V=i.mirror?0:D*E.width+O*x.height;t.height=Math.min(this.maxHeight,t.height+V+R)}else{const V=i.mirror?0:O*E.width+D*x.height;t.width=Math.min(this.maxWidth,t.width+V+R)}this._calculatePadding(p,v,D,O)}}this._handleMargins(),f?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:c},position:f}=this.options,m=this.labelRotation!==0,p=f!=="top"&&this.axis==="x";if(this.isHorizontal()){const v=this.getPixelForTick(0)-this.left,E=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,R=0;m?p?(x=r*t.width,R=i*e.height):(x=i*t.height,R=r*e.width):o==="start"?R=e.width:o==="end"?x=t.width:o!=="inner"&&(x=t.width/2,R=e.width/2),this.paddingLeft=Math.max((x-v+c)*this.width/(this.width-v),0),this.paddingRight=Math.max((R-E+c)*this.width/(this.width-E),0)}else{let v=e.height/2,E=t.height/2;o==="start"?(v=0,E=t.height):o==="end"&&(v=e.height,E=0),this.paddingTop=v+c,this.paddingBottom=E+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Be(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ve(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=ww(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,c=[],f=[],m=Math.floor(e/Ew(e,i));let p=0,v=0,E,x,R,I,O,D,V,K,W,ut,et;for(E=0;E<e;E+=m){if(I=t[E].label,O=this._resolveTickFontOptions(E),r.font=D=O.string,V=o[D]=o[D]||{data:{},gc:[]},K=O.lineHeight,W=ut=0,!ve(I)&&!In(I))W=QE(r,V.data,V.gc,W,I),ut=K;else if(In(I))for(x=0,R=I.length;x<R;++x)et=I[x],!ve(et)&&!In(et)&&(W=QE(r,V.data,V.gc,W,et),ut+=K);c.push(W),f.push(ut),p=Math.max(W,p),v=Math.max(ut,v)}yV(o,e);const _t=c.indexOf(p),B=f.indexOf(v),k=z=>({width:c[z]||0,height:f[z]||0});return{first:k(0),last:k(e-1),widest:k(_t),highest:k(B),widths:c,heights:f}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return e4(this._alignToPixels?pl(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=bV(this.getContext(),t,i))}return this.$context||(this.$context=vV(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Qr(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,f=o?o.widest.width+c:0,m=o?o.highest.height+c:0;return this.isHorizontal()?m*i>f*r?f/i:m/r:m*r<f*i?m/i:f/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:c,border:f}=r,m=o.offset,p=this.isHorizontal(),E=this.ticks.length+(m?1:0),x=th(o),R=[],I=f.setContext(this.getContext()),O=I.display?I.width:0,D=O/2,V=function(it){return pl(i,it,O)};let K,W,ut,et,_t,B,k,z,H,F,Z,j;if(c==="top")K=V(this.bottom),B=this.bottom-x,z=K-D,F=V(t.top)+D,j=t.bottom;else if(c==="bottom")K=V(this.top),F=t.top,j=V(t.bottom)-D,B=K+D,z=this.top+x;else if(c==="left")K=V(this.right),_t=this.right-x,k=K-D,H=V(t.left)+D,Z=t.right;else if(c==="right")K=V(this.left),H=t.left,Z=V(t.right)-D,_t=K+D,k=this.left+x;else if(e==="x"){if(c==="center")K=V((t.top+t.bottom)/2+.5);else if(de(c)){const it=Object.keys(c)[0],vt=c[it];K=V(this.chart.scales[it].getPixelForValue(vt))}F=t.top,j=t.bottom,B=K+D,z=B+x}else if(e==="y"){if(c==="center")K=V((t.left+t.right)/2);else if(de(c)){const it=Object.keys(c)[0],vt=c[it];K=V(this.chart.scales[it].getPixelForValue(vt))}_t=K-D,k=_t-x,H=t.left,Z=t.right}const Yt=se(r.ticks.maxTicksLimit,E),Lt=Math.max(1,Math.ceil(E/Yt));for(W=0;W<E;W+=Lt){const it=this.getContext(W),vt=o.setContext(it),pt=f.setContext(it),Vt=vt.lineWidth,U=vt.color,ct=pt.dash||[],bt=pt.dashOffset,gt=vt.tickWidth,St=vt.tickColor,At=vt.tickBorderDash||[],Et=vt.tickBorderDashOffset;ut=_V(this,W,m),ut!==void 0&&(et=pl(i,ut,Vt),p?_t=k=H=Z=et:B=z=F=j=et,R.push({tx1:_t,ty1:B,tx2:k,ty2:z,x1:H,y1:F,x2:Z,y2:j,width:Vt,color:U,borderDash:ct,borderDashOffset:bt,tickWidth:gt,tickColor:St,tickBorderDash:At,tickBorderDashOffset:Et}))}return this._ticksLength=E,this._borderValue=K,R}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,c=this.isHorizontal(),f=this.ticks,{align:m,crossAlign:p,padding:v,mirror:E}=o,x=th(i.grid),R=x+v,I=E?-v:R,O=-Qr(this.labelRotation),D=[];let V,K,W,ut,et,_t,B,k,z,H,F,Z,j="middle";if(r==="top")_t=this.bottom-I,B=this._getXAxisLabelAlignment();else if(r==="bottom")_t=this.top+I,B=this._getXAxisLabelAlignment();else if(r==="left"){const Lt=this._getYAxisLabelAlignment(x);B=Lt.textAlign,et=Lt.x}else if(r==="right"){const Lt=this._getYAxisLabelAlignment(x);B=Lt.textAlign,et=Lt.x}else if(e==="x"){if(r==="center")_t=(t.top+t.bottom)/2+R;else if(de(r)){const Lt=Object.keys(r)[0],it=r[Lt];_t=this.chart.scales[Lt].getPixelForValue(it)+R}B=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")et=(t.left+t.right)/2-R;else if(de(r)){const Lt=Object.keys(r)[0],it=r[Lt];et=this.chart.scales[Lt].getPixelForValue(it)}B=this._getYAxisLabelAlignment(x).textAlign}e==="y"&&(m==="start"?j="top":m==="end"&&(j="bottom"));const Yt=this._getLabelSizes();for(V=0,K=f.length;V<K;++V){W=f[V],ut=W.label;const Lt=o.setContext(this.getContext(V));k=this.getPixelForTick(V)+o.labelOffset,z=this._resolveTickFontOptions(V),H=z.lineHeight,F=In(ut)?ut.length:1;const it=F/2,vt=Lt.color,pt=Lt.textStrokeColor,Vt=Lt.textStrokeWidth;let U=B;c?(et=k,B==="inner"&&(V===K-1?U=this.options.reverse?"left":"right":V===0?U=this.options.reverse?"right":"left":U="center"),r==="top"?p==="near"||O!==0?Z=-F*H+H/2:p==="center"?Z=-Yt.highest.height/2-it*H+H:Z=-Yt.highest.height+H/2:p==="near"||O!==0?Z=H/2:p==="center"?Z=Yt.highest.height/2-it*H:Z=Yt.highest.height-F*H,E&&(Z*=-1),O!==0&&!Lt.showLabelBackdrop&&(et+=H/2*Math.sin(O))):(_t=k,Z=(1-F)*H/2);let ct;if(Lt.showLabelBackdrop){const bt=zs(Lt.backdropPadding),gt=Yt.heights[V],St=Yt.widths[V];let At=Z-bt.top,Et=0-bt.left;switch(j){case"middle":At-=gt/2;break;case"bottom":At-=gt;break}switch(B){case"center":Et-=St/2;break;case"right":Et-=St;break;case"inner":V===K-1?Et-=St:V>0&&(Et-=St/2);break}ct={left:Et,top:At,width:St+bt.width,height:gt+bt.height,color:Lt.backdropColor}}D.push({label:ut,font:z,textOffset:Z,options:{rotation:O,color:vt,strokeColor:pt,strokeWidth:Vt,textAlign:U,textBaseline:j,translation:[et,_t],backdrop:ct}})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Qr(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,c=this._getLabelSizes(),f=t+o,m=c.widest.width;let p,v;return e==="left"?r?(v=this.right+o,i==="near"?p="left":i==="center"?(p="center",v+=m/2):(p="right",v+=m)):(v=this.right-f,i==="near"?p="right":i==="center"?(p="center",v-=m/2):(p="left",v=this.left)):e==="right"?r?(v=this.left+o,i==="near"?p="right":i==="center"?(p="center",v-=m/2):(p="left",v-=m)):(v=this.left+f,i==="near"?p="left":i==="center"?(p="center",v+=m/2):(p="right",v=this.right)):p="right",{textAlign:p,x:v}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const f=(m,p,v)=>{!v.width||!v.color||(i.save(),i.lineWidth=v.width,i.strokeStyle=v.color,i.setLineDash(v.borderDash||[]),i.lineDashOffset=v.borderDashOffset,i.beginPath(),i.moveTo(m.x,m.y),i.lineTo(p.x,p.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=r.length;o<c;++o){const m=r[o];e.drawOnChartArea&&f({x:m.x1,y:m.y1},{x:m.x2,y:m.y2},m),e.drawTicks&&f({x:m.tx1,y:m.ty1},{x:m.tx2,y:m.ty2},{color:m.tickColor,width:m.tickWidth,borderDash:m.tickBorderDash,borderDashOffset:m.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const f=r.setContext(this.getContext(0)).lineWidth,m=this._borderValue;let p,v,E,x;this.isHorizontal()?(p=pl(t,this.left,c)-c/2,v=pl(t,this.right,f)+f/2,E=x=m):(E=pl(t,this.top,c)-c/2,x=pl(t,this.bottom,f)+f/2,p=v=m),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(p,E),e.lineTo(v,x),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Gy(i,r);const o=this.getLabelItems(t);for(const c of o){const f=c.options,m=c.font,p=c.label,v=c.textOffset;Tm(i,p,0,v,m,f)}r&&Zy(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=_i(i.font),c=zs(i.padding),f=i.align;let m=o.lineHeight/2;e==="bottom"||e==="center"||de(e)?(m+=c.bottom,In(i.text)&&(m+=o.lineHeight*(i.text.length-1))):m+=c.top;const{titleX:p,titleY:v,maxWidth:E,rotation:x}=EV(this,m,e,f);Tm(t,i.text,0,0,o,{color:i.color,maxWidth:E,rotation:x,textAlign:TV(f,e,r),textBaseline:"middle",translation:[p,v]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=se(t.grid&&t.grid.z,-1),r=se(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==sc.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,c;for(o=0,c=e.length;o<c;++o){const f=e[o];f[i]===this.id&&(!t||f.type===t)&&r.push(f)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return _i(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class wd{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;xV(e)&&(i=this.register(e));const r=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,wV(t,c,i),this.override&&sn.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in sn[r]&&(delete sn[r][i],this.override&&delete Pl[i])}}function wV(n,t,e){const i=Lh(Object.create(null),[e?sn.get(e):{},sn.get(t),n.defaults]);sn.set(t,i),n.defaultRoutes&&SV(t,n.defaultRoutes),n.descriptors&&sn.describe(t,n.descriptors)}function SV(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),f=c.pop(),m=c.join(".");sn.route(o,r,m,f)})}function xV(n){return"id"in n&&"defaults"in n}class AV{constructor(){this.controllers=new wd(wl,"datasets",!0),this.elements=new wd(Po,"elements"),this.plugins=new wd(Object,"plugins"),this.scales=new wd(sc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):Se(r,c=>{const f=i||this._getRegistryForType(c);this._exec(t,f,c)})})}_exec(t,e,i){const r=jy(t);Be(i["before"+r],[],i),e[t](i),Be(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var ar=new AV;class RV{constructor(){this._init=[]}notify(t,e,i,r){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const o=r?this._descriptors(t).filter(r):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),c}_notify(t,e,i,r){r=r||{};for(const o of t){const c=o.plugin,f=c[i],m=[e,r,o.options];if(Be(f,m,c)===!1&&r.cancelable)return!1}return!0}invalidate(){ve(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=se(i.options&&i.options.plugins,{}),o=CV(i);return r===!1&&!e?[]:MV(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,c)=>o.filter(f=>!c.some(m=>f.plugin.id===m.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function CV(n){const t={},e=[],i=Object.keys(ar.plugins.items);for(let o=0;o<i.length;o++)e.push(ar.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const c=r[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function IV(n,t){return!t&&n===!1?null:n===!0?{}:n}function MV(n,{plugins:t,localIds:e},i,r){const o=[],c=n.getContext();for(const f of t){const m=f.id,p=IV(i[m],r);p!==null&&o.push({plugin:f,options:PV(n.config,{plugin:f,local:e[m]},p,c)})}return o}function PV(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function V_(n,t){const e=sn.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function OV(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function DV(n,t){return n===t?"_index_":"_value_"}function xw(n){if(n==="x"||n==="y"||n==="r")return n}function kV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function B_(n,...t){if(xw(n))return n;for(const e of t){const i=e.axis||kV(e.position)||n.length>1&&xw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Aw(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function LV(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Aw(n,"x",e[0])||Aw(n,"y",e[0])}return{}}function NV(n,t){const e=Pl[n.type]||{scales:{}},i=t.scales||{},r=V_(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const f=i[c];if(!de(f))return console.error(`Invalid scale configuration for scale: ${c}`);if(f._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const m=B_(c,f,LV(c,n),sn.scales[f.type]),p=DV(m,r),v=e.scales||{};o[c]=bh(Object.create(null),[{axis:m},f,v[m],v[p]])}),n.data.datasets.forEach(c=>{const f=c.type||n.type,m=c.indexAxis||V_(f,t),v=(Pl[f]||{}).scales||{};Object.keys(v).forEach(E=>{const x=OV(E,m),R=c[x+"AxisID"]||x;o[R]=o[R]||Object.create(null),bh(o[R],[{axis:x},i[R],v[E]])})}),Object.keys(o).forEach(c=>{const f=o[c];bh(f,[sn.scales[f.type],sn.scale])}),o}function vA(n){const t=n.options||(n.options={});t.plugins=se(t.plugins,{}),t.scales=NV(n,t)}function bA(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function zV(n){return n=n||{},n.data=bA(n.data),vA(n),n}const Rw=new Map,TA=new Set;function Sd(n,t){let e=Rw.get(n);return e||(e=t(),Rw.set(n,e),TA.add(e)),e}const eh=(n,t,e)=>{const i=Ml(t,e);i!==void 0&&n.add(i)};class VV{constructor(t){this._config=zV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=bA(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),vA(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Sd(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Sd(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Sd(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Sd(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,c=this._cachedScopes(t,i),f=c.get(e);if(f)return f;const m=new Set;e.forEach(v=>{t&&(m.add(t),v.forEach(E=>eh(m,t,E))),v.forEach(E=>eh(m,r,E)),v.forEach(E=>eh(m,Pl[o]||{},E)),v.forEach(E=>eh(m,sn,E)),v.forEach(E=>eh(m,L_,E))});const p=Array.from(m);return p.length===0&&p.push(Object.create(null)),TA.has(e)&&c.set(e,p),p}chartOptionScopes(){const{options:t,type:e}=this;return[t,Pl[e]||{},sn.datasets[e]||{},{type:e},sn,L_]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:c,subPrefixes:f}=Cw(this._resolverCache,t,r);let m=c;if(UV(c,e)){o.$shared=!1,i=Ro(i)?i():i;const p=this.createResolver(t,i,f);m=Ku(c,i,p)}for(const p of e)o[p]=m[p];return o}createResolver(t,e,i=[""],r){const{resolver:o}=Cw(this._resolverCache,t,i);return de(e)?Ku(o,e,void 0,r):o}}function Cw(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:Ky(t,e),subPrefixes:e.filter(f=>!f.toLowerCase().includes("hover"))},i.set(r,o)),o}const BV=n=>de(n)&&Object.getOwnPropertyNames(n).some(t=>Ro(n[t]));function UV(n,t){const{isScriptable:e,isIndexable:i}=iA(n);for(const r of t){const o=e(r),c=i(r),f=(c||o)&&n[r];if(o&&(Ro(f)||BV(f))||c&&In(f))return!0}return!1}var jV="4.4.9";const HV=["top","bottom","left","right","chartArea"];function Iw(n,t){return n==="top"||n==="bottom"||HV.indexOf(n)===-1&&t==="x"}function Mw(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Pw(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Be(e&&e.onComplete,[n],t)}function FV(n){const t=n.chart,e=t.options.animation;Be(e&&e.onProgress,[n],t)}function EA(n){return Qy()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Fd={},Ow=n=>{const t=EA(n);return Object.values(Fd).filter(e=>e.canvas===t).pop()};function qV(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const c=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=c)}}}function GV(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}var no;let Qm=(no=class{static register(...t){ar.add(...t),Dw()}static unregister(...t){ar.remove(...t),Dw()}constructor(t,e){const i=this.config=new VV(e),r=EA(t),o=Ow(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||uV(r)),this.platform.updateConfig(i);const f=this.platform.acquireContext(r,c.aspectRatio),m=f&&f.canvas,p=m&&m.height,v=m&&m.width;if(this.id=UN(),this.ctx=f,this.canvas=m,this.width=v,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new RV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=r4(E=>this.update(E),c.resizeDelay||0),this._dataChanges=[],Fd[this.id]=this,!f||!m){console.error("Failed to create chart: can't acquire context from the given item");return}Zr.listen(this,"complete",Pw),Zr.listen(this,"progress",FV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return ve(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return ar}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ew(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return $E(this.canvas,this.ctx),this}stop(){return Zr.stop(this),this}resize(t,e){Zr.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(r,t,e,o),f=i.devicePixelRatio||this.platform.getDevicePixelRatio(),m=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,ew(this,f,!0)&&(this.notifyPlugins("resize",{size:c}),Be(i.onResize,[this,c],this),this.attached&&this._doResize(m)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Se(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((c,f)=>(c[f]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const f=e[c],m=B_(c,f),p=m==="r",v=m==="x";return{options:f,dposition:p?"chartArea":v?"bottom":"left",dtype:p?"radialLinear":v?"category":"linear"}}))),Se(o,c=>{const f=c.options,m=f.id,p=B_(m,f),v=se(f.type,c.dtype);(f.position===void 0||Iw(f.position,p)!==Iw(c.dposition))&&(f.position=c.dposition),r[m]=!0;let E=null;if(m in i&&i[m].type===v)E=i[m];else{const x=ar.getScale(v);E=new x({id:m,type:v,ctx:this.ctx,chart:this}),i[E.id]=E}E.init(f,t)}),Se(r,(c,f)=>{c||delete i[f]}),Se(i,c=>{ho.configure(this,c,c.options),ho.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Mw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let c=this.getDatasetMeta(i);const f=o.type||this.config.type;if(c.type&&c.type!==f&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=f,c.indexAxis=o.indexAxis||V_(f,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const m=ar.getController(f),{datasetElementType:p,dataElementType:v}=sn.datasets[f];Object.assign(m,{dataElementType:ar.getElement(v),datasetElementType:p&&ar.getElement(p)}),c.controller=new m(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Se(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,v=this.data.datasets.length;p<v;p++){const{controller:E}=this.getDatasetMeta(p),x=!r&&o.indexOf(E)===-1;E.buildOrUpdateElements(x),c=Math.max(+E.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),r||Se(o,p=>{p.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Mw("z","_idx"));const{_active:f,_lastEvent:m}=this;m?this._eventHandler(m,!0):f.length&&this._updateHoverStyles(f,f,!0),this.render()}_updateScales(){Se(this.scales,t=>{ho.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!HE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const c=i==="_removeElements"?-o:o;qV(t,r,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,f)=>f+","+c.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!HE(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ho.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Se(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ro(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Zr.has(this)?this.attached&&!Zr.running(this)&&Zr.start(this):(this.draw(),Pw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const c=e[r];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=hz(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Gy(e,r),t.controller.draw(),r&&Zy(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Bh(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=Hz.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Vl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,r);Nh(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(f=>f.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Zr.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),$E(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Fd[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},r=(o,c,f)=>{o.offsetX=c,o.offsetY=f,this._eventHandler(o)};Se(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(m,p)=>{e.addEventListener(this,m,p),t[m]=p},r=(m,p)=>{t[m]&&(e.removeEventListener(this,m,p),delete t[m])},o=(m,p)=>{this.canvas&&this.resize(m,p)};let c;const f=()=>{r("attach",f),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",f)},e.isAttached(this.canvas)?f():c()}unbindEvents(){Se(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Se(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,c,f,m;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),f=0,m=t.length;f<m;++f){c=t[f];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[r+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const f=this.getDatasetMeta(o);if(!f)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:f.data[c],index:c}});!ym(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(m,p)=>m.filter(v=>!p.some(E=>v.datasetIndex===E.datasetIndex&&v.index===E.index)),c=o(e,t),f=i?t:o(t,e);c.length&&this.updateHoverStyle(c,r.mode,!1),f.length&&r.mode&&this.updateHoverStyle(f,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,c=e,f=this._getActiveElements(t,r,i,c),m=ZN(t),p=GV(t,this._lastEvent,i,m);i&&(this._lastEvent=null,Be(o.onHover,[t,f,this],this),m&&Be(o.onClick,[t,f,this],this));const v=!ym(f,r);return(v||e)&&(this._active=f,this._updateHoverStyles(f,r,e)),this._lastEvent=p,v}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}},Mt(no,"defaults",sn),Mt(no,"instances",Fd),Mt(no,"overrides",Pl),Mt(no,"registry",ar),Mt(no,"version",jV),Mt(no,"getChart",Ow),no);function Dw(){return Se(Qm.instances,n=>n._plugins.invalidate())}function ZV(n,t,e){const{startAngle:i,pixelMargin:r,x:o,y:c,outerRadius:f,innerRadius:m}=t;let p=r/f;n.beginPath(),n.arc(o,c,f,i-p,e+p),m>r?(p=r/m,n.arc(o,c,m,e+p,i-p,!0)):n.arc(o,c,r,e+gn,i-gn),n.closePath(),n.clip()}function WV(n){return Wy(n,["outerStart","outerEnd","innerStart","innerEnd"])}function KV(n,t,e,i){const r=WV(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),f=m=>{const p=(e-Math.min(o,m))*i/2;return Qn(m,0,Math.min(o,p))};return{outerStart:f(r.outerStart),outerEnd:f(r.outerEnd),innerStart:Qn(r.innerStart,0,c),innerEnd:Qn(r.innerEnd,0,c)}}function Au(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function xm(n,t,e,i,r,o){const{x:c,y:f,startAngle:m,pixelMargin:p,innerRadius:v}=t,E=Math.max(t.outerRadius+i+e-p,0),x=v>0?v+i+e+p:0;let R=0;const I=r-m;if(i){const Lt=v>0?v-i:0,it=E>0?E-i:0,vt=(Lt+it)/2,pt=vt!==0?I*vt/(vt+i):I;R=(I-pt)/2}const O=Math.max(.001,I*E-e/cn)/E,D=(I-O)/2,V=m+D+R,K=r-D-R,{outerStart:W,outerEnd:ut,innerStart:et,innerEnd:_t}=KV(t,x,E,K-V),B=E-W,k=E-ut,z=V+W/B,H=K-ut/k,F=x+et,Z=x+_t,j=V+et/F,Yt=K-_t/Z;if(n.beginPath(),o){const Lt=(z+H)/2;if(n.arc(c,f,E,z,Lt),n.arc(c,f,E,Lt,H),ut>0){const Vt=Au(k,H,c,f);n.arc(Vt.x,Vt.y,ut,H,K+gn)}const it=Au(Z,K,c,f);if(n.lineTo(it.x,it.y),_t>0){const Vt=Au(Z,Yt,c,f);n.arc(Vt.x,Vt.y,_t,K+gn,Yt+Math.PI)}const vt=(K-_t/x+(V+et/x))/2;if(n.arc(c,f,x,K-_t/x,vt,!0),n.arc(c,f,x,vt,V+et/x,!0),et>0){const Vt=Au(F,j,c,f);n.arc(Vt.x,Vt.y,et,j+Math.PI,V-gn)}const pt=Au(B,V,c,f);if(n.lineTo(pt.x,pt.y),W>0){const Vt=Au(B,z,c,f);n.arc(Vt.x,Vt.y,W,V-gn,z)}}else{n.moveTo(c,f);const Lt=Math.cos(z)*E+c,it=Math.sin(z)*E+f;n.lineTo(Lt,it);const vt=Math.cos(H)*E+c,pt=Math.sin(H)*E+f;n.lineTo(vt,pt)}n.closePath()}function YV(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:f}=t;let m=t.endAngle;if(o){xm(n,t,e,i,m,r);for(let p=0;p<o;++p)n.fill();isNaN(f)||(m=c+(f%Qe||Qe))}return xm(n,t,e,i,m,r),n.fill(),m}function XV(n,t,e,i,r){const{fullCircles:o,startAngle:c,circumference:f,options:m}=t,{borderWidth:p,borderJoinStyle:v,borderDash:E,borderDashOffset:x}=m,R=m.borderAlign==="inner";if(!p)return;n.setLineDash(E||[]),n.lineDashOffset=x,R?(n.lineWidth=p*2,n.lineJoin=v||"round"):(n.lineWidth=p,n.lineJoin=v||"bevel");let I=t.endAngle;if(o){xm(n,t,e,i,I,r);for(let O=0;O<o;++O)n.stroke();isNaN(f)||(I=c+(f%Qe||Qe))}R&&ZV(n,t,I),o||(xm(n,t,e,i,I,r),n.stroke())}class hh extends Po{constructor(e){super();Mt(this,"circumference");Mt(this,"endAngle");Mt(this,"fullCircles");Mt(this,"innerRadius");Mt(this,"outerRadius");Mt(this,"pixelMargin");Mt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.getProps(["x","y"],r),{angle:c,distance:f}=K1(o,{x:e,y:i}),{startAngle:m,endAngle:p,innerRadius:v,outerRadius:E,circumference:x}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),R=(this.options.spacing+this.options.borderWidth)/2,I=se(x,p-m),O=Vh(c,m,p)&&m!==p,D=I>=Qe||O,V=co(f,v+R,E+R);return D&&V}getCenterPoint(e){const{x:i,y:r,startAngle:o,endAngle:c,innerRadius:f,outerRadius:m}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:p,spacing:v}=this.options,E=(o+c)/2,x=(f+m+v+p)/2;return{x:i+Math.cos(E)*x,y:r+Math.sin(E)*x}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:r}=this,o=(i.offset||0)/4,c=(i.spacing||0)/2,f=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>Qe?Math.floor(r/Qe):0,r===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const m=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(m)*o,Math.sin(m)*o);const p=1-Math.sin(Math.min(cn,r||0)),v=o*p;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,YV(e,this,v,c,f),XV(e,this,v,c,f),e.restore()}}Mt(hh,"id","arc"),Mt(hh,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Mt(hh,"defaultRoutes",{backgroundColor:"backgroundColor"}),Mt(hh,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function wA(n,t,e=t){n.lineCap=se(e.borderCapStyle,t.borderCapStyle),n.setLineDash(se(e.borderDash,t.borderDash)),n.lineDashOffset=se(e.borderDashOffset,t.borderDashOffset),n.lineJoin=se(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=se(e.borderWidth,t.borderWidth),n.strokeStyle=se(e.borderColor,t.borderColor)}function QV(n,t,e){n.lineTo(e.x,e.y)}function $V(n){return n.stepped?v4:n.tension||n.cubicInterpolationMode==="monotone"?b4:QV}function SA(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:c,end:f}=t,m=Math.max(r,c),p=Math.min(o,f),v=r<c&&o<c||r>f&&o>f;return{count:i,start:m,loop:t.loop,ilen:p<m&&!v?i+p-m:p-m}}function JV(n,t,e,i){const{points:r,options:o}=t,{count:c,start:f,loop:m,ilen:p}=SA(r,e,i),v=$V(o);let{move:E=!0,reverse:x}=i||{},R,I,O;for(R=0;R<=p;++R)I=r[(f+(x?p-R:R))%c],!I.skip&&(E?(n.moveTo(I.x,I.y),E=!1):v(n,O,I,x,o.stepped),O=I);return m&&(I=r[(f+(x?p:0))%c],v(n,O,I,x,o.stepped)),!!m}function t3(n,t,e,i){const r=t.points,{count:o,start:c,ilen:f}=SA(r,e,i),{move:m=!0,reverse:p}=i||{};let v=0,E=0,x,R,I,O,D,V;const K=ut=>(c+(p?f-ut:ut))%o,W=()=>{O!==D&&(n.lineTo(v,D),n.lineTo(v,O),n.lineTo(v,V))};for(m&&(R=r[K(0)],n.moveTo(R.x,R.y)),x=0;x<=f;++x){if(R=r[K(x)],R.skip)continue;const ut=R.x,et=R.y,_t=ut|0;_t===I?(et<O?O=et:et>D&&(D=et),v=(E*v+ut)/++E):(W(),n.lineTo(ut,et),I=_t,E=0,O=D=et),V=et}W()}function U_(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?t3:JV}function e3(n){return n.stepped?$4:n.tension||n.cubicInterpolationMode==="monotone"?J4:vl}function n3(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),wA(n,t.options),n.stroke(r)}function i3(n,t,e,i){const{segments:r,options:o}=t,c=U_(t);for(const f of r)wA(n,o,f.style),n.beginPath(),c(n,t,f,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const s3=typeof Path2D=="function";function r3(n,t,e,i){s3&&!t.options.segment?n3(n,t,e,i):i3(n,t,e,i)}class fh extends Po{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;q4(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=oz(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,c=sz(this,{property:e,start:r,end:r});if(!c.length)return;const f=[],m=e3(i);let p,v;for(p=0,v=c.length;p<v;++p){const{start:E,end:x}=c[p],R=o[E],I=o[x];if(R===I){f.push(R);continue}const O=Math.abs((r-R[e])/(I[e]-R[e])),D=m(R,I,O,i.stepped);D[e]=t[e],f.push(D)}return f.length===1?f[0]:f}pathSegment(t,e,i){return U_(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=U_(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const f of r)c&=o(t,this,f,{start:e,end:e+i-1});return!!c}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),r3(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Mt(fh,"id","line"),Mt(fh,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Mt(fh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Mt(fh,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function kw(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class qd extends Po{constructor(e){super();Mt(this,"parsed");Mt(this,"skip");Mt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,r){const o=this.options,{x:c,y:f}=this.getProps(["x","y"],r);return Math.pow(e-c,2)+Math.pow(i-f,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return kw(this,e,"x",i)}inYRange(e,i){return kw(this,e,"y",i)}getCenterPoint(e){const{x:i,y:r}=this.getProps(["x","y"],e);return{x:i,y:r}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const r=i&&e.borderWidth||0;return(i+r)*2}draw(e,i){const r=this.options;this.skip||r.radius<.1||!Bh(this,i,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,N_(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}Mt(qd,"id","point"),Mt(qd,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Mt(qd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function xA(n,t){const{x:e,y:i,base:r,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let f,m,p,v,E;return n.horizontal?(E=c/2,f=Math.min(e,r),m=Math.max(e,r),p=i-E,v=i+E):(E=o/2,f=e-E,m=e+E,p=Math.min(i,r),v=Math.max(i,r)),{left:f,top:p,right:m,bottom:v}}function fo(n,t,e,i){return n?0:Qn(t,e,i)}function a3(n,t,e){const i=n.options.borderWidth,r=n.borderSkipped,o=nA(i);return{t:fo(r.top,o.top,0,e),r:fo(r.right,o.right,0,t),b:fo(r.bottom,o.bottom,0,e),l:fo(r.left,o.left,0,t)}}function o3(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),r=n.options.borderRadius,o=Nu(r),c=Math.min(t,e),f=n.borderSkipped,m=i||de(r);return{topLeft:fo(!m||f.top||f.left,o.topLeft,0,c),topRight:fo(!m||f.top||f.right,o.topRight,0,c),bottomLeft:fo(!m||f.bottom||f.left,o.bottomLeft,0,c),bottomRight:fo(!m||f.bottom||f.right,o.bottomRight,0,c)}}function l3(n){const t=xA(n),e=t.right-t.left,i=t.bottom-t.top,r=a3(n,e/2,i/2),o=o3(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:e-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function s_(n,t,e,i){const r=t===null,o=e===null,f=n&&!(r&&o)&&xA(n,i);return f&&(r||co(t,f.left,f.right))&&(o||co(e,f.top,f.bottom))}function u3(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function c3(n,t){n.rect(t.x,t.y,t.w,t.h)}function r_(n,t,e={}){const i=n.x!==e.x?-t:0,r=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-r;return{x:n.x+i,y:n.y+r,w:n.w+o,h:n.h+c,radius:n.radius}}class Gd extends Po{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:c}=l3(this),f=u3(c.radius)?Em:c3;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),f(t,r_(c,e,o)),t.clip(),f(t,r_(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),f(t,r_(o,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,i){return s_(this,t,e,i)}inXRange(t,e){return s_(this,t,null,e)}inYRange(t,e){return s_(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+r)/2:e,y:o?i:(i+r)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}Mt(Gd,"id","bar"),Mt(Gd,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Mt(Gd,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Lw=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},h3=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class Nw extends Po{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Be(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=_i(i.font),o=r.size,c=this._computeTitleHeight(),{boxWidth:f,itemHeight:m}=Lw(i,o);let p,v;e.font=r.string,this.isHorizontal()?(p=this.maxWidth,v=this._fitRows(c,o,f,m)+10):(v=this.maxHeight,p=this._fitCols(c,r,f,m)+10),this.width=Math.min(p,t.maxWidth||this.maxWidth),this.height=Math.min(v,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:c,options:{labels:{padding:f}}}=this,m=this.legendHitBoxes=[],p=this.lineWidths=[0],v=r+f;let E=t;o.textAlign="left",o.textBaseline="middle";let x=-1,R=-v;return this.legendItems.forEach((I,O)=>{const D=i+e/2+o.measureText(I.text).width;(O===0||p[p.length-1]+D+2*f>c)&&(E+=v,p[p.length-(O>0?0:1)]=0,R+=v,x++),m[O]={left:0,top:R,row:x,width:D,height:r},p[p.length-1]+=D+f}),E}_fitCols(t,e,i,r){const{ctx:o,maxHeight:c,options:{labels:{padding:f}}}=this,m=this.legendHitBoxes=[],p=this.columnSizes=[],v=c-t;let E=f,x=0,R=0,I=0,O=0;return this.legendItems.forEach((D,V)=>{const{itemWidth:K,itemHeight:W}=f3(i,e,o,D,r);V>0&&R+W+2*f>v&&(E+=x+f,p.push({width:x,height:R}),I+=x+f,O++,x=R=0),m[V]={left:I,top:R,col:O,width:K,height:W},x=Math.max(x,K),R+=W+f}),E+=x,p.push({width:x,height:R}),E}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,c=zu(o,this.left,this.width);if(this.isHorizontal()){let f=0,m=Ui(i,this.left+r,this.right-this.lineWidths[f]);for(const p of e)f!==p.row&&(f=p.row,m=Ui(i,this.left+r,this.right-this.lineWidths[f])),p.top+=this.top+t+r,p.left=c.leftForLtr(c.x(m),p.width),m+=p.width+r}else{let f=0,m=Ui(i,this.top+t+r,this.bottom-this.columnSizes[f].height);for(const p of e)p.col!==f&&(f=p.col,m=Ui(i,this.top+t+r,this.bottom-this.columnSizes[f].height)),p.top=m,p.left+=this.left+r,p.left=c.leftForLtr(c.x(p.left),p.width),m+=p.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Gy(t,this),this._draw(),Zy(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:c}=t,f=sn.color,m=zu(t.rtl,this.left,this.width),p=_i(c.font),{padding:v}=c,E=p.size,x=E/2;let R;this.drawTitle(),r.textAlign=m.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=p.string;const{boxWidth:I,boxHeight:O,itemHeight:D}=Lw(c,E),V=function(_t,B,k){if(isNaN(I)||I<=0||isNaN(O)||O<0)return;r.save();const z=se(k.lineWidth,1);if(r.fillStyle=se(k.fillStyle,f),r.lineCap=se(k.lineCap,"butt"),r.lineDashOffset=se(k.lineDashOffset,0),r.lineJoin=se(k.lineJoin,"miter"),r.lineWidth=z,r.strokeStyle=se(k.strokeStyle,f),r.setLineDash(se(k.lineDash,[])),c.usePointStyle){const H={radius:O*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:z},F=m.xPlus(_t,I/2),Z=B+x;eA(r,H,F,Z,c.pointStyleWidth&&I)}else{const H=B+Math.max((E-O)/2,0),F=m.leftForLtr(_t,I),Z=Nu(k.borderRadius);r.beginPath(),Object.values(Z).some(j=>j!==0)?Em(r,{x:F,y:H,w:I,h:O,radius:Z}):r.rect(F,H,I,O),r.fill(),z!==0&&r.stroke()}r.restore()},K=function(_t,B,k){Tm(r,k.text,_t,B+D/2,p,{strikethrough:k.hidden,textAlign:m.textAlign(k.textAlign)})},W=this.isHorizontal(),ut=this._computeTitleHeight();W?R={x:Ui(o,this.left+v,this.right-i[0]),y:this.top+v+ut,line:0}:R={x:this.left+v,y:Ui(o,this.top+ut+v,this.bottom-e[0].height),line:0},lA(this.ctx,t.textDirection);const et=D+v;this.legendItems.forEach((_t,B)=>{r.strokeStyle=_t.fontColor,r.fillStyle=_t.fontColor;const k=r.measureText(_t.text).width,z=m.textAlign(_t.textAlign||(_t.textAlign=c.textAlign)),H=I+x+k;let F=R.x,Z=R.y;m.setWidth(this.width),W?B>0&&F+H+v>this.right&&(Z=R.y+=et,R.line++,F=R.x=Ui(o,this.left+v,this.right-i[R.line])):B>0&&Z+et>this.bottom&&(F=R.x=F+e[R.line].width+v,R.line++,Z=R.y=Ui(o,this.top+ut+v,this.bottom-e[R.line].height));const j=m.x(F);if(V(j,Z,_t),F=a4(z,F+I+x,W?F+H:this.right,t.rtl),K(m.x(F),Z,_t),W)R.x+=H+v;else if(typeof _t.text!="string"){const Yt=p.lineHeight;R.y+=AA(_t,Yt)+v}else R.y+=et}),uA(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=_i(e.font),r=zs(e.padding);if(!e.display)return;const o=zu(t.rtl,this.left,this.width),c=this.ctx,f=e.position,m=i.size/2,p=r.top+m;let v,E=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),v=this.top+p,E=Ui(t.align,E,this.right-x);else{const I=this.columnSizes.reduce((O,D)=>Math.max(O,D.height),0);v=p+Ui(t.align,this.top,this.bottom-I-t.labels.padding-this._computeTitleHeight())}const R=Ui(f,E,E+x);c.textAlign=o.textAlign(J1(f)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,Tm(c,e.text,R,v,i)}_computeTitleHeight(){const t=this.options.title,e=_i(t.font),i=zs(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(co(t,this.left,this.right)&&co(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],co(t,r.left,r.left+r.width)&&co(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!p3(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=h3(r,i);r&&!o&&Be(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Be(e.onHover,[t,i,this],this)}else i&&Be(e.onClick,[t,i,this],this)}}function f3(n,t,e,i,r){const o=d3(i,n,t,e),c=m3(r,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function d3(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(r).width}function m3(n,t,e){let i=n;return typeof t.text!="string"&&(i=AA(t,e)),i}function AA(n,t){const e=n.text?n.text.length:0;return t*e}function p3(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var g3={id:"legend",_element:Nw,start(n,t,e){const i=n.legend=new Nw({ctx:n.ctx,options:e,chart:n});ho.configure(n,i,e),ho.addBox(n,i)},stop(n){ho.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ho.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:c,borderRadius:f}}=n.legend.options;return n._getSortedDatasetMetas().map(m=>{const p=m.controller.getStyle(e?0:void 0),v=zs(p.borderWidth);return{text:t[m.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!m.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(v.width+v.height)/4,strokeStyle:p.borderColor,pointStyle:i||p.pointStyle,rotation:p.rotation,textAlign:r||p.textAlign,borderRadius:c&&(f||p.borderRadius),datasetIndex:m.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};const dh={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const f=n[t].element;if(f&&f.hasValue()){const m=f.tooltipPosition();i.add(m.x),r+=m.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((f,m)=>f+m)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,c,f;for(o=0,c=n.length;o<c;++o){const m=n[o].element;if(m&&m.hasValue()){const p=m.getCenterPoint(),v=k_(t,p);v<r&&(r=v,f=m)}}if(f){const m=f.tooltipPosition();e=m.x,i=m.y}return{x:e,y:i}}};function rr(n,t){return t&&(In(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Wr(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function _3(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:c,value:f}=o.getLabelAndValue(r);return{chart:n,label:c,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:f,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function zw(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:c,boxHeight:f}=t,m=_i(t.bodyFont),p=_i(t.titleFont),v=_i(t.footerFont),E=o.length,x=r.length,R=i.length,I=zs(t.padding);let O=I.height,D=0,V=i.reduce((ut,et)=>ut+et.before.length+et.lines.length+et.after.length,0);if(V+=n.beforeBody.length+n.afterBody.length,E&&(O+=E*p.lineHeight+(E-1)*t.titleSpacing+t.titleMarginBottom),V){const ut=t.displayColors?Math.max(f,m.lineHeight):m.lineHeight;O+=R*ut+(V-R)*m.lineHeight+(V-1)*t.bodySpacing}x&&(O+=t.footerMarginTop+x*v.lineHeight+(x-1)*t.footerSpacing);let K=0;const W=function(ut){D=Math.max(D,e.measureText(ut).width+K)};return e.save(),e.font=p.string,Se(n.title,W),e.font=m.string,Se(n.beforeBody.concat(n.afterBody),W),K=t.displayColors?c+2+t.boxPadding:0,Se(i,ut=>{Se(ut.before,W),Se(ut.lines,W),Se(ut.after,W)}),K=0,e.font=v.string,Se(n.footer,W),e.restore(),D+=I.width,{width:D,height:O}}function y3(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function v3(n,t,e,i){const{x:r,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&r+o+c>t.width||n==="right"&&r-o-c<0)return!0}function b3(n,t,e,i){const{x:r,width:o}=e,{width:c,chartArea:{left:f,right:m}}=n;let p="center";return i==="center"?p=r<=(f+m)/2?"left":"right":r<=o/2?p="left":r>=c-o/2&&(p="right"),v3(p,n,t,e)&&(p="center"),p}function Vw(n,t,e){const i=e.yAlign||t.yAlign||y3(n,e);return{xAlign:e.xAlign||t.xAlign||b3(n,t,e,i),yAlign:i}}function T3(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function E3(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function Bw(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:c}=n,{xAlign:f,yAlign:m}=e,p=r+o,{topLeft:v,topRight:E,bottomLeft:x,bottomRight:R}=Nu(c);let I=T3(t,f);const O=E3(t,m,p);return m==="center"?f==="left"?I+=p:f==="right"&&(I-=p):f==="left"?I-=Math.max(v,x)+r:f==="right"&&(I+=Math.max(E,R)+r),{x:Qn(I,0,i.width-t.width),y:Qn(O,0,i.height-t.height)}}function xd(n,t,e){const i=zs(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function Uw(n){return rr([],Wr(n))}function w3(n,t,e){return Vl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function jw(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const RA={beforeTitle:Gr,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Gr,beforeBody:Gr,beforeLabel:Gr,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ve(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Gr,afterBody:Gr,beforeFooter:Gr,footer:Gr,afterFooter:Gr};function mi(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?RA[t].call(e,i):r}class j_ extends Po{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new hA(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=w3(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=mi(i,"beforeTitle",this,t),o=mi(i,"title",this,t),c=mi(i,"afterTitle",this,t);let f=[];return f=rr(f,Wr(r)),f=rr(f,Wr(o)),f=rr(f,Wr(c)),f}getBeforeBody(t,e){return Uw(mi(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return Se(t,o=>{const c={before:[],lines:[],after:[]},f=jw(i,o);rr(c.before,Wr(mi(f,"beforeLabel",this,o))),rr(c.lines,mi(f,"label",this,o)),rr(c.after,Wr(mi(f,"afterLabel",this,o))),r.push(c)}),r}getAfterBody(t,e){return Uw(mi(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=mi(i,"beforeFooter",this,t),o=mi(i,"footer",this,t),c=mi(i,"afterFooter",this,t);let f=[];return f=rr(f,Wr(r)),f=rr(f,Wr(o)),f=rr(f,Wr(c)),f}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],c=[];let f=[],m,p;for(m=0,p=e.length;m<p;++m)f.push(_3(this.chart,e[m]));return t.filter&&(f=f.filter((v,E,x)=>t.filter(v,E,x,i))),t.itemSort&&(f=f.sort((v,E)=>t.itemSort(v,E,i))),Se(f,v=>{const E=jw(t.callbacks,v);r.push(mi(E,"labelColor",this,v)),o.push(mi(E,"labelPointStyle",this,v)),c.push(mi(E,"labelTextColor",this,v))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=f,f}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,c=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const f=dh[i.position].call(this,r,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const m=this._size=zw(this,i),p=Object.assign({},f,m),v=Vw(this.chart,i,p),E=Bw(i,p,v,this.chart);this.xAlign=v.xAlign,this.yAlign=v.yAlign,o={opacity:1,x:E.x,y:E.y,width:m.width,height:m.height,caretX:f.x,caretY:f.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:c,cornerRadius:f}=i,{topLeft:m,topRight:p,bottomLeft:v,bottomRight:E}=Nu(f),{x,y:R}=t,{width:I,height:O}=e;let D,V,K,W,ut,et;return o==="center"?(ut=R+O/2,r==="left"?(D=x,V=D-c,W=ut+c,et=ut-c):(D=x+I,V=D+c,W=ut-c,et=ut+c),K=D):(r==="left"?V=x+Math.max(m,v)+c:r==="right"?V=x+I-Math.max(p,E)-c:V=this.caretX,o==="top"?(W=R,ut=W-c,D=V-c,K=V+c):(W=R+O,ut=W+c,D=V+c,K=V-c),et=W),{x1:D,x2:V,x3:K,y1:W,y2:ut,y3:et}}drawTitle(t,e,i){const r=this.title,o=r.length;let c,f,m;if(o){const p=zu(i.rtl,this.x,this.width);for(t.x=xd(this,i.titleAlign,i),e.textAlign=p.textAlign(i.titleAlign),e.textBaseline="middle",c=_i(i.titleFont),f=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,m=0;m<o;++m)e.fillText(r[m],p.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+f,m+1===o&&(t.y+=i.titleMarginBottom-f)}}_drawColorBox(t,e,i,r,o){const c=this.labelColors[i],f=this.labelPointStyles[i],{boxHeight:m,boxWidth:p}=o,v=_i(o.bodyFont),E=xd(this,"left",o),x=r.x(E),R=m<v.lineHeight?(v.lineHeight-m)/2:0,I=e.y+R;if(o.usePointStyle){const O={radius:Math.min(p,m)/2,pointStyle:f.pointStyle,rotation:f.rotation,borderWidth:1},D=r.leftForLtr(x,p)+p/2,V=I+m/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,N_(t,O,D,V),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,N_(t,O,D,V)}else{t.lineWidth=de(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const O=r.leftForLtr(x,p),D=r.leftForLtr(r.xPlus(x,1),p-2),V=Nu(c.borderRadius);Object.values(V).some(K=>K!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Em(t,{x:O,y:I,w:p,h:m,radius:V}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Em(t,{x:D,y:I+1,w:p-2,h:m-2,radius:V}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(O,I,p,m),t.strokeRect(O,I,p,m),t.fillStyle=c.backgroundColor,t.fillRect(D,I+1,p-2,m-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:c,displayColors:f,boxHeight:m,boxWidth:p,boxPadding:v}=i,E=_i(i.bodyFont);let x=E.lineHeight,R=0;const I=zu(i.rtl,this.x,this.width),O=function(k){e.fillText(k,I.x(t.x+R),t.y+x/2),t.y+=x+o},D=I.textAlign(c);let V,K,W,ut,et,_t,B;for(e.textAlign=c,e.textBaseline="middle",e.font=E.string,t.x=xd(this,D,i),e.fillStyle=i.bodyColor,Se(this.beforeBody,O),R=f&&D!=="right"?c==="center"?p/2+v:p+2+v:0,ut=0,_t=r.length;ut<_t;++ut){for(V=r[ut],K=this.labelTextColors[ut],e.fillStyle=K,Se(V.before,O),W=V.lines,f&&W.length&&(this._drawColorBox(e,t,ut,I,i),x=Math.max(E.lineHeight,m)),et=0,B=W.length;et<B;++et)O(W[et]),x=E.lineHeight;Se(V.after,O)}R=0,x=E.lineHeight,Se(this.afterBody,O),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let c,f;if(o){const m=zu(i.rtl,this.x,this.width);for(t.x=xd(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=m.textAlign(i.footerAlign),e.textBaseline="middle",c=_i(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,f=0;f<o;++f)e.fillText(r[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:c}=this,{x:f,y:m}=t,{width:p,height:v}=i,{topLeft:E,topRight:x,bottomLeft:R,bottomRight:I}=Nu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(f+E,m),c==="top"&&this.drawCaret(t,e,i,r),e.lineTo(f+p-x,m),e.quadraticCurveTo(f+p,m,f+p,m+x),c==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(f+p,m+v-I),e.quadraticCurveTo(f+p,m+v,f+p-I,m+v),c==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(f+R,m+v),e.quadraticCurveTo(f,m+v,f,m+v-R),c==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(f,m+E),e.quadraticCurveTo(f,m,f+E,m),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const c=dh[t.position].call(this,this._active,this._eventPosition);if(!c)return;const f=this._size=zw(this,t),m=Object.assign({},c,this._size),p=Vw(e,t,m),v=Bw(t,m,p,e);(r._to!==v.x||o._to!==v.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=f.width,this.height=f.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,v))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=zs(e.padding),f=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&f&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),lA(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),uA(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:f,index:m})=>{const p=this.chart.getDatasetMeta(f);if(!p)throw new Error("Cannot find a dataset at index "+f);return{datasetIndex:f,element:p.data[m],index:m}}),o=!ym(i,r),c=this._positionChanged(r,e);(o||c)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),f=this._positionChanged(c,t),m=e||!ym(c,o)||f;return m&&(this._active=c,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),m}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(f=>this.chart.data.datasets[f.datasetIndex]&&this.chart.getDatasetMeta(f.datasetIndex).controller.getParsed(f.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,c=dh[o.position].call(this,t,e);return c!==!1&&(i!==c.x||r!==c.y)}}Mt(j_,"positioners",dh);var S3={id:"tooltip",_element:j_,positioners:dh,afterInit(n,t,e){e&&(n.tooltip=new j_({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:RA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const x3=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function A3(n,t,e,i){const r=n.indexOf(t);if(r===-1)return x3(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const R3=(n,t)=>n===null?null:Qn(Math.round(n),0,t);function Hw(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class H_ extends sc{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ve(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:A3(i,t,se(e,t),this._addedLabels),R3(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)r.push({value:c});return r}getLabelForValue(t){return Hw.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}Mt(H_,"id","category"),Mt(H_,"defaults",{ticks:{callback:Hw}});function C3(n,t){const e=[],{bounds:r,step:o,min:c,max:f,precision:m,count:p,maxTicks:v,maxDigits:E,includeBounds:x}=n,R=o||1,I=v-1,{min:O,max:D}=t,V=!ve(c),K=!ve(f),W=!ve(p),ut=(D-O)/(E+1);let et=qE((D-O)/I/R)*R,_t,B,k,z;if(et<1e-14&&!V&&!K)return[{value:O},{value:D}];z=Math.ceil(D/et)-Math.floor(O/et),z>I&&(et=qE(z*et/I/R)*R),ve(m)||(_t=Math.pow(10,m),et=Math.ceil(et*_t)/_t),r==="ticks"?(B=Math.floor(O/et)*et,k=Math.ceil(D/et)*et):(B=O,k=D),V&&K&&o&&QN((f-c)/o,et/1e3)?(z=Math.round(Math.min((f-c)/et,v)),et=(f-c)/z,B=c,k=f):W?(B=V?c:B,k=K?f:k,z=p-1,et=(k-B)/z):(z=(k-B)/et,Th(z,Math.round(z),et/1e3)?z=Math.round(z):z=Math.ceil(z));const H=Math.max(GE(et),GE(B));_t=Math.pow(10,ve(m)?H:m),B=Math.round(B*_t)/_t,k=Math.round(k*_t)/_t;let F=0;for(V&&(x&&B!==c?(e.push({value:c}),B<c&&F++,Th(Math.round((B+F*et)*_t)/_t,c,Fw(c,ut,n))&&F++):B<c&&F++);F<z;++F){const Z=Math.round((B+F*et)*_t)/_t;if(K&&Z>f)break;e.push({value:Z})}return K&&x&&k!==f?e.length&&Th(e[e.length-1].value,f,Fw(f,ut,n))?e[e.length-1].value=f:e.push({value:f}):(!K||k===f)&&e.push({value:k}),e}function Fw(n,t,{horizontal:e,minRotation:i}){const r=Qr(i),o=(e?Math.sin(r):Math.cos(r))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class I3 extends sc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ve(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const c=m=>r=e?r:m,f=m=>o=i?o:m;if(t){const m=fr(r),p=fr(o);m<0&&p<0?f(0):m>0&&p>0&&c(0)}if(r===o){let m=o===0?1:Math.abs(o*.05);f(o+m),t||c(r-m)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=C3(r,o);return t.bounds==="ticks"&&$N(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return qy(t,this.chart.options.locale,this.options.ticks.format)}}class F_ extends I3{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=fs(t)?t:0,this.max=fs(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Qr(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Mt(F_,"id","linear"),Mt(F_,"defaults",{ticks:{callback:tA.formatters.numeric}});const $m={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},gi=Object.keys($m);function qw(n,t){return n-t}function Gw(n,t){if(ve(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),fs(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(r&&(c=r==="week"&&(zh(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,r)),+c)}function Zw(n,t,e,i){const r=gi.length;for(let o=gi.indexOf(n);o<r-1;++o){const c=$m[gi[o]],f=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(f*c.size))<=i)return gi[o]}return gi[r-1]}function M3(n,t,e,i,r){for(let o=gi.length-1;o>=gi.indexOf(e);o--){const c=gi[o];if($m[c].common&&n._adapter.diff(r,i,c)>=t-1)return c}return gi[e?gi.indexOf(e):0]}function P3(n){for(let t=gi.indexOf(n)+1,e=gi.length;t<e;++t)if($m[gi[t]].common)return gi[t]}function Ww(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=Hy(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function O3(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),c=t[t.length-1].value;let f,m;for(f=o;f<=c;f=+r.add(f,1,i))m=e[f],m>=0&&(t[m].major=!0);return t}function Kw(n,t,e){const i=[],r={},o=t.length;let c,f;for(c=0;c<o;++c)f=t[c],r[f]=c,i.push({value:f,major:!1});return o===0||!e?i:O3(n,i,r,e)}class Am extends sc{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new zz._date(t.adapters.date);r.init(e),bh(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:Gw(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:c,maxDefined:f}=this.getUserBounds();function m(p){!c&&!isNaN(p.min)&&(r=Math.min(r,p.min)),!f&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!c||!f)&&(m(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&m(this.getMinMax(!1))),r=fs(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=fs(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,c=this.max,f=i4(r,o,c);return this._unit=e.unit||(i.autoSkip?Zw(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):M3(this,f.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:P3(this._unit),this.initOffsets(r),t.reverse&&f.reverse(),Kw(this,f,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=Qn(e,0,c),i=Qn(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,c=o.unit||Zw(o.minUnit,e,i,this._getLabelCapacity(e)),f=se(r.ticks.stepSize,1),m=c==="week"?o.isoWeekday:!1,p=zh(m)||m===!0,v={};let E=e,x,R;if(p&&(E=+t.startOf(E,"isoWeek",m)),E=+t.startOf(E,p?"day":c),t.diff(i,e,c)>1e5*f)throw new Error(e+" and "+i+" are too far apart with stepSize of "+f+" "+c);const I=r.ticks.source==="data"&&this.getDataTimestamps();for(x=E,R=0;x<i;x=+t.add(x,f,c),R++)Ww(v,x,I);return(x===i||r.bounds==="ticks"||R===1)&&Ww(v,x,I),Object.keys(v).sort(qw).map(O=>+O)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,c=e||r[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,r){const o=this.options,c=o.ticks.callback;if(c)return Be(c,[t,e,i],this);const f=o.time.displayFormats,m=this._unit,p=this._majorUnit,v=m&&f[m],E=p&&f[p],x=i[e],R=p&&E&&x&&x.major;return this._adapter.format(t,r||(R?E:v))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=Qr(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),c=Math.sin(r),f=this._resolveTickFontOptions(0).size;return{w:i*o+f*c,h:i*c+f*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,Kw(this,[t],this._majorUnit),r),c=this._getLabelSize(o),f=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return f>0?f:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(Gw(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return X1(t.sort(qw))}}Mt(Am,"id","time"),Mt(Am,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Ad(n,t,e){let i=0,r=n.length-1,o,c,f,m;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=Tl(n,"pos",t)),{pos:o,time:f}=n[i],{pos:c,time:m}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=Tl(n,"time",t)),{time:o,pos:f}=n[i],{time:c,pos:m}=n[r]);const p=c-o;return p?f+(m-f)*(t-o)/p:f}class Yw extends Am{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Ad(e,this.min),this._tableRange=Ad(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let c,f,m,p,v;for(c=0,f=t.length;c<f;++c)p=t[c],p>=e&&p<=i&&r.push(p);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,f=r.length;c<f;++c)v=r[c+1],m=r[c-1],p=r[c],Math.round((v+m)/2)!==p&&o.push({time:p,pos:c/(f-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Ad(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Ad(this._table,i*this._tableRange+this._minPos,!0)}}Mt(Yw,"id","timeseries"),Mt(Yw,"defaults",Am.defaults);const CA="label";function Xw(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function D3(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function IA(n,t){n.labels=t}function MA(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:CA;const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(c=>c[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function k3(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:CA;const e={labels:[],datasets:[]};return IA(e,n.labels),MA(e,n.datasets,t),e}function L3(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:c,data:f,options:m,plugins:p=[],fallbackContent:v,updateMode:E,...x}=n,R=$.useRef(null),I=$.useRef(null),O=()=>{R.current&&(I.current=new Qm(R.current,{type:c,data:k3(f,o),options:m&&{...m},plugins:p}),Xw(t,I.current))},D=()=>{Xw(t,null),I.current&&(I.current.destroy(),I.current=null)};return $.useEffect(()=>{!r&&I.current&&m&&D3(I.current,m)},[r,m]),$.useEffect(()=>{!r&&I.current&&IA(I.current.config.data,f.labels)},[r,f.labels]),$.useEffect(()=>{!r&&I.current&&f.datasets&&MA(I.current.config.data,f.datasets,o)},[r,f.datasets]),$.useEffect(()=>{I.current&&(r?(D(),setTimeout(O)):I.current.update(E))},[r,m,f.labels,f.datasets,E]),$.useEffect(()=>{I.current&&(D(),setTimeout(O))},[c]),$.useEffect(()=>(O(),()=>D()),[]),ji.createElement("canvas",{ref:R,role:"img",height:e,width:i,...x},v)}const N3=$.forwardRef(L3);function tv(n,t){return Qm.register(t),$.forwardRef((e,i)=>ji.createElement(N3,{...e,ref:i,type:n}))}const z3=tv("line",jd),V3=tv("bar",Ud),B3=tv("pie",z_);Qm.register(hh,S3,g3,H_,F_,Gd,qd,fh);const U3=()=>{const[n,t]=$.useState([]),[e,i]=$.useState([]);$.useEffect(()=>{(async()=>{const I=await gm(Gu(Wu,"crimes"));t(I.docs.map(D=>D.data()));const O=await gm(Gu(Wu,"missing_people"));i(O.docs.map(D=>D.data()))})()},[]);const o=n.map(R=>R.location).reduce((R,I)=>(R[I]=(R[I]||0)+1,R),{}),c={labels:Object.keys(o),datasets:[{data:Object.values(o),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"],hoverBackgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"]}]},m=n.map(R=>R.date).reduce((R,I)=>(R[I]=(R[I]||0)+1,R),{}),p={labels:Object.keys(m),datasets:[{label:"Crimes Reported Over Time",data:Object.values(m),backgroundColor:"#4BC0C0"}]},E=e.map(R=>R.date_missing).reduce((R,I)=>(R[I]=(R[I]||0)+1,R),{}),x={labels:Object.keys(E),datasets:[{label:"Missing People Over Time",data:Object.values(E),borderColor:"#FF6384",fill:!1}]};return X.jsxs("div",{className:"p-6",children:[X.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Analytics Dashboard"}),X.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[X.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[X.jsx("h3",{className:"font-bold mb-2",children:"Crimes by Location (Pie Chart)"}),X.jsx(B3,{data:c})]}),X.jsxs("div",{className:"bg-white p-4 rounded shadow",children:[X.jsx("h3",{className:"font-bold mb-2",children:"Crimes Reported Over Time (Bar Chart)"}),X.jsx(V3,{data:p})]}),X.jsxs("div",{className:"bg-white p-4 rounded shadow col-span-1 md:col-span-2",children:[X.jsx("h3",{className:"font-bold mb-2",children:"Missing People Over Time (Line Chart)"}),X.jsx(z3,{data:x})]})]})]})},j3=()=>{const[n,t]=$.useState([{username:"John Doe",avatar:"/pic.png",message:"Be careful near the park, saw some suspicious activity.",timestamp:"2 mins ago"},{username:"Jane Smith",avatar:"/pic.png",message:"Lost my wallet near the station, please contact if found.",timestamp:"10 mins ago"},{username:"Mike Johnson",avatar:"/pic.png",message:"Police have increased patrolling in our area. Stay safe!",timestamp:"30 mins ago"}]),[e,i]=$.useState(""),r=o=>{o.preventDefault(),e.trim()&&(t([...n,{username:"You",avatar:"/pic.png",message:e,timestamp:"Just now"}]),i(""))};return X.jsx("div",{className:"flex flex-col items-center justify-center p-4 min-h-screen bg-gray-100",children:X.jsxs("div",{className:"bg-white shadow-md rounded-lg w-full max-w-3xl p-4 space-y-4",children:[X.jsx("h1",{className:"text-3xl font-bold mb-4 text-center",children:"Community Forum"}),X.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:n.map((o,c)=>X.jsxs("div",{className:"flex items-start gap-3",children:[X.jsx("img",{src:o.avatar,alt:"User Avatar",className:"w-10 h-10 rounded-full"}),X.jsxs("div",{className:"flex flex-col",children:[X.jsxs("div",{className:"bg-blue-100 p-3 rounded-lg shadow text-gray-800",children:[X.jsx("p",{className:"font-semibold",children:o.username}),X.jsx("p",{children:o.message})]}),X.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o.timestamp})]})]},c))}),X.jsxs("form",{className:"flex mt-4",onSubmit:r,children:[X.jsx("input",{type:"text",className:"flex-grow p-2 border rounded-l-lg focus:outline-none",placeholder:"Type your message...",value:e,onChange:o=>i(o.target.value)}),X.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 rounded-r-lg hover:bg-blue-700 transition",children:"Send"})]})]})})};function PA(n,t){const e=$.useRef(t);$.useEffect(function(){t!==e.current&&n.attributionControl!=null&&(e.current!=null&&n.attributionControl.removeAttribution(e.current),t!=null&&n.attributionControl.addAttribution(t)),e.current=t},[n,t])}const H3=1;function F3(n){return Object.freeze({__version:H3,map:n})}function q3(n,t){return Object.freeze({...n,...t})}const ev=$.createContext(null);function nv(){const n=$.use(ev);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function G3(n){function t(e,i){const{instance:r,context:o}=n(e).current;$.useImperativeHandle(i,()=>r);const{children:c}=e;return c==null?null:ji.createElement(ev,{value:o},c)}return $.forwardRef(t)}function Z3(n){function t(e,i){const[r,o]=$.useState(!1),{instance:c}=n(e,o).current;$.useImperativeHandle(i,()=>c),$.useEffect(function(){r&&c.update()},[c,r,e.children]);const f=c._contentNode;return f?O2.createPortal(e.children,f):null}return $.forwardRef(t)}function W3(n){function t(e,i){const{instance:r}=n(e).current;return $.useImperativeHandle(i,()=>r),null}return $.forwardRef(t)}function OA(n,t){const e=$.useRef(void 0);$.useEffect(function(){return t!=null&&n.instance.on(t),e.current=t,function(){e.current!=null&&n.instance.off(e.current),e.current=null}},[n,t])}function iv(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}function K3(n,t){return function(i,r){const o=nv(),c=n(iv(i,o),o);return PA(o.map,i.attribution),OA(c.current,i.eventHandlers),t(c.current,o,i,r),c}}var mh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Y3=mh.exports,Qw;function X3(){return Qw||(Qw=1,function(n,t){(function(e,i){i(t)})(Y3,function(e){var i="1.9.4";function r(l){var h,_,T,S;for(_=1,T=arguments.length;_<T;_++){S=arguments[_];for(h in S)l[h]=S[h]}return l}var o=Object.create||function(){function l(){}return function(h){return l.prototype=h,new l}}();function c(l,h){var _=Array.prototype.slice;if(l.bind)return l.bind.apply(l,_.call(arguments,1));var T=_.call(arguments,2);return function(){return l.apply(h,T.length?T.concat(_.call(arguments)):arguments)}}var f=0;function m(l){return"_leaflet_id"in l||(l._leaflet_id=++f),l._leaflet_id}function p(l,h,_){var T,S,M,q;return q=function(){T=!1,S&&(M.apply(_,S),S=!1)},M=function(){T?S=arguments:(l.apply(_,arguments),setTimeout(q,h),T=!0)},M}function v(l,h,_){var T=h[1],S=h[0],M=T-S;return l===T&&_?l:((l-S)%M+M)%M+S}function E(){return!1}function x(l,h){if(h===!1)return l;var _=Math.pow(10,h===void 0?6:h);return Math.round(l*_)/_}function R(l){return l.trim?l.trim():l.replace(/^\s+|\s+$/g,"")}function I(l){return R(l).split(/\s+/)}function O(l,h){Object.prototype.hasOwnProperty.call(l,"options")||(l.options=l.options?o(l.options):{});for(var _ in h)l.options[_]=h[_];return l.options}function D(l,h,_){var T=[];for(var S in l)T.push(encodeURIComponent(_?S.toUpperCase():S)+"="+encodeURIComponent(l[S]));return(!h||h.indexOf("?")===-1?"?":"&")+T.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function K(l,h){return l.replace(V,function(_,T){var S=h[T];if(S===void 0)throw new Error("No value provided for variable "+_);return typeof S=="function"&&(S=S(h)),S})}var W=Array.isArray||function(l){return Object.prototype.toString.call(l)==="[object Array]"};function ut(l,h){for(var _=0;_<l.length;_++)if(l[_]===h)return _;return-1}var et="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _t(l){return window["webkit"+l]||window["moz"+l]||window["ms"+l]}var B=0;function k(l){var h=+new Date,_=Math.max(0,16-(h-B));return B=h+_,window.setTimeout(l,_)}var z=window.requestAnimationFrame||_t("RequestAnimationFrame")||k,H=window.cancelAnimationFrame||_t("CancelAnimationFrame")||_t("CancelRequestAnimationFrame")||function(l){window.clearTimeout(l)};function F(l,h,_){if(_&&z===k)l.call(h);else return z.call(window,c(l,h))}function Z(l){l&&H.call(window,l)}var j={__proto__:null,extend:r,create:o,bind:c,get lastId(){return f},stamp:m,throttle:p,wrapNum:v,falseFn:E,formatNum:x,trim:R,splitWords:I,setOptions:O,getParamString:D,template:K,isArray:W,indexOf:ut,emptyImageUrl:et,requestFn:z,cancelFn:H,requestAnimFrame:F,cancelAnimFrame:Z};function Yt(){}Yt.extend=function(l){var h=function(){O(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},_=h.__super__=this.prototype,T=o(_);T.constructor=h,h.prototype=T;for(var S in this)Object.prototype.hasOwnProperty.call(this,S)&&S!=="prototype"&&S!=="__super__"&&(h[S]=this[S]);return l.statics&&r(h,l.statics),l.includes&&(Lt(l.includes),r.apply(null,[T].concat(l.includes))),r(T,l),delete T.statics,delete T.includes,T.options&&(T.options=_.options?o(_.options):{},r(T.options,l.options)),T._initHooks=[],T.callInitHooks=function(){if(!this._initHooksCalled){_.callInitHooks&&_.callInitHooks.call(this),this._initHooksCalled=!0;for(var M=0,q=T._initHooks.length;M<q;M++)T._initHooks[M].call(this)}},h},Yt.include=function(l){var h=this.prototype.options;return r(this.prototype,l),l.options&&(this.prototype.options=h,this.mergeOptions(l.options)),this},Yt.mergeOptions=function(l){return r(this.prototype.options,l),this},Yt.addInitHook=function(l){var h=Array.prototype.slice.call(arguments,1),_=typeof l=="function"?l:function(){this[l].apply(this,h)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(_),this};function Lt(l){if(!(typeof L>"u"||!L||!L.Mixin)){l=W(l)?l:[l];for(var h=0;h<l.length;h++)l[h]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var it={on:function(l,h,_){if(typeof l=="object")for(var T in l)this._on(T,l[T],h);else{l=I(l);for(var S=0,M=l.length;S<M;S++)this._on(l[S],h,_)}return this},off:function(l,h,_){if(!arguments.length)delete this._events;else if(typeof l=="object")for(var T in l)this._off(T,l[T],h);else{l=I(l);for(var S=arguments.length===1,M=0,q=l.length;M<q;M++)S?this._off(l[M]):this._off(l[M],h,_)}return this},_on:function(l,h,_,T){if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}if(this._listens(l,h,_)===!1){_===this&&(_=void 0);var S={fn:h,ctx:_};T&&(S.once=!0),this._events=this._events||{},this._events[l]=this._events[l]||[],this._events[l].push(S)}},_off:function(l,h,_){var T,S,M;if(this._events&&(T=this._events[l],!!T)){if(arguments.length===1){if(this._firingCount)for(S=0,M=T.length;S<M;S++)T[S].fn=E;delete this._events[l];return}if(typeof h!="function"){console.warn("wrong listener type: "+typeof h);return}var q=this._listens(l,h,_);if(q!==!1){var tt=T[q];this._firingCount&&(tt.fn=E,this._events[l]=T=T.slice()),T.splice(q,1)}}},fire:function(l,h,_){if(!this.listens(l,_))return this;var T=r({},h,{type:l,target:this,sourceTarget:h&&h.sourceTarget||this});if(this._events){var S=this._events[l];if(S){this._firingCount=this._firingCount+1||1;for(var M=0,q=S.length;M<q;M++){var tt=S[M],ot=tt.fn;tt.once&&this.off(l,ot,tt.ctx),ot.call(tt.ctx||this,T)}this._firingCount--}}return _&&this._propagateEvent(T),this},listens:function(l,h,_,T){typeof l!="string"&&console.warn('"string" type argument expected');var S=h;typeof h!="function"&&(T=!!h,S=void 0,_=void 0);var M=this._events&&this._events[l];if(M&&M.length&&this._listens(l,S,_)!==!1)return!0;if(T){for(var q in this._eventParents)if(this._eventParents[q].listens(l,h,_,T))return!0}return!1},_listens:function(l,h,_){if(!this._events)return!1;var T=this._events[l]||[];if(!h)return!!T.length;_===this&&(_=void 0);for(var S=0,M=T.length;S<M;S++)if(T[S].fn===h&&T[S].ctx===_)return S;return!1},once:function(l,h,_){if(typeof l=="object")for(var T in l)this._on(T,l[T],h,!0);else{l=I(l);for(var S=0,M=l.length;S<M;S++)this._on(l[S],h,_,!0)}return this},addEventParent:function(l){return this._eventParents=this._eventParents||{},this._eventParents[m(l)]=l,this},removeEventParent:function(l){return this._eventParents&&delete this._eventParents[m(l)],this},_propagateEvent:function(l){for(var h in this._eventParents)this._eventParents[h].fire(l.type,r({layer:l.target,propagatedFrom:l.target},l),!0)}};it.addEventListener=it.on,it.removeEventListener=it.clearAllEventListeners=it.off,it.addOneTimeEventListener=it.once,it.fireEvent=it.fire,it.hasEventListeners=it.listens;var vt=Yt.extend(it);function pt(l,h,_){this.x=_?Math.round(l):l,this.y=_?Math.round(h):h}var Vt=Math.trunc||function(l){return l>0?Math.floor(l):Math.ceil(l)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(l){return this.clone()._add(U(l))},_add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.clone()._subtract(U(l))},_subtract:function(l){return this.x-=l.x,this.y-=l.y,this},divideBy:function(l){return this.clone()._divideBy(l)},_divideBy:function(l){return this.x/=l,this.y/=l,this},multiplyBy:function(l){return this.clone()._multiplyBy(l)},_multiplyBy:function(l){return this.x*=l,this.y*=l,this},scaleBy:function(l){return new pt(this.x*l.x,this.y*l.y)},unscaleBy:function(l){return new pt(this.x/l.x,this.y/l.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Vt(this.x),this.y=Vt(this.y),this},distanceTo:function(l){l=U(l);var h=l.x-this.x,_=l.y-this.y;return Math.sqrt(h*h+_*_)},equals:function(l){return l=U(l),l.x===this.x&&l.y===this.y},contains:function(l){return l=U(l),Math.abs(l.x)<=Math.abs(this.x)&&Math.abs(l.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function U(l,h,_){return l instanceof pt?l:W(l)?new pt(l[0],l[1]):l==null?l:typeof l=="object"&&"x"in l&&"y"in l?new pt(l.x,l.y):new pt(l,h,_)}function ct(l,h){if(l)for(var _=h?[l,h]:l,T=0,S=_.length;T<S;T++)this.extend(_[T])}ct.prototype={extend:function(l){var h,_;if(!l)return this;if(l instanceof pt||typeof l[0]=="number"||"x"in l)h=_=U(l);else if(l=bt(l),h=l.min,_=l.max,!h||!_)return this;return!this.min&&!this.max?(this.min=h.clone(),this.max=_.clone()):(this.min.x=Math.min(h.x,this.min.x),this.max.x=Math.max(_.x,this.max.x),this.min.y=Math.min(h.y,this.min.y),this.max.y=Math.max(_.y,this.max.y)),this},getCenter:function(l){return U((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,l)},getBottomLeft:function(){return U(this.min.x,this.max.y)},getTopRight:function(){return U(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var h,_;return typeof l[0]=="number"||l instanceof pt?l=U(l):l=bt(l),l instanceof ct?(h=l.min,_=l.max):h=_=l,h.x>=this.min.x&&_.x<=this.max.x&&h.y>=this.min.y&&_.y<=this.max.y},intersects:function(l){l=bt(l);var h=this.min,_=this.max,T=l.min,S=l.max,M=S.x>=h.x&&T.x<=_.x,q=S.y>=h.y&&T.y<=_.y;return M&&q},overlaps:function(l){l=bt(l);var h=this.min,_=this.max,T=l.min,S=l.max,M=S.x>h.x&&T.x<_.x,q=S.y>h.y&&T.y<_.y;return M&&q},isValid:function(){return!!(this.min&&this.max)},pad:function(l){var h=this.min,_=this.max,T=Math.abs(h.x-_.x)*l,S=Math.abs(h.y-_.y)*l;return bt(U(h.x-T,h.y-S),U(_.x+T,_.y+S))},equals:function(l){return l?(l=bt(l),this.min.equals(l.getTopLeft())&&this.max.equals(l.getBottomRight())):!1}};function bt(l,h){return!l||l instanceof ct?l:new ct(l,h)}function gt(l,h){if(l)for(var _=h?[l,h]:l,T=0,S=_.length;T<S;T++)this.extend(_[T])}gt.prototype={extend:function(l){var h=this._southWest,_=this._northEast,T,S;if(l instanceof At)T=l,S=l;else if(l instanceof gt){if(T=l._southWest,S=l._northEast,!T||!S)return this}else return l?this.extend(Et(l)||St(l)):this;return!h&&!_?(this._southWest=new At(T.lat,T.lng),this._northEast=new At(S.lat,S.lng)):(h.lat=Math.min(T.lat,h.lat),h.lng=Math.min(T.lng,h.lng),_.lat=Math.max(S.lat,_.lat),_.lng=Math.max(S.lng,_.lng)),this},pad:function(l){var h=this._southWest,_=this._northEast,T=Math.abs(h.lat-_.lat)*l,S=Math.abs(h.lng-_.lng)*l;return new gt(new At(h.lat-T,h.lng-S),new At(_.lat+T,_.lng+S))},getCenter:function(){return new At((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new At(this.getNorth(),this.getWest())},getSouthEast:function(){return new At(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){typeof l[0]=="number"||l instanceof At||"lat"in l?l=Et(l):l=St(l);var h=this._southWest,_=this._northEast,T,S;return l instanceof gt?(T=l.getSouthWest(),S=l.getNorthEast()):T=S=l,T.lat>=h.lat&&S.lat<=_.lat&&T.lng>=h.lng&&S.lng<=_.lng},intersects:function(l){l=St(l);var h=this._southWest,_=this._northEast,T=l.getSouthWest(),S=l.getNorthEast(),M=S.lat>=h.lat&&T.lat<=_.lat,q=S.lng>=h.lng&&T.lng<=_.lng;return M&&q},overlaps:function(l){l=St(l);var h=this._southWest,_=this._northEast,T=l.getSouthWest(),S=l.getNorthEast(),M=S.lat>h.lat&&T.lat<_.lat,q=S.lng>h.lng&&T.lng<_.lng;return M&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(l,h){return l?(l=St(l),this._southWest.equals(l.getSouthWest(),h)&&this._northEast.equals(l.getNorthEast(),h)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function St(l,h){return l instanceof gt?l:new gt(l,h)}function At(l,h,_){if(isNaN(l)||isNaN(h))throw new Error("Invalid LatLng object: ("+l+", "+h+")");this.lat=+l,this.lng=+h,_!==void 0&&(this.alt=+_)}At.prototype={equals:function(l,h){if(!l)return!1;l=Et(l);var _=Math.max(Math.abs(this.lat-l.lat),Math.abs(this.lng-l.lng));return _<=(h===void 0?1e-9:h)},toString:function(l){return"LatLng("+x(this.lat,l)+", "+x(this.lng,l)+")"},distanceTo:function(l){return ue.distance(this,Et(l))},wrap:function(){return ue.wrapLatLng(this)},toBounds:function(l){var h=180*l/40075017,_=h/Math.cos(Math.PI/180*this.lat);return St([this.lat-h,this.lng-_],[this.lat+h,this.lng+_])},clone:function(){return new At(this.lat,this.lng,this.alt)}};function Et(l,h,_){return l instanceof At?l:W(l)&&typeof l[0]!="object"?l.length===3?new At(l[0],l[1],l[2]):l.length===2?new At(l[0],l[1]):null:l==null?l:typeof l=="object"&&"lat"in l?new At(l.lat,"lng"in l?l.lng:l.lon,l.alt):h===void 0?null:new At(l,h,_)}var xe={latLngToPoint:function(l,h){var _=this.projection.project(l),T=this.scale(h);return this.transformation._transform(_,T)},pointToLatLng:function(l,h){var _=this.scale(h),T=this.transformation.untransform(l,_);return this.projection.unproject(T)},project:function(l){return this.projection.project(l)},unproject:function(l){return this.projection.unproject(l)},scale:function(l){return 256*Math.pow(2,l)},zoom:function(l){return Math.log(l/256)/Math.LN2},getProjectedBounds:function(l){if(this.infinite)return null;var h=this.projection.bounds,_=this.scale(l),T=this.transformation.transform(h.min,_),S=this.transformation.transform(h.max,_);return new ct(T,S)},infinite:!1,wrapLatLng:function(l){var h=this.wrapLng?v(l.lng,this.wrapLng,!0):l.lng,_=this.wrapLat?v(l.lat,this.wrapLat,!0):l.lat,T=l.alt;return new At(_,h,T)},wrapLatLngBounds:function(l){var h=l.getCenter(),_=this.wrapLatLng(h),T=h.lat-_.lat,S=h.lng-_.lng;if(T===0&&S===0)return l;var M=l.getSouthWest(),q=l.getNorthEast(),tt=new At(M.lat-T,M.lng-S),ot=new At(q.lat-T,q.lng-S);return new gt(tt,ot)}},ue=r({},xe,{wrapLng:[-180,180],R:6371e3,distance:function(l,h){var _=Math.PI/180,T=l.lat*_,S=h.lat*_,M=Math.sin((h.lat-l.lat)*_/2),q=Math.sin((h.lng-l.lng)*_/2),tt=M*M+Math.cos(T)*Math.cos(S)*q*q,ot=2*Math.atan2(Math.sqrt(tt),Math.sqrt(1-tt));return this.R*ot}}),yi=6378137,Fi={R:yi,MAX_LATITUDE:85.0511287798,project:function(l){var h=Math.PI/180,_=this.MAX_LATITUDE,T=Math.max(Math.min(_,l.lat),-_),S=Math.sin(T*h);return new pt(this.R*l.lng*h,this.R*Math.log((1+S)/(1-S))/2)},unproject:function(l){var h=180/Math.PI;return new At((2*Math.atan(Math.exp(l.y/this.R))-Math.PI/2)*h,l.x*h/this.R)},bounds:function(){var l=yi*Math.PI;return new ct([-l,-l],[l,l])}()};function vi(l,h,_,T){if(W(l)){this._a=l[0],this._b=l[1],this._c=l[2],this._d=l[3];return}this._a=l,this._b=h,this._c=_,this._d=T}vi.prototype={transform:function(l,h){return this._transform(l.clone(),h)},_transform:function(l,h){return h=h||1,l.x=h*(this._a*l.x+this._b),l.y=h*(this._c*l.y+this._d),l},untransform:function(l,h){return h=h||1,new pt((l.x/h-this._b)/this._a,(l.y/h-this._d)/this._c)}};function bi(l,h,_,T){return new vi(l,h,_,T)}var ds=r({},ue,{code:"EPSG:3857",projection:Fi,transformation:function(){var l=.5/(Math.PI*Fi.R);return bi(l,.5,-l,.5)}()}),yr=r({},ds,{code:"EPSG:900913"});function oa(l){return document.createElementNS("http://www.w3.org/2000/svg",l)}function Oo(l,h){var _="",T,S,M,q,tt,ot;for(T=0,M=l.length;T<M;T++){for(tt=l[T],S=0,q=tt.length;S<q;S++)ot=tt[S],_+=(S?"L":"M")+ot.x+" "+ot.y;_+=h?Ot.svg?"z":"x":""}return _||"M0 0"}var Bn=document.documentElement.style,la="ActiveXObject"in window,Do=la&&!document.addEventListener,vr="msLaunchUri"in navigator&&!("documentMode"in document),ms=jn("webkit"),Bl=jn("android"),br=jn("android 2")||jn("android 3"),ko=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ul=Bl&&jn("Google")&&ko<537&&!("AudioNode"in window),Oe=!!window.opera,me=!vr&&jn("chrome"),Un=jn("gecko")&&!ms&&!Oe&&!la,vn=!me&&jn("safari"),Lo=jn("phantom"),jl="OTransition"in Bn,Tr=navigator.platform.indexOf("Win")===0,Vs=la&&"transition"in Bn,ps="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!br,ai="MozPerspective"in Bn,ua=!window.L_DISABLE_3D&&(Vs||ps||ai)&&!jl&&!Lo,Ti=typeof orientation<"u"||jn("mobile"),No=Ti&&ms,zo=Ti&&ps,ca=!window.PointerEvent&&window.MSPointerEvent,qi=!!(window.PointerEvent||ca),Gi="ontouchstart"in window||!!window.TouchEvent,Vo=!window.L_NO_TOUCH&&(Gi||qi),Zi=Ti&&Oe,Bo=Ti&&Un,Bs=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ha=function(){var l=!1;try{var h=Object.defineProperty({},"passive",{get:function(){l=!0}});window.addEventListener("testPassiveEventSupport",E,h),window.removeEventListener("testPassiveEventSupport",E,h)}catch{}return l}(),Us=function(){return!!document.createElement("canvas").getContext}(),fa=!!(document.createElementNS&&oa("svg").createSVGRect),De=!!fa&&function(){var l=document.createElement("div");return l.innerHTML="<svg/>",(l.firstChild&&l.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$e=!fa&&function(){try{var l=document.createElement("div");l.innerHTML='<v:shape adj="1"/>';var h=l.firstChild;return h.style.behavior="url(#default#VML)",h&&typeof h.adj=="object"}catch{return!1}}(),Ke=navigator.platform.indexOf("Mac")===0,oi=navigator.platform.indexOf("Linux")===0;function jn(l){return navigator.userAgent.toLowerCase().indexOf(l)>=0}var Ot={ie:la,ielt9:Do,edge:vr,webkit:ms,android:Bl,android23:br,androidStock:Ul,opera:Oe,chrome:me,gecko:Un,safari:vn,phantom:Lo,opera12:jl,win:Tr,ie3d:Vs,webkit3d:ps,gecko3d:ai,any3d:ua,mobile:Ti,mobileWebkit:No,mobileWebkit3d:zo,msPointer:ca,pointer:qi,touch:Vo,touchNative:Gi,mobileOpera:Zi,mobileGecko:Bo,retina:Bs,passiveEvents:ha,canvas:Us,svg:fa,vml:$e,inlineSvg:De,mac:Ke,linux:oi},gs=Ot.msPointer?"MSPointerDown":"pointerdown",Uo=Ot.msPointer?"MSPointerMove":"pointermove",js=Ot.msPointer?"MSPointerUp":"pointerup",_s=Ot.msPointer?"MSPointerCancel":"pointercancel",Ei={touchstart:gs,touchmove:Uo,touchend:js,touchcancel:_s},wi={touchstart:wr,touchmove:Er,touchend:Er,touchcancel:Er},Mn={},bn=!1;function Fe(l,h,_){return h==="touchstart"&&Hl(),wi[h]?(_=wi[h].bind(this,_),l.addEventListener(Ei[h],_,!1),_):(console.warn("wrong event specified:",h),E)}function jo(l,h,_){if(!Ei[h]){console.warn("wrong event specified:",h);return}l.removeEventListener(Ei[h],_,!1)}function da(l){Mn[l.pointerId]=l}function Si(l){Mn[l.pointerId]&&(Mn[l.pointerId]=l)}function Wi(l){delete Mn[l.pointerId]}function Hl(){bn||(document.addEventListener(gs,da,!0),document.addEventListener(Uo,Si,!0),document.addEventListener(js,Wi,!0),document.addEventListener(_s,Wi,!0),bn=!0)}function Er(l,h){if(h.pointerType!==(h.MSPOINTER_TYPE_MOUSE||"mouse")){h.touches=[];for(var _ in Mn)h.touches.push(Mn[_]);h.changedTouches=[h],l(h)}}function wr(l,h){h.MSPOINTER_TYPE_TOUCH&&h.pointerType===h.MSPOINTER_TYPE_TOUCH&&Ae(h),Er(l,h)}function Fl(l){var h={},_,T;for(T in l)_=l[T],h[T]=_&&_.bind?_.bind(l):_;return l=h,h.type="dblclick",h.detail=2,h.isTrusted=!1,h._simulated=!0,h}var Hs=200;function Ki(l,h){l.addEventListener("dblclick",h);var _=0,T;function S(M){if(M.detail!==1){T=M.detail;return}if(!(M.pointerType==="mouse"||M.sourceCapabilities&&!M.sourceCapabilities.firesTouchEvents)){var q=ga(M);if(!(q.some(function(ot){return ot instanceof HTMLLabelElement&&ot.attributes.for})&&!q.some(function(ot){return ot instanceof HTMLInputElement||ot instanceof HTMLSelectElement}))){var tt=Date.now();tt-_<=Hs?(T++,T===2&&h(Fl(M))):T=1,_=tt}}}return l.addEventListener("click",S),{dblclick:h,simDblclick:S}}function hn(l,h){l.removeEventListener("dblclick",h.dblclick),l.removeEventListener("click",h.simDblclick)}var ys=xi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Fs=xi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Yi=Fs==="webkitTransition"||Fs==="OTransition"?Fs+"End":"transitionend";function Sr(l){return typeof l=="string"?document.getElementById(l):l}function Xi(l,h){var _=l.style[h]||l.currentStyle&&l.currentStyle[h];if((!_||_==="auto")&&document.defaultView){var T=document.defaultView.getComputedStyle(l,null);_=T?T[h]:null}return _==="auto"?null:_}function te(l,h,_){var T=document.createElement(l);return T.className=h||"",_&&_.appendChild(T),T}function _e(l){var h=l.parentNode;h&&h.removeChild(l)}function rn(l){for(;l.firstChild;)l.removeChild(l.firstChild)}function Qi(l){var h=l.parentNode;h&&h.lastChild!==l&&h.appendChild(l)}function qs(l){var h=l.parentNode;h&&h.firstChild!==l&&h.insertBefore(l,h.firstChild)}function Gs(l,h){if(l.classList!==void 0)return l.classList.contains(h);var _=Ve(l);return _.length>0&&new RegExp("(^|\\s)"+h+"(\\s|$)").test(_)}function Zt(l,h){if(l.classList!==void 0)for(var _=I(h),T=0,S=_.length;T<S;T++)l.classList.add(_[T]);else if(!Gs(l,h)){var M=Ve(l);Ho(l,(M?M+" ":"")+h)}}function Te(l,h){l.classList!==void 0?l.classList.remove(h):Ho(l,R((" "+Ve(l)+" ").replace(" "+h+" "," ")))}function Ho(l,h){l.className.baseVal===void 0?l.className=h:l.className.baseVal=h}function Ve(l){return l.correspondingElement&&(l=l.correspondingElement),l.className.baseVal===void 0?l.className:l.className.baseVal}function ke(l,h){"opacity"in l.style?l.style.opacity=h:"filter"in l.style&&xr(l,h)}function xr(l,h){var _=!1,T="DXImageTransform.Microsoft.Alpha";try{_=l.filters.item(T)}catch{if(h===1)return}h=Math.round(h*100),_?(_.Enabled=h!==100,_.Opacity=h):l.style.filter+=" progid:"+T+"(opacity="+h+")"}function xi(l){for(var h=document.documentElement.style,_=0;_<l.length;_++)if(l[_]in h)return l[_];return!1}function Pn(l,h,_){var T=h||new pt(0,0);l.style[ys]=(Ot.ie3d?"translate("+T.x+"px,"+T.y+"px)":"translate3d("+T.x+"px,"+T.y+"px,0)")+(_?" scale("+_+")":"")}function jt(l,h){l._leaflet_pos=h,Ot.any3d?Pn(l,h):(l.style.left=h.x+"px",l.style.top=h.y+"px")}function Jn(l){return l._leaflet_pos||new pt(0,0)}var Tn,Ai,ma;if("onselectstart"in document)Tn=function(){Nt(window,"selectstart",Ae)},Ai=function(){ce(window,"selectstart",Ae)};else{var vs=xi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Tn=function(){if(vs){var l=document.documentElement.style;ma=l[vs],l[vs]="none"}},Ai=function(){vs&&(document.documentElement.style[vs]=ma,ma=void 0)}}function Ar(){Nt(window,"dragstart",Ae)}function Fo(){ce(window,"dragstart",Ae)}var pa,Zs;function Ri(l){for(;l.tabIndex===-1;)l=l.parentNode;l.style&&(On(),pa=l,Zs=l.style.outlineStyle,l.style.outlineStyle="none",Nt(window,"keydown",On))}function On(){pa&&(pa.style.outlineStyle=Zs,pa=void 0,Zs=void 0,ce(window,"keydown",On))}function $i(l){do l=l.parentNode;while((!l.offsetWidth||!l.offsetHeight)&&l!==document.body);return l}function Ci(l){var h=l.getBoundingClientRect();return{x:h.width/l.offsetWidth||1,y:h.height/l.offsetHeight||1,boundingClientRect:h}}var qo={__proto__:null,TRANSFORM:ys,TRANSITION:Fs,TRANSITION_END:Yi,get:Sr,getStyle:Xi,create:te,remove:_e,empty:rn,toFront:Qi,toBack:qs,hasClass:Gs,addClass:Zt,removeClass:Te,setClass:Ho,getClass:Ve,setOpacity:ke,testProp:xi,setTransform:Pn,setPosition:jt,getPosition:Jn,get disableTextSelection(){return Tn},get enableTextSelection(){return Ai},disableImageDrag:Ar,enableImageDrag:Fo,preventOutline:Ri,restoreOutline:On,getSizedParentNode:$i,getScale:Ci};function Nt(l,h,_,T){if(h&&typeof h=="object")for(var S in h)bs(l,S,h[S],_);else{h=I(h);for(var M=0,q=h.length;M<q;M++)bs(l,h[M],_,T)}return this}var ti="_leaflet_events";function ce(l,h,_,T){if(arguments.length===1)li(l),delete l[ti];else if(h&&typeof h=="object")for(var S in h)ui(l,S,h[S],_);else if(h=I(h),arguments.length===2)li(l,function(tt){return ut(h,tt)!==-1});else for(var M=0,q=h.length;M<q;M++)ui(l,h[M],_,T);return this}function li(l,h){for(var _ in l[ti]){var T=_.split(/\d/)[0];(!h||h(T))&&ui(l,T,null,null,_)}}var Hn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function bs(l,h,_,T){var S=h+m(_)+(T?"_"+m(T):"");if(l[ti]&&l[ti][S])return this;var M=function(tt){return _.call(T||l,tt||window.event)},q=M;!Ot.touchNative&&Ot.pointer&&h.indexOf("touch")===0?M=Fe(l,h,M):Ot.touch&&h==="dblclick"?M=Ki(l,M):"addEventListener"in l?h==="touchstart"||h==="touchmove"||h==="wheel"||h==="mousewheel"?l.addEventListener(Hn[h]||h,M,Ot.passiveEvents?{passive:!1}:!1):h==="mouseenter"||h==="mouseleave"?(M=function(tt){tt=tt||window.event,Es(l,tt)&&q(tt)},l.addEventListener(Hn[h],M,!1)):l.addEventListener(h,q,!1):l.attachEvent("on"+h,M),l[ti]=l[ti]||{},l[ti][S]=M}function ui(l,h,_,T,S){S=S||h+m(_)+(T?"_"+m(T):"");var M=l[ti]&&l[ti][S];if(!M)return this;!Ot.touchNative&&Ot.pointer&&h.indexOf("touch")===0?jo(l,h,M):Ot.touch&&h==="dblclick"?hn(l,M):"removeEventListener"in l?l.removeEventListener(Hn[h]||h,M,!1):l.detachEvent("on"+h,M),l[ti][S]=null}function Fn(l){return l.stopPropagation?l.stopPropagation():l.originalEvent?l.originalEvent._stopped=!0:l.cancelBubble=!0,this}function Ii(l){return bs(l,"wheel",Fn),this}function Ts(l){return Nt(l,"mousedown touchstart dblclick contextmenu",Fn),l._leaflet_disable_click=!0,this}function Ae(l){return l.preventDefault?l.preventDefault():l.returnValue=!1,this}function En(l){return Ae(l),Fn(l),this}function ga(l){if(l.composedPath)return l.composedPath();for(var h=[],_=l.target;_;)h.push(_),_=_.parentNode;return h}function Je(l,h){if(!h)return new pt(l.clientX,l.clientY);var _=Ci(h),T=_.boundingClientRect;return new pt((l.clientX-T.left)/_.x-h.clientLeft,(l.clientY-T.top)/_.y-h.clientTop)}var pe=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Rr(l){return Ot.edge?l.wheelDeltaY/2:l.deltaY&&l.deltaMode===0?-l.deltaY/pe:l.deltaY&&l.deltaMode===1?-l.deltaY*20:l.deltaY&&l.deltaMode===2?-l.deltaY*60:l.deltaX||l.deltaZ?0:l.wheelDelta?(l.wheelDeltaY||l.wheelDelta)/2:l.detail&&Math.abs(l.detail)<32765?-l.detail*20:l.detail?l.detail/-32765*60:0}function Es(l,h){var _=h.relatedTarget;if(!_)return!0;try{for(;_&&_!==l;)_=_.parentNode}catch{return!1}return _!==l}var ql={__proto__:null,on:Nt,off:ce,stopPropagation:Fn,disableScrollPropagation:Ii,disableClickPropagation:Ts,preventDefault:Ae,stop:En,getPropagationPath:ga,getMousePosition:Je,getWheelDelta:Rr,isExternalTarget:Es,addListener:Nt,removeListener:ce},Cr=vt.extend({run:function(l,h,_,T){this.stop(),this._el=l,this._inProgress=!0,this._duration=_||.25,this._easeOutPower=1/Math.max(T||.5,.2),this._startPos=Jn(l),this._offset=h.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=F(this._animate,this),this._step()},_step:function(l){var h=+new Date-this._startTime,_=this._duration*1e3;h<_?this._runFrame(this._easeOut(h/_),l):(this._runFrame(1),this._complete())},_runFrame:function(l,h){var _=this._startPos.add(this._offset.multiplyBy(l));h&&_._round(),jt(this._el,_),this.fire("step")},_complete:function(){Z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(l){return 1-Math.pow(1-l,this._easeOutPower)}}),Xt=vt.extend({options:{crs:ds,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(l,h){h=O(this,h),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(l),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),h.maxBounds&&this.setMaxBounds(h.maxBounds),h.zoom!==void 0&&(this._zoom=this._limitZoom(h.zoom)),h.center&&h.zoom!==void 0&&this.setView(Et(h.center),h.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Fs&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Nt(this._proxy,Yi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(l,h,_){if(h=h===void 0?this._zoom:this._limitZoom(h),l=this._limitCenter(Et(l),h,this.options.maxBounds),_=_||{},this._stop(),this._loaded&&!_.reset&&_!==!0){_.animate!==void 0&&(_.zoom=r({animate:_.animate},_.zoom),_.pan=r({animate:_.animate,duration:_.duration},_.pan));var T=this._zoom!==h?this._tryAnimatedZoom&&this._tryAnimatedZoom(l,h,_.zoom):this._tryAnimatedPan(l,_.pan);if(T)return clearTimeout(this._sizeTimer),this}return this._resetView(l,h,_.pan&&_.pan.noMoveStart),this},setZoom:function(l,h){return this._loaded?this.setView(this.getCenter(),l,{zoom:h}):(this._zoom=l,this)},zoomIn:function(l,h){return l=l||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+l,h)},zoomOut:function(l,h){return l=l||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-l,h)},setZoomAround:function(l,h,_){var T=this.getZoomScale(h),S=this.getSize().divideBy(2),M=l instanceof pt?l:this.latLngToContainerPoint(l),q=M.subtract(S).multiplyBy(1-1/T),tt=this.containerPointToLatLng(S.add(q));return this.setView(tt,h,{zoom:_})},_getBoundsCenterZoom:function(l,h){h=h||{},l=l.getBounds?l.getBounds():St(l);var _=U(h.paddingTopLeft||h.padding||[0,0]),T=U(h.paddingBottomRight||h.padding||[0,0]),S=this.getBoundsZoom(l,!1,_.add(T));if(S=typeof h.maxZoom=="number"?Math.min(h.maxZoom,S):S,S===1/0)return{center:l.getCenter(),zoom:S};var M=T.subtract(_).divideBy(2),q=this.project(l.getSouthWest(),S),tt=this.project(l.getNorthEast(),S),ot=this.unproject(q.add(tt).divideBy(2).add(M),S);return{center:ot,zoom:S}},fitBounds:function(l,h){if(l=St(l),!l.isValid())throw new Error("Bounds are not valid.");var _=this._getBoundsCenterZoom(l,h);return this.setView(_.center,_.zoom,h)},fitWorld:function(l){return this.fitBounds([[-90,-180],[90,180]],l)},panTo:function(l,h){return this.setView(l,this._zoom,{pan:h})},panBy:function(l,h){if(l=U(l).round(),h=h||{},!l.x&&!l.y)return this.fire("moveend");if(h.animate!==!0&&!this.getSize().contains(l))return this._resetView(this.unproject(this.project(this.getCenter()).add(l)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Cr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),h.noMoveStart||this.fire("movestart"),h.animate!==!1){Zt(this._mapPane,"leaflet-pan-anim");var _=this._getMapPanePos().subtract(l).round();this._panAnim.run(this._mapPane,_,h.duration||.25,h.easeLinearity)}else this._rawPanBy(l),this.fire("move").fire("moveend");return this},flyTo:function(l,h,_){if(_=_||{},_.animate===!1||!Ot.any3d)return this.setView(l,h,_);this._stop();var T=this.project(this.getCenter()),S=this.project(l),M=this.getSize(),q=this._zoom;l=Et(l),h=h===void 0?q:h;var tt=Math.max(M.x,M.y),ot=tt*this.getZoomScale(q,h),yt=S.distanceTo(T)||1,xt=1.42,Ct=xt*xt;function Pt(Ue){var rs=Ue?-1:1,Cs=Ue?ot:tt,$s=ot*ot-tt*tt+rs*Ct*Ct*yt*yt,Is=2*Cs*Ct*yt,rl=$s/Is,iu=Math.sqrt(rl*rl+1)-rl,al=iu<1e-9?-18:Math.log(iu);return al}function Gt(Ue){return(Math.exp(Ue)-Math.exp(-Ue))/2}function Ne(Ue){return(Math.exp(Ue)+Math.exp(-Ue))/2}function qe(Ue){return Gt(Ue)/Ne(Ue)}var Sn=Pt(0);function ci(Ue){return tt*(Ne(Sn)/Ne(Sn+xt*Ue))}function uf(Ue){return tt*(Ne(Sn)*qe(Sn+xt*Ue)-Gt(Sn))/Ct}function cf(Ue){return 1-Math.pow(1-Ue,1.5)}var sl=Date.now(),Da=(Pt(1)-Sn)/xt,hf=_.duration?1e3*_.duration:1e3*Da*.8;function ka(){var Ue=(Date.now()-sl)/hf,rs=cf(Ue)*Da;Ue<=1?(this._flyToFrame=F(ka,this),this._move(this.unproject(T.add(S.subtract(T).multiplyBy(uf(rs)/yt)),q),this.getScaleZoom(tt/ci(rs),q),{flyTo:!0})):this._move(l,h)._moveEnd(!0)}return this._moveStart(!0,_.noMoveStart),ka.call(this),this},flyToBounds:function(l,h){var _=this._getBoundsCenterZoom(l,h);return this.flyTo(_.center,_.zoom,h)},setMaxBounds:function(l){return l=St(l),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),l.isValid()?(this.options.maxBounds=l,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(l){var h=this.options.minZoom;return this.options.minZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(l):this},setMaxZoom:function(l){var h=this.options.maxZoom;return this.options.maxZoom=l,this._loaded&&h!==l&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(l):this},panInsideBounds:function(l,h){this._enforcingBounds=!0;var _=this.getCenter(),T=this._limitCenter(_,this._zoom,St(l));return _.equals(T)||this.panTo(T,h),this._enforcingBounds=!1,this},panInside:function(l,h){h=h||{};var _=U(h.paddingTopLeft||h.padding||[0,0]),T=U(h.paddingBottomRight||h.padding||[0,0]),S=this.project(this.getCenter()),M=this.project(l),q=this.getPixelBounds(),tt=bt([q.min.add(_),q.max.subtract(T)]),ot=tt.getSize();if(!tt.contains(M)){this._enforcingBounds=!0;var yt=M.subtract(tt.getCenter()),xt=tt.extend(M).getSize().subtract(ot);S.x+=yt.x<0?-xt.x:xt.x,S.y+=yt.y<0?-xt.y:xt.y,this.panTo(this.unproject(S),h),this._enforcingBounds=!1}return this},invalidateSize:function(l){if(!this._loaded)return this;l=r({animate:!1,pan:!0},l===!0?{animate:!0}:l);var h=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var _=this.getSize(),T=h.divideBy(2).round(),S=_.divideBy(2).round(),M=T.subtract(S);return!M.x&&!M.y?this:(l.animate&&l.pan?this.panBy(M):(l.pan&&this._rawPanBy(M),this.fire("move"),l.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:h,newSize:_}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(l){if(l=this._locateOptions=r({timeout:1e4,watch:!1},l),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var h=c(this._handleGeolocationResponse,this),_=c(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(h,_,l):navigator.geolocation.getCurrentPosition(h,_,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){if(this._container._leaflet_id){var h=l.code,_=l.message||(h===1?"permission denied":h===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:h,message:"Geolocation error: "+_+"."})}},_handleGeolocationResponse:function(l){if(this._container._leaflet_id){var h=l.coords.latitude,_=l.coords.longitude,T=new At(h,_),S=T.toBounds(l.coords.accuracy*2),M=this._locateOptions;if(M.setView){var q=this.getBoundsZoom(S);this.setView(T,M.maxZoom?Math.min(q,M.maxZoom):q)}var tt={latlng:T,bounds:S,timestamp:l.timestamp};for(var ot in l.coords)typeof l.coords[ot]=="number"&&(tt[ot]=l.coords[ot]);this.fire("locationfound",tt)}},addHandler:function(l,h){if(!h)return this;var _=this[l]=new h(this);return this._handlers.push(_),this.options[l]&&_.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var l;for(l in this._layers)this._layers[l].remove();for(l in this._panes)_e(this._panes[l]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(l,h){var _="leaflet-pane"+(l?" leaflet-"+l.replace("Pane","")+"-pane":""),T=te("div",_,h||this._mapPane);return l&&(this._panes[l]=T),T},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),h=this.unproject(l.getBottomLeft()),_=this.unproject(l.getTopRight());return new gt(h,_)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(l,h,_){l=St(l),_=U(_||[0,0]);var T=this.getZoom()||0,S=this.getMinZoom(),M=this.getMaxZoom(),q=l.getNorthWest(),tt=l.getSouthEast(),ot=this.getSize().subtract(_),yt=bt(this.project(tt,T),this.project(q,T)).getSize(),xt=Ot.any3d?this.options.zoomSnap:1,Ct=ot.x/yt.x,Pt=ot.y/yt.y,Gt=h?Math.max(Ct,Pt):Math.min(Ct,Pt);return T=this.getScaleZoom(Gt,T),xt&&(T=Math.round(T/(xt/100))*(xt/100),T=h?Math.ceil(T/xt)*xt:Math.floor(T/xt)*xt),Math.max(S,Math.min(M,T))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(l,h){var _=this._getTopLeftPoint(l,h);return new ct(_,_.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(l){return this.options.crs.getProjectedBounds(l===void 0?this.getZoom():l)},getPane:function(l){return typeof l=="string"?this._panes[l]:l},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(l,h){var _=this.options.crs;return h=h===void 0?this._zoom:h,_.scale(l)/_.scale(h)},getScaleZoom:function(l,h){var _=this.options.crs;h=h===void 0?this._zoom:h;var T=_.zoom(l*_.scale(h));return isNaN(T)?1/0:T},project:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.latLngToPoint(Et(l),h)},unproject:function(l,h){return h=h===void 0?this._zoom:h,this.options.crs.pointToLatLng(U(l),h)},layerPointToLatLng:function(l){var h=U(l).add(this.getPixelOrigin());return this.unproject(h)},latLngToLayerPoint:function(l){var h=this.project(Et(l))._round();return h._subtract(this.getPixelOrigin())},wrapLatLng:function(l){return this.options.crs.wrapLatLng(Et(l))},wrapLatLngBounds:function(l){return this.options.crs.wrapLatLngBounds(St(l))},distance:function(l,h){return this.options.crs.distance(Et(l),Et(h))},containerPointToLayerPoint:function(l){return U(l).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(l){return U(l).add(this._getMapPanePos())},containerPointToLatLng:function(l){var h=this.containerPointToLayerPoint(U(l));return this.layerPointToLatLng(h)},latLngToContainerPoint:function(l){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(l)))},mouseEventToContainerPoint:function(l){return Je(l,this._container)},mouseEventToLayerPoint:function(l){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(l))},mouseEventToLatLng:function(l){return this.layerPointToLatLng(this.mouseEventToLayerPoint(l))},_initContainer:function(l){var h=this._container=Sr(l);if(h){if(h._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Nt(h,"scroll",this._onScroll,this),this._containerId=m(h)},_initLayout:function(){var l=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,Zt(l,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var h=Xi(l,"position");h!=="absolute"&&h!=="relative"&&h!=="fixed"&&h!=="sticky"&&(l.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var l=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),jt(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Zt(l.markerPane,"leaflet-zoom-hide"),Zt(l.shadowPane,"leaflet-zoom-hide"))},_resetView:function(l,h,_){jt(this._mapPane,new pt(0,0));var T=!this._loaded;this._loaded=!0,h=this._limitZoom(h),this.fire("viewprereset");var S=this._zoom!==h;this._moveStart(S,_)._move(l,h)._moveEnd(S),this.fire("viewreset"),T&&this.fire("load")},_moveStart:function(l,h){return l&&this.fire("zoomstart"),h||this.fire("movestart"),this},_move:function(l,h,_,T){h===void 0&&(h=this._zoom);var S=this._zoom!==h;return this._zoom=h,this._lastCenter=l,this._pixelOrigin=this._getNewPixelOrigin(l),T?_&&_.pinch&&this.fire("zoom",_):((S||_&&_.pinch)&&this.fire("zoom",_),this.fire("move",_)),this},_moveEnd:function(l){return l&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(l){jt(this._mapPane,this._getMapPanePos().subtract(l))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(l){this._targets={},this._targets[m(this._container)]=this;var h=l?ce:Nt;h(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&h(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(l?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Z(this._resizeRequest),this._resizeRequest=F(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var l=this._getMapPanePos();Math.max(Math.abs(l.x),Math.abs(l.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(l,h){for(var _=[],T,S=h==="mouseout"||h==="mouseover",M=l.target||l.srcElement,q=!1;M;){if(T=this._targets[m(M)],T&&(h==="click"||h==="preclick")&&this._draggableMoved(T)){q=!0;break}if(T&&T.listens(h,!0)&&(S&&!Es(M,l)||(_.push(T),S))||M===this._container)break;M=M.parentNode}return!_.length&&!q&&!S&&this.listens(h,!0)&&(_=[this]),_},_isClickDisabled:function(l){for(;l&&l!==this._container;){if(l._leaflet_disable_click)return!0;l=l.parentNode}},_handleDOMEvent:function(l){var h=l.target||l.srcElement;if(!(!this._loaded||h._leaflet_disable_events||l.type==="click"&&this._isClickDisabled(h))){var _=l.type;_==="mousedown"&&Ri(h),this._fireDOMEvent(l,_)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(l,h,_){if(l.type==="click"){var T=r({},l);T.type="preclick",this._fireDOMEvent(T,T.type,_)}var S=this._findEventTargets(l,h);if(_){for(var M=[],q=0;q<_.length;q++)_[q].listens(h,!0)&&M.push(_[q]);S=M.concat(S)}if(S.length){h==="contextmenu"&&Ae(l);var tt=S[0],ot={originalEvent:l};if(l.type!=="keypress"&&l.type!=="keydown"&&l.type!=="keyup"){var yt=tt.getLatLng&&(!tt._radius||tt._radius<=10);ot.containerPoint=yt?this.latLngToContainerPoint(tt.getLatLng()):this.mouseEventToContainerPoint(l),ot.layerPoint=this.containerPointToLayerPoint(ot.containerPoint),ot.latlng=yt?tt.getLatLng():this.layerPointToLatLng(ot.layerPoint)}for(q=0;q<S.length;q++)if(S[q].fire(h,ot,!0),ot.originalEvent._stopped||S[q].options.bubblingMouseEvents===!1&&ut(this._mouseEvents,h)!==-1)return}},_draggableMoved:function(l){return l=l.dragging&&l.dragging.enabled()?l:this,l.dragging&&l.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var l=0,h=this._handlers.length;l<h;l++)this._handlers[l].disable()},whenReady:function(l,h){return this._loaded?l.call(h||this,{target:this}):this.on("load",l,h),this},_getMapPanePos:function(){return Jn(this._mapPane)||new pt(0,0)},_moved:function(){var l=this._getMapPanePos();return l&&!l.equals([0,0])},_getTopLeftPoint:function(l,h){var _=l&&h!==void 0?this._getNewPixelOrigin(l,h):this.getPixelOrigin();return _.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(l,h){var _=this.getSize()._divideBy(2);return this.project(l,h)._subtract(_)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(l,h,_){var T=this._getNewPixelOrigin(_,h);return this.project(l,h)._subtract(T)},_latLngBoundsToNewLayerBounds:function(l,h,_){var T=this._getNewPixelOrigin(_,h);return bt([this.project(l.getSouthWest(),h)._subtract(T),this.project(l.getNorthWest(),h)._subtract(T),this.project(l.getSouthEast(),h)._subtract(T),this.project(l.getNorthEast(),h)._subtract(T)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(l){return this.latLngToLayerPoint(l).subtract(this._getCenterLayerPoint())},_limitCenter:function(l,h,_){if(!_)return l;var T=this.project(l,h),S=this.getSize().divideBy(2),M=new ct(T.subtract(S),T.add(S)),q=this._getBoundsOffset(M,_,h);return Math.abs(q.x)<=1&&Math.abs(q.y)<=1?l:this.unproject(T.add(q),h)},_limitOffset:function(l,h){if(!h)return l;var _=this.getPixelBounds(),T=new ct(_.min.add(l),_.max.add(l));return l.add(this._getBoundsOffset(T,h))},_getBoundsOffset:function(l,h,_){var T=bt(this.project(h.getNorthEast(),_),this.project(h.getSouthWest(),_)),S=T.min.subtract(l.min),M=T.max.subtract(l.max),q=this._rebound(S.x,-M.x),tt=this._rebound(S.y,-M.y);return new pt(q,tt)},_rebound:function(l,h){return l+h>0?Math.round(l-h)/2:Math.max(0,Math.ceil(l))-Math.max(0,Math.floor(h))},_limitZoom:function(l){var h=this.getMinZoom(),_=this.getMaxZoom(),T=Ot.any3d?this.options.zoomSnap:1;return T&&(l=Math.round(l/T)*T),Math.max(h,Math.min(_,l))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Te(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,h){var _=this._getCenterOffset(l)._trunc();return(h&&h.animate)!==!0&&!this.getSize().contains(_)?!1:(this.panBy(_,h),!0)},_createAnimProxy:function(){var l=this._proxy=te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(l),this.on("zoomanim",function(h){var _=ys,T=this._proxy.style[_];Pn(this._proxy,this.project(h.center,h.zoom),this.getZoomScale(h.zoom,1)),T===this._proxy.style[_]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var l=this.getCenter(),h=this.getZoom();Pn(this._proxy,this.project(l,h),this.getZoomScale(h,1))},_catchTransitionEnd:function(l){this._animatingZoom&&l.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,h,_){if(this._animatingZoom)return!0;if(_=_||{},!this._zoomAnimated||_.animate===!1||this._nothingToAnimate()||Math.abs(h-this._zoom)>this.options.zoomAnimationThreshold)return!1;var T=this.getZoomScale(h),S=this._getCenterOffset(l)._divideBy(1-1/T);return _.animate!==!0&&!this.getSize().contains(S)?!1:(F(function(){this._moveStart(!0,_.noMoveStart||!1)._animateZoom(l,h,!0)},this),!0)},_animateZoom:function(l,h,_,T){this._mapPane&&(_&&(this._animatingZoom=!0,this._animateToCenter=l,this._animateToZoom=h,Zt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:l,zoom:h,noUpdate:T}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Te(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ji(l,h){return new Xt(l,h)}var fn=Yt.extend({options:{position:"topright"},initialize:function(l){O(this,l)},getPosition:function(){return this.options.position},setPosition:function(l){var h=this._map;return h&&h.removeControl(this),this.options.position=l,h&&h.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this.remove(),this._map=l;var h=this._container=this.onAdd(l),_=this.getPosition(),T=l._controlCorners[_];return Zt(h,"leaflet-control"),_.indexOf("bottom")!==-1?T.insertBefore(h,T.firstChild):T.appendChild(h),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(l){this._map&&l&&l.screenX>0&&l.screenY>0&&this._map.getContainer().focus()}}),wn=function(l){return new fn(l)};Xt.include({addControl:function(l){return l.addTo(this),this},removeControl:function(l){return l.remove(),this},_initControlPos:function(){var l=this._controlCorners={},h="leaflet-",_=this._controlContainer=te("div",h+"control-container",this._container);function T(S,M){var q=h+S+" "+h+M;l[S+M]=te("div",q,_)}T("top","left"),T("top","right"),T("bottom","left"),T("bottom","right")},_clearControlPos:function(){for(var l in this._controlCorners)_e(this._controlCorners[l]);_e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Go=fn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(l,h,_,T){return _<T?-1:T<_?1:0}},initialize:function(l,h,_){O(this,_),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var T in l)this._addLayer(l[T],T);for(T in h)this._addLayer(h[T],T,!0)},onAdd:function(l){this._initLayout(),this._update(),this._map=l,l.on("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(l){return fn.prototype.addTo.call(this,l),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(l,h){return this._addLayer(l,h),this._map?this._update():this},addOverlay:function(l,h){return this._addLayer(l,h,!0),this._map?this._update():this},removeLayer:function(l){l.off("add remove",this._onLayerChange,this);var h=this._getLayer(m(l));return h&&this._layers.splice(this._layers.indexOf(h),1),this._map?this._update():this},expand:function(){Zt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var l=this._map.getSize().y-(this._container.offsetTop+50);return l<this._section.clientHeight?(Zt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=l+"px"):Te(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Te(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var l="leaflet-control-layers",h=this._container=te("div",l),_=this.options.collapsed;h.setAttribute("aria-haspopup",!0),Ts(h),Ii(h);var T=this._section=te("section",l+"-list");_&&(this._map.on("click",this.collapse,this),Nt(h,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var S=this._layersLink=te("a",l+"-toggle",h);S.href="#",S.title="Layers",S.setAttribute("role","button"),Nt(S,{keydown:function(M){M.keyCode===13&&this._expandSafely()},click:function(M){Ae(M),this._expandSafely()}},this),_||this.expand(),this._baseLayersList=te("div",l+"-base",T),this._separator=te("div",l+"-separator",T),this._overlaysList=te("div",l+"-overlays",T),h.appendChild(T)},_getLayer:function(l){for(var h=0;h<this._layers.length;h++)if(this._layers[h]&&m(this._layers[h].layer)===l)return this._layers[h]},_addLayer:function(l,h,_){this._map&&l.on("add remove",this._onLayerChange,this),this._layers.push({layer:l,name:h,overlay:_}),this.options.sortLayers&&this._layers.sort(c(function(T,S){return this.options.sortFunction(T.layer,S.layer,T.name,S.name)},this)),this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;rn(this._baseLayersList),rn(this._overlaysList),this._layerControlInputs=[];var l,h,_,T,S=0;for(_=0;_<this._layers.length;_++)T=this._layers[_],this._addItem(T),h=h||T.overlay,l=l||!T.overlay,S+=T.overlay?0:1;return this.options.hideSingleBase&&(l=l&&S>1,this._baseLayersList.style.display=l?"":"none"),this._separator.style.display=h&&l?"":"none",this},_onLayerChange:function(l){this._handlingClick||this._update();var h=this._getLayer(m(l.target)),_=h.overlay?l.type==="add"?"overlayadd":"overlayremove":l.type==="add"?"baselayerchange":null;_&&this._map.fire(_,h)},_createRadioElement:function(l,h){var _='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"'+(h?' checked="checked"':"")+"/>",T=document.createElement("div");return T.innerHTML=_,T.firstChild},_addItem:function(l){var h=document.createElement("label"),_=this._map.hasLayer(l.layer),T;l.overlay?(T=document.createElement("input"),T.type="checkbox",T.className="leaflet-control-layers-selector",T.defaultChecked=_):T=this._createRadioElement("leaflet-base-layers_"+m(this),_),this._layerControlInputs.push(T),T.layerId=m(l.layer),Nt(T,"click",this._onInputClick,this);var S=document.createElement("span");S.innerHTML=" "+l.name;var M=document.createElement("span");h.appendChild(M),M.appendChild(T),M.appendChild(S);var q=l.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(h),this._checkDisabledLayers(),h},_onInputClick:function(){if(!this._preventClick){var l=this._layerControlInputs,h,_,T=[],S=[];this._handlingClick=!0;for(var M=l.length-1;M>=0;M--)h=l[M],_=this._getLayer(h.layerId).layer,h.checked?T.push(_):h.checked||S.push(_);for(M=0;M<S.length;M++)this._map.hasLayer(S[M])&&this._map.removeLayer(S[M]);for(M=0;M<T.length;M++)this._map.hasLayer(T[M])||this._map.addLayer(T[M]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var l=this._layerControlInputs,h,_,T=this._map.getZoom(),S=l.length-1;S>=0;S--)h=l[S],_=this._getLayer(h.layerId).layer,h.disabled=_.options.minZoom!==void 0&&T<_.options.minZoom||_.options.maxZoom!==void 0&&T>_.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var l=this._section;this._preventClick=!0,Nt(l,"click",Ae),this.expand();var h=this;setTimeout(function(){ce(l,"click",Ae),h._preventClick=!1})}}),rc=function(l,h,_){return new Go(l,h,_)},ws=fn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(l){var h="leaflet-control-zoom",_=te("div",h+" leaflet-bar"),T=this.options;return this._zoomInButton=this._createButton(T.zoomInText,T.zoomInTitle,h+"-in",_,this._zoomIn),this._zoomOutButton=this._createButton(T.zoomOutText,T.zoomOutTitle,h+"-out",_,this._zoomOut),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),_},onRemove:function(l){l.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(l){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(l.shiftKey?3:1))},_zoomOut:function(l){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(l.shiftKey?3:1))},_createButton:function(l,h,_,T,S){var M=te("a",_,T);return M.innerHTML=l,M.href="#",M.title=h,M.setAttribute("role","button"),M.setAttribute("aria-label",h),Ts(M),Nt(M,"click",En),Nt(M,"click",S,this),Nt(M,"click",this._refocusOnMap,this),M},_updateDisabled:function(){var l=this._map,h="leaflet-disabled";Te(this._zoomInButton,h),Te(this._zoomOutButton,h),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||l._zoom===l.getMinZoom())&&(Zt(this._zoomOutButton,h),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||l._zoom===l.getMaxZoom())&&(Zt(this._zoomInButton,h),this._zoomInButton.setAttribute("aria-disabled","true"))}});Xt.mergeOptions({zoomControl:!0}),Xt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new ws,this.addControl(this.zoomControl))});var _a=function(l){return new ws(l)},ya=fn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(l){var h="leaflet-control-scale",_=te("div",h),T=this.options;return this._addScales(T,h+"-line",_),l.on(T.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),_},onRemove:function(l){l.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,h,_){l.metric&&(this._mScale=te("div",h,_)),l.imperial&&(this._iScale=te("div",h,_))},_update:function(){var l=this._map,h=l.getSize().y/2,_=l.distance(l.containerPointToLatLng([0,h]),l.containerPointToLatLng([this.options.maxWidth,h]));this._updateScales(_)},_updateScales:function(l){this.options.metric&&l&&this._updateMetric(l),this.options.imperial&&l&&this._updateImperial(l)},_updateMetric:function(l){var h=this._getRoundNum(l),_=h<1e3?h+" m":h/1e3+" km";this._updateScale(this._mScale,_,h/l)},_updateImperial:function(l){var h=l*3.2808399,_,T,S;h>5280?(_=h/5280,T=this._getRoundNum(_),this._updateScale(this._iScale,T+" mi",T/_)):(S=this._getRoundNum(h),this._updateScale(this._iScale,S+" ft",S/h))},_updateScale:function(l,h,_){l.style.width=Math.round(this.options.maxWidth*_)+"px",l.innerHTML=h},_getRoundNum:function(l){var h=Math.pow(10,(Math.floor(l)+"").length-1),_=l/h;return _=_>=10?10:_>=5?5:_>=3?3:_>=2?2:1,h*_}}),va=function(l){return new ya(l)},Gl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ws=fn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?Gl+" ":"")+"Leaflet</a>"},initialize:function(l){O(this,l),this._attributions={}},onAdd:function(l){l.attributionControl=this,this._container=te("div","leaflet-control-attribution"),Ts(this._container);for(var h in l._layers)l._layers[h].getAttribution&&this.addAttribution(l._layers[h].getAttribution());return this._update(),l.on("layeradd",this._addAttribution,this),this._container},onRemove:function(l){l.off("layeradd",this._addAttribution,this)},_addAttribution:function(l){l.layer.getAttribution&&(this.addAttribution(l.layer.getAttribution()),l.layer.once("remove",function(){this.removeAttribution(l.layer.getAttribution())},this))},setPrefix:function(l){return this.options.prefix=l,this._update(),this},addAttribution:function(l){return l?(this._attributions[l]||(this._attributions[l]=0),this._attributions[l]++,this._update(),this):this},removeAttribution:function(l){return l?(this._attributions[l]&&(this._attributions[l]--,this._update()),this):this},_update:function(){if(this._map){var l=[];for(var h in this._attributions)this._attributions[h]&&l.push(h);var _=[];this.options.prefix&&_.push(this.options.prefix),l.length&&_.push(l.join(", ")),this._container.innerHTML=_.join(' <span aria-hidden="true">|</span> ')}}});Xt.mergeOptions({attributionControl:!0}),Xt.addInitHook(function(){this.options.attributionControl&&new Ws().addTo(this)});var ac=function(l){return new Ws(l)};fn.Layers=Go,fn.Zoom=ws,fn.Scale=ya,fn.Attribution=Ws,wn.layers=rc,wn.zoom=_a,wn.scale=va,wn.attribution=ac;var qn=Yt.extend({initialize:function(l){this._map=l},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qn.addTo=function(l,h){return l.addHandler(h,this),this};var Ir={Events:it},Zo=Ot.touch?"touchstart mousedown":"mousedown",Mi=vt.extend({options:{clickTolerance:3},initialize:function(l,h,_,T){O(this,T),this._element=l,this._dragStartTarget=h||l,this._preventOutline=_},enable:function(){this._enabled||(Nt(this._dragStartTarget,Zo,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Mi._dragging===this&&this.finishDrag(!0),ce(this._dragStartTarget,Zo,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(l){if(this._enabled&&(this._moved=!1,!Gs(this._element,"leaflet-zoom-anim"))){if(l.touches&&l.touches.length!==1){Mi._dragging===this&&this.finishDrag();return}if(!(Mi._dragging||l.shiftKey||l.which!==1&&l.button!==1&&!l.touches)&&(Mi._dragging=this,this._preventOutline&&Ri(this._element),Ar(),Tn(),!this._moving)){this.fire("down");var h=l.touches?l.touches[0]:l,_=$i(this._element);this._startPoint=new pt(h.clientX,h.clientY),this._startPos=Jn(this._element),this._parentScale=Ci(_);var T=l.type==="mousedown";Nt(document,T?"mousemove":"touchmove",this._onMove,this),Nt(document,T?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(l){if(this._enabled){if(l.touches&&l.touches.length>1){this._moved=!0;return}var h=l.touches&&l.touches.length===1?l.touches[0]:l,_=new pt(h.clientX,h.clientY)._subtract(this._startPoint);!_.x&&!_.y||Math.abs(_.x)+Math.abs(_.y)<this.options.clickTolerance||(_.x/=this._parentScale.x,_.y/=this._parentScale.y,Ae(l),this._moved||(this.fire("dragstart"),this._moved=!0,Zt(document.body,"leaflet-dragging"),this._lastTarget=l.target||l.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Zt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(_),this._moving=!0,this._lastEvent=l,this._updatePosition())}},_updatePosition:function(){var l={originalEvent:this._lastEvent};this.fire("predrag",l),jt(this._element,this._newPos),this.fire("drag",l)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(l){Te(document.body,"leaflet-dragging"),this._lastTarget&&(Te(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ce(document,"mousemove touchmove",this._onMove,this),ce(document,"mouseup touchend touchcancel",this._onUp,this),Fo(),Ai();var h=this._moved&&this._moving;this._moving=!1,Mi._dragging=!1,h&&this.fire("dragend",{noInertia:l,distance:this._newPos.distanceTo(this._startPos)})}});function ba(l,h,_){var T,S=[1,4,2,8],M,q,tt,ot,yt,xt,Ct,Pt;for(M=0,xt=l.length;M<xt;M++)l[M]._code=ts(l[M],h);for(tt=0;tt<4;tt++){for(Ct=S[tt],T=[],M=0,xt=l.length,q=xt-1;M<xt;q=M++)ot=l[M],yt=l[q],ot._code&Ct?yt._code&Ct||(Pt=an(yt,ot,Ct,h,_),Pt._code=ts(Pt,h),T.push(Pt)):(yt._code&Ct&&(Pt=an(yt,ot,Ct,h,_),Pt._code=ts(Pt,h),T.push(Pt)),T.push(ot));l=T}return l}function Ks(l,h){var _,T,S,M,q,tt,ot,yt,xt;if(!l||l.length===0)throw new Error("latlngs not passed");g(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var Ct=Et([0,0]),Pt=St(l),Gt=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Gt<1700&&(Ct=Ta(l));var Ne=l.length,qe=[];for(_=0;_<Ne;_++){var Sn=Et(l[_]);qe.push(h.project(Et([Sn.lat-Ct.lat,Sn.lng-Ct.lng])))}for(tt=ot=yt=0,_=0,T=Ne-1;_<Ne;T=_++)S=qe[_],M=qe[T],q=S.y*M.x-M.y*S.x,ot+=(S.x+M.x)*q,yt+=(S.y+M.y)*q,tt+=q*3;tt===0?xt=qe[0]:xt=[ot/tt,yt/tt];var ci=h.unproject(U(xt));return Et([ci.lat+Ct.lat,ci.lng+Ct.lng])}function Ta(l){for(var h=0,_=0,T=0,S=0;S<l.length;S++){var M=Et(l[S]);h+=M.lat,_+=M.lng,T++}return Et([h/T,_/T])}var Ea={__proto__:null,clipPolygon:ba,polygonCenter:Ks,centroid:Ta};function Wo(l,h){if(!h||!l.length)return l.slice();var _=h*h;return l=Wl(l,_),l=Zl(l,_),l}function wa(l,h,_){return Math.sqrt(Gn(l,h,_,!0))}function Ss(l,h,_){return Gn(l,h,_)}function Zl(l,h){var _=l.length,T=typeof Uint8Array<"u"?Uint8Array:Array,S=new T(_);S[0]=S[_-1]=1,Sa(l,S,h,0,_-1);var M,q=[];for(M=0;M<_;M++)S[M]&&q.push(l[M]);return q}function Sa(l,h,_,T,S){var M=0,q,tt,ot;for(tt=T+1;tt<=S-1;tt++)ot=Gn(l[tt],l[T],l[S],!0),ot>M&&(q=tt,M=ot);M>_&&(h[q]=1,Sa(l,h,_,T,q),Sa(l,h,_,q,S))}function Wl(l,h){for(var _=[l[0]],T=1,S=0,M=l.length;T<M;T++)Kl(l[T],l[S])>h&&(_.push(l[T]),S=T);return S<M-1&&_.push(l[M-1]),_}var Ko;function Mr(l,h,_,T,S){var M=T?Ko:ts(l,_),q=ts(h,_),tt,ot,yt;for(Ko=q;;){if(!(M|q))return[l,h];if(M&q)return!1;tt=M||q,ot=an(l,h,tt,_,S),yt=ts(ot,_),tt===M?(l=ot,M=yt):(h=ot,q=yt)}}function an(l,h,_,T,S){var M=h.x-l.x,q=h.y-l.y,tt=T.min,ot=T.max,yt,xt;return _&8?(yt=l.x+M*(ot.y-l.y)/q,xt=ot.y):_&4?(yt=l.x+M*(tt.y-l.y)/q,xt=tt.y):_&2?(yt=ot.x,xt=l.y+q*(ot.x-l.x)/M):_&1&&(yt=tt.x,xt=l.y+q*(tt.x-l.x)/M),new pt(yt,xt,S)}function ts(l,h){var _=0;return l.x<h.min.x?_|=1:l.x>h.max.x&&(_|=2),l.y<h.min.y?_|=4:l.y>h.max.y&&(_|=8),_}function Kl(l,h){var _=h.x-l.x,T=h.y-l.y;return _*_+T*T}function Gn(l,h,_,T){var S=h.x,M=h.y,q=_.x-S,tt=_.y-M,ot=q*q+tt*tt,yt;return ot>0&&(yt=((l.x-S)*q+(l.y-M)*tt)/ot,yt>1?(S=_.x,M=_.y):yt>0&&(S+=q*yt,M+=tt*yt)),q=l.x-S,tt=l.y-M,T?q*q+tt*tt:new pt(S,M)}function g(l){return!W(l[0])||typeof l[0][0]!="object"&&typeof l[0][0]<"u"}function w(l){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),g(l)}function A(l,h){var _,T,S,M,q,tt,ot,yt;if(!l||l.length===0)throw new Error("latlngs not passed");g(l)||(console.warn("latlngs are not flat! Only the first ring will be used"),l=l[0]);var xt=Et([0,0]),Ct=St(l),Pt=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());Pt<1700&&(xt=Ta(l));var Gt=l.length,Ne=[];for(_=0;_<Gt;_++){var qe=Et(l[_]);Ne.push(h.project(Et([qe.lat-xt.lat,qe.lng-xt.lng])))}for(_=0,T=0;_<Gt-1;_++)T+=Ne[_].distanceTo(Ne[_+1])/2;if(T===0)yt=Ne[0];else for(_=0,M=0;_<Gt-1;_++)if(q=Ne[_],tt=Ne[_+1],S=q.distanceTo(tt),M+=S,M>T){ot=(M-T)/S,yt=[tt.x-ot*(tt.x-q.x),tt.y-ot*(tt.y-q.y)];break}var Sn=h.unproject(U(yt));return Et([Sn.lat+xt.lat,Sn.lng+xt.lng])}var N={__proto__:null,simplify:Wo,pointToSegmentDistance:wa,closestPointOnSegment:Ss,clipSegment:Mr,_getEdgeIntersection:an,_getBitCode:ts,_sqClosestPointOnSegment:Gn,isFlat:g,_flat:w,polylineCenter:A},J={project:function(l){return new pt(l.lng,l.lat)},unproject:function(l){return new At(l.y,l.x)},bounds:new ct([-180,-90],[180,90])},lt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ct([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(l){var h=Math.PI/180,_=this.R,T=l.lat*h,S=this.R_MINOR/_,M=Math.sqrt(1-S*S),q=M*Math.sin(T),tt=Math.tan(Math.PI/4-T/2)/Math.pow((1-q)/(1+q),M/2);return T=-_*Math.log(Math.max(tt,1e-10)),new pt(l.lng*h*_,T)},unproject:function(l){for(var h=180/Math.PI,_=this.R,T=this.R_MINOR/_,S=Math.sqrt(1-T*T),M=Math.exp(-l.y/_),q=Math.PI/2-2*Math.atan(M),tt=0,ot=.1,yt;tt<15&&Math.abs(ot)>1e-7;tt++)yt=S*Math.sin(q),yt=Math.pow((1-yt)/(1+yt),S/2),ot=Math.PI/2-2*Math.atan(M*yt)-q,q+=ot;return new At(q*h,l.x*h/_)}},wt={__proto__:null,LonLat:J,Mercator:lt,SphericalMercator:Fi},re=r({},ue,{code:"EPSG:3395",projection:lt,transformation:function(){var l=.5/(Math.PI*lt.R);return bi(l,.5,-l,.5)}()}),Ye=r({},ue,{code:"EPSG:4326",projection:J,transformation:bi(1/180,1,-1/180,.5)}),ae=r({},xe,{projection:J,transformation:bi(1,0,-1,0),scale:function(l){return Math.pow(2,l)},zoom:function(l){return Math.log(l)/Math.LN2},distance:function(l,h){var _=h.lng-l.lng,T=h.lat-l.lat;return Math.sqrt(_*_+T*T)},infinite:!0});xe.Earth=ue,xe.EPSG3395=re,xe.EPSG3857=ds,xe.EPSG900913=yr,xe.EPSG4326=Ye,xe.Simple=ae;var ye=vt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(l){return l.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(l){return l&&l.removeLayer(this),this},getPane:function(l){return this._map.getPane(l?this.options[l]||l:this.options.pane)},addInteractiveTarget:function(l){return this._map._targets[m(l)]=this,this},removeInteractiveTarget:function(l){return delete this._map._targets[m(l)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(l){var h=l.target;if(h.hasLayer(this)){if(this._map=h,this._zoomAnimated=h._zoomAnimated,this.getEvents){var _=this.getEvents();h.on(_,this),this.once("remove",function(){h.off(_,this)},this)}this.onAdd(h),this.fire("add"),h.fire("layeradd",{layer:this})}}});Xt.include({addLayer:function(l){if(!l._layerAdd)throw new Error("The provided object is not a Layer.");var h=m(l);return this._layers[h]?this:(this._layers[h]=l,l._mapToAdd=this,l.beforeAdd&&l.beforeAdd(this),this.whenReady(l._layerAdd,l),this)},removeLayer:function(l){var h=m(l);return this._layers[h]?(this._loaded&&l.onRemove(this),delete this._layers[h],this._loaded&&(this.fire("layerremove",{layer:l}),l.fire("remove")),l._map=l._mapToAdd=null,this):this},hasLayer:function(l){return m(l)in this._layers},eachLayer:function(l,h){for(var _ in this._layers)l.call(h,this._layers[_]);return this},_addLayers:function(l){l=l?W(l)?l:[l]:[];for(var h=0,_=l.length;h<_;h++)this.addLayer(l[h])},_addZoomLimit:function(l){(!isNaN(l.options.maxZoom)||!isNaN(l.options.minZoom))&&(this._zoomBoundLayers[m(l)]=l,this._updateZoomLevels())},_removeZoomLimit:function(l){var h=m(l);this._zoomBoundLayers[h]&&(delete this._zoomBoundLayers[h],this._updateZoomLevels())},_updateZoomLevels:function(){var l=1/0,h=-1/0,_=this._getZoomSpan();for(var T in this._zoomBoundLayers){var S=this._zoomBoundLayers[T].options;l=S.minZoom===void 0?l:Math.min(l,S.minZoom),h=S.maxZoom===void 0?h:Math.max(h,S.maxZoom)}this._layersMaxZoom=h===-1/0?void 0:h,this._layersMinZoom=l===1/0?void 0:l,_!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Le=ye.extend({initialize:function(l,h){O(this,h),this._layers={};var _,T;if(l)for(_=0,T=l.length;_<T;_++)this.addLayer(l[_])},addLayer:function(l){var h=this.getLayerId(l);return this._layers[h]=l,this._map&&this._map.addLayer(l),this},removeLayer:function(l){var h=l in this._layers?l:this.getLayerId(l);return this._map&&this._layers[h]&&this._map.removeLayer(this._layers[h]),delete this._layers[h],this},hasLayer:function(l){var h=typeof l=="number"?l:this.getLayerId(l);return h in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(l){var h=Array.prototype.slice.call(arguments,1),_,T;for(_ in this._layers)T=this._layers[_],T[l]&&T[l].apply(T,h);return this},onAdd:function(l){this.eachLayer(l.addLayer,l)},onRemove:function(l){this.eachLayer(l.removeLayer,l)},eachLayer:function(l,h){for(var _ in this._layers)l.call(h,this._layers[_]);return this},getLayer:function(l){return this._layers[l]},getLayers:function(){var l=[];return this.eachLayer(l.push,l),l},setZIndex:function(l){return this.invoke("setZIndex",l)},getLayerId:function(l){return m(l)}}),xs=function(l,h){return new Le(l,h)},Me=Le.extend({addLayer:function(l){return this.hasLayer(l)?this:(l.addEventParent(this),Le.prototype.addLayer.call(this,l),this.fire("layeradd",{layer:l}))},removeLayer:function(l){return this.hasLayer(l)?(l in this._layers&&(l=this._layers[l]),l.removeEventParent(this),Le.prototype.removeLayer.call(this,l),this.fire("layerremove",{layer:l})):this},setStyle:function(l){return this.invoke("setStyle",l)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var l=new gt;for(var h in this._layers){var _=this._layers[h];l.extend(_.getBounds?_.getBounds():_.getLatLng())}return l}}),es=function(l,h){return new Me(l,h)},ns=Yt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(l){O(this,l)},createIcon:function(l){return this._createIcon("icon",l)},createShadow:function(l){return this._createIcon("shadow",l)},_createIcon:function(l,h){var _=this._getIconUrl(l);if(!_){if(l==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var T=this._createImg(_,h&&h.tagName==="IMG"?h:null);return this._setIconStyles(T,l),(this.options.crossOrigin||this.options.crossOrigin==="")&&(T.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),T},_setIconStyles:function(l,h){var _=this.options,T=_[h+"Size"];typeof T=="number"&&(T=[T,T]);var S=U(T),M=U(h==="shadow"&&_.shadowAnchor||_.iconAnchor||S&&S.divideBy(2,!0));l.className="leaflet-marker-"+h+" "+(_.className||""),M&&(l.style.marginLeft=-M.x+"px",l.style.marginTop=-M.y+"px"),S&&(l.style.width=S.x+"px",l.style.height=S.y+"px")},_createImg:function(l,h){return h=h||document.createElement("img"),h.src=l,h},_getIconUrl:function(l){return Ot.retina&&this.options[l+"RetinaUrl"]||this.options[l+"Url"]}});function Yl(l){return new ns(l)}var xa=ns.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(l){return typeof xa.imagePath!="string"&&(xa.imagePath=this._detectIconPath()),(this.options.imagePath||xa.imagePath)+ns.prototype._getIconUrl.call(this,l)},_stripUrl:function(l){var h=function(_,T,S){var M=T.exec(_);return M&&M[S]};return l=h(l,/^url\((['"])?(.+)\1\)$/,2),l&&h(l,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var l=te("div","leaflet-default-icon-path",document.body),h=Xi(l,"background-image")||Xi(l,"backgroundImage");if(document.body.removeChild(l),h=this._stripUrl(h),h)return h;var _=document.querySelector('link[href$="leaflet.css"]');return _?_.href.substring(0,_.href.length-11-1):""}}),oc=qn.extend({initialize:function(l){this._marker=l},addHooks:function(){var l=this._marker._icon;this._draggable||(this._draggable=new Mi(l,l,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Zt(l,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Te(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(l){var h=this._marker,_=h._map,T=this._marker.options.autoPanSpeed,S=this._marker.options.autoPanPadding,M=Jn(h._icon),q=_.getPixelBounds(),tt=_.getPixelOrigin(),ot=bt(q.min._subtract(tt).add(S),q.max._subtract(tt).subtract(S));if(!ot.contains(M)){var yt=U((Math.max(ot.max.x,M.x)-ot.max.x)/(q.max.x-ot.max.x)-(Math.min(ot.min.x,M.x)-ot.min.x)/(q.min.x-ot.min.x),(Math.max(ot.max.y,M.y)-ot.max.y)/(q.max.y-ot.max.y)-(Math.min(ot.min.y,M.y)-ot.min.y)/(q.min.y-ot.min.y)).multiplyBy(T);_.panBy(yt,{animate:!1}),this._draggable._newPos._add(yt),this._draggable._startPos._add(yt),jt(h._icon,this._draggable._newPos),this._onDrag(l),this._panRequest=F(this._adjustPan.bind(this,l))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(l){this._marker.options.autoPan&&(Z(this._panRequest),this._panRequest=F(this._adjustPan.bind(this,l)))},_onDrag:function(l){var h=this._marker,_=h._shadow,T=Jn(h._icon),S=h._map.layerPointToLatLng(T);_&&jt(_,T),h._latlng=S,l.latlng=S,l.oldLatLng=this._oldLatLng,h.fire("move",l).fire("drag",l)},_onDragEnd:function(l){Z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",l)}}),Aa=ye.extend({options:{icon:new xa,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(l,h){O(this,h),this._latlng=Et(l)},onAdd:function(l){this._zoomAnimated=this._zoomAnimated&&l.options.markerZoomAnimation,this._zoomAnimated&&l.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(l){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&l.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(l){var h=this._latlng;return this._latlng=Et(l),this.update(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},setZIndexOffset:function(l){return this.options.zIndexOffset=l,this.update()},getIcon:function(){return this.options.icon},setIcon:function(l){return this.options.icon=l,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var l=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(l)}return this},_initIcon:function(){var l=this.options,h="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),_=l.icon.createIcon(this._icon),T=!1;_!==this._icon&&(this._icon&&this._removeIcon(),T=!0,l.title&&(_.title=l.title),_.tagName==="IMG"&&(_.alt=l.alt||"")),Zt(_,h),l.keyboard&&(_.tabIndex="0",_.setAttribute("role","button")),this._icon=_,l.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(_,"focus",this._panOnFocus,this);var S=l.icon.createShadow(this._shadow),M=!1;S!==this._shadow&&(this._removeShadow(),M=!0),S&&(Zt(S,h),S.alt=""),this._shadow=S,l.opacity<1&&this._updateOpacity(),T&&this.getPane().appendChild(this._icon),this._initInteraction(),S&&M&&this.getPane(l.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ce(this._icon,"focus",this._panOnFocus,this),_e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_e(this._shadow),this._shadow=null},_setPos:function(l){this._icon&&jt(this._icon,l),this._shadow&&jt(this._shadow,l),this._zIndex=l.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(l){this._icon&&(this._icon.style.zIndex=this._zIndex+l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center).round();this._setPos(h)},_initInteraction:function(){if(this.options.interactive&&(Zt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),oc)){var l=this.options.draggable;this.dragging&&(l=this.dragging.enabled(),this.dragging.disable()),this.dragging=new oc(this),l&&this.dragging.enable()}},setOpacity:function(l){return this.options.opacity=l,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var l=this.options.opacity;this._icon&&ke(this._icon,l),this._shadow&&ke(this._shadow,l)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var l=this._map;if(l){var h=this.options.icon.options,_=h.iconSize?U(h.iconSize):U(0,0),T=h.iconAnchor?U(h.iconAnchor):U(0,0);l.panInside(this._latlng,{paddingTopLeft:T,paddingBottomRight:_.subtract(T)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function lc(l,h){return new Aa(l,h)}var As=ye.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(l){this._renderer=l.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(l){return O(this,l),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&l&&Object.prototype.hasOwnProperty.call(l,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Yo=As.extend({options:{fill:!0,radius:10},initialize:function(l,h){O(this,h),this._latlng=Et(l),this._radius=this.options.radius},setLatLng:function(l){var h=this._latlng;return this._latlng=Et(l),this.redraw(),this.fire("move",{oldLatLng:h,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(l){return this.options.radius=this._radius=l,this.redraw()},getRadius:function(){return this._radius},setStyle:function(l){var h=l&&l.radius||this._radius;return As.prototype.setStyle.call(this,l),this.setRadius(h),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var l=this._radius,h=this._radiusY||l,_=this._clickTolerance(),T=[l+_,h+_];this._pxBounds=new ct(this._point.subtract(T),this._point.add(T))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(l){return l.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function nf(l,h){return new Yo(l,h)}var uc=Yo.extend({initialize:function(l,h,_){if(typeof h=="number"&&(h=r({},_,{radius:h})),O(this,h),this._latlng=Et(l),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(l){return this._mRadius=l,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var l=[this._radius,this._radiusY||this._radius];return new gt(this._map.layerPointToLatLng(this._point.subtract(l)),this._map.layerPointToLatLng(this._point.add(l)))},setStyle:As.prototype.setStyle,_project:function(){var l=this._latlng.lng,h=this._latlng.lat,_=this._map,T=_.options.crs;if(T.distance===ue.distance){var S=Math.PI/180,M=this._mRadius/ue.R/S,q=_.project([h+M,l]),tt=_.project([h-M,l]),ot=q.add(tt).divideBy(2),yt=_.unproject(ot).lat,xt=Math.acos((Math.cos(M*S)-Math.sin(h*S)*Math.sin(yt*S))/(Math.cos(h*S)*Math.cos(yt*S)))/S;(isNaN(xt)||xt===0)&&(xt=M/Math.cos(Math.PI/180*h)),this._point=ot.subtract(_.getPixelOrigin()),this._radius=isNaN(xt)?0:ot.x-_.project([yt,l-xt]).x,this._radiusY=ot.y-q.y}else{var Ct=T.unproject(T.project(this._latlng).subtract([this._mRadius,0]));this._point=_.latLngToLayerPoint(this._latlng),this._radius=this._point.x-_.latLngToLayerPoint(Ct).x}this._updateBounds()}});function Jm(l,h,_){return new uc(l,h,_)}var Rs=As.extend({options:{smoothFactor:1,noClip:!1},initialize:function(l,h){O(this,h),this._setLatLngs(l)},getLatLngs:function(){return this._latlngs},setLatLngs:function(l){return this._setLatLngs(l),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(l){for(var h=1/0,_=null,T=Gn,S,M,q=0,tt=this._parts.length;q<tt;q++)for(var ot=this._parts[q],yt=1,xt=ot.length;yt<xt;yt++){S=ot[yt-1],M=ot[yt];var Ct=T(l,S,M,!0);Ct<h&&(h=Ct,_=T(l,S,M))}return _&&(_.distance=Math.sqrt(h)),_},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return A(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(l,h){return h=h||this._defaultShape(),l=Et(l),h.push(l),this._bounds.extend(l),this.redraw()},_setLatLngs:function(l){this._bounds=new gt,this._latlngs=this._convertLatLngs(l)},_defaultShape:function(){return g(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(l){for(var h=[],_=g(l),T=0,S=l.length;T<S;T++)_?(h[T]=Et(l[T]),this._bounds.extend(h[T])):h[T]=this._convertLatLngs(l[T]);return h},_project:function(){var l=new ct;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,l),this._bounds.isValid()&&l.isValid()&&(this._rawPxBounds=l,this._updateBounds())},_updateBounds:function(){var l=this._clickTolerance(),h=new pt(l,l);this._rawPxBounds&&(this._pxBounds=new ct([this._rawPxBounds.min.subtract(h),this._rawPxBounds.max.add(h)]))},_projectLatlngs:function(l,h,_){var T=l[0]instanceof At,S=l.length,M,q;if(T){for(q=[],M=0;M<S;M++)q[M]=this._map.latLngToLayerPoint(l[M]),_.extend(q[M]);h.push(q)}else for(M=0;M<S;M++)this._projectLatlngs(l[M],h,_)},_clipPoints:function(){var l=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}var h=this._parts,_,T,S,M,q,tt,ot;for(_=0,S=0,M=this._rings.length;_<M;_++)for(ot=this._rings[_],T=0,q=ot.length;T<q-1;T++)tt=Mr(ot[T],ot[T+1],l,T,!0),tt&&(h[S]=h[S]||[],h[S].push(tt[0]),(tt[1]!==ot[T+1]||T===q-2)&&(h[S].push(tt[1]),S++))}},_simplifyPoints:function(){for(var l=this._parts,h=this.options.smoothFactor,_=0,T=l.length;_<T;_++)l[_]=Wo(l[_],h)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(l,h){var _,T,S,M,q,tt,ot=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(_=0,M=this._parts.length;_<M;_++)for(tt=this._parts[_],T=0,q=tt.length,S=q-1;T<q;S=T++)if(!(!h&&T===0)&&wa(l,tt[S],tt[T])<=ot)return!0;return!1}});function tp(l,h){return new Rs(l,h)}Rs._flat=w;var Ra=Rs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ks(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(l){var h=Rs.prototype._convertLatLngs.call(this,l),_=h.length;return _>=2&&h[0]instanceof At&&h[0].equals(h[_-1])&&h.pop(),h},_setLatLngs:function(l){Rs.prototype._setLatLngs.call(this,l),g(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return g(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var l=this._renderer._bounds,h=this.options.weight,_=new pt(h,h);if(l=new ct(l.min.subtract(_),l.max.add(_)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(l))){if(this.options.noClip){this._parts=this._rings;return}for(var T=0,S=this._rings.length,M;T<S;T++)M=ba(this._rings[T],l,!0),M.length&&this._parts.push(M)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(l){var h=!1,_,T,S,M,q,tt,ot,yt;if(!this._pxBounds||!this._pxBounds.contains(l))return!1;for(M=0,ot=this._parts.length;M<ot;M++)for(_=this._parts[M],q=0,yt=_.length,tt=yt-1;q<yt;tt=q++)T=_[q],S=_[tt],T.y>l.y!=S.y>l.y&&l.x<(S.x-T.x)*(l.y-T.y)/(S.y-T.y)+T.x&&(h=!h);return h||Rs.prototype._containsPoint.call(this,l,!0)}});function ei(l,h){return new Ra(l,h)}var ni=Me.extend({initialize:function(l,h){O(this,h),this._layers={},l&&this.addData(l)},addData:function(l){var h=W(l)?l:l.features,_,T,S;if(h){for(_=0,T=h.length;_<T;_++)S=h[_],(S.geometries||S.geometry||S.features||S.coordinates)&&this.addData(S);return this}var M=this.options;if(M.filter&&!M.filter(l))return this;var q=Xo(l,M);return q?(q.feature=Ca(l),q.defaultOptions=q.options,this.resetStyle(q),M.onEachFeature&&M.onEachFeature(l,q),this.addLayer(q)):this},resetStyle:function(l){return l===void 0?this.eachLayer(this.resetStyle,this):(l.options=r({},l.defaultOptions),this._setLayerStyle(l,this.options.style),this)},setStyle:function(l){return this.eachLayer(function(h){this._setLayerStyle(h,l)},this)},_setLayerStyle:function(l,h){l.setStyle&&(typeof h=="function"&&(h=h(l.feature)),l.setStyle(h))}});function Xo(l,h){var _=l.type==="Feature"?l.geometry:l,T=_?_.coordinates:null,S=[],M=h&&h.pointToLayer,q=h&&h.coordsToLatLng||Xl,tt,ot,yt,xt;if(!T&&!_)return null;switch(_.type){case"Point":return tt=q(T),cc(M,l,tt,h);case"MultiPoint":for(yt=0,xt=T.length;yt<xt;yt++)tt=q(T[yt]),S.push(cc(M,l,tt,h));return new Me(S);case"LineString":case"MultiLineString":return ot=Qo(T,_.type==="LineString"?0:1,q),new Rs(ot,h);case"Polygon":case"MultiPolygon":return ot=Qo(T,_.type==="Polygon"?1:2,q),new Ra(ot,h);case"GeometryCollection":for(yt=0,xt=_.geometries.length;yt<xt;yt++){var Ct=Xo({geometry:_.geometries[yt],type:"Feature",properties:l.properties},h);Ct&&S.push(Ct)}return new Me(S);case"FeatureCollection":for(yt=0,xt=_.features.length;yt<xt;yt++){var Pt=Xo(_.features[yt],h);Pt&&S.push(Pt)}return new Me(S);default:throw new Error("Invalid GeoJSON object.")}}function cc(l,h,_,T){return l?l(h,_):new Aa(_,T&&T.markersInheritOptions&&T)}function Xl(l){return new At(l[1],l[0],l[2])}function Qo(l,h,_){for(var T=[],S=0,M=l.length,q;S<M;S++)q=h?Qo(l[S],h-1,_):(_||Xl)(l[S]),T.push(q);return T}function $o(l,h){return l=Et(l),l.alt!==void 0?[x(l.lng,h),x(l.lat,h),x(l.alt,h)]:[x(l.lng,h),x(l.lat,h)]}function Ql(l,h,_,T){for(var S=[],M=0,q=l.length;M<q;M++)S.push(h?Ql(l[M],g(l[M])?0:h-1,_,T):$o(l[M],T));return!h&&_&&S.length>0&&S.push(S[0].slice()),S}function Pi(l,h){return l.feature?r({},l.feature,{geometry:h}):Ca(h)}function Ca(l){return l.type==="Feature"||l.type==="FeatureCollection"?l:{type:"Feature",properties:{},geometry:l}}var Pr={toGeoJSON:function(l){return Pi(this,{type:"Point",coordinates:$o(this.getLatLng(),l)})}};Aa.include(Pr),uc.include(Pr),Yo.include(Pr),Rs.include({toGeoJSON:function(l){var h=!g(this._latlngs),_=Ql(this._latlngs,h?1:0,!1,l);return Pi(this,{type:(h?"Multi":"")+"LineString",coordinates:_})}}),Ra.include({toGeoJSON:function(l){var h=!g(this._latlngs),_=h&&!g(this._latlngs[0]),T=Ql(this._latlngs,_?2:h?1:0,!0,l);return h||(T=[T]),Pi(this,{type:(_?"Multi":"")+"Polygon",coordinates:T})}}),Le.include({toMultiPoint:function(l){var h=[];return this.eachLayer(function(_){h.push(_.toGeoJSON(l).geometry.coordinates)}),Pi(this,{type:"MultiPoint",coordinates:h})},toGeoJSON:function(l){var h=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(h==="MultiPoint")return this.toMultiPoint(l);var _=h==="GeometryCollection",T=[];return this.eachLayer(function(S){if(S.toGeoJSON){var M=S.toGeoJSON(l);if(_)T.push(M.geometry);else{var q=Ca(M);q.type==="FeatureCollection"?T.push.apply(T,q.features):T.push(q)}}}),_?Pi(this,{geometries:T,type:"GeometryCollection"}):{type:"FeatureCollection",features:T}}});function $l(l,h){return new ni(l,h)}var sf=$l,is=ye.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(l,h,_){this._url=l,this._bounds=St(h),O(this,_)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Zt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(l){return this.options.opacity=l,this._image&&this._updateOpacity(),this},setStyle:function(l){return l.opacity&&this.setOpacity(l.opacity),this},bringToFront:function(){return this._map&&Qi(this._image),this},bringToBack:function(){return this._map&&qs(this._image),this},setUrl:function(l){return this._url=l,this._image&&(this._image.src=l),this},setBounds:function(l){return this._bounds=St(l),this._map&&this._reset(),this},getEvents:function(){var l={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var l=this._url.tagName==="IMG",h=this._image=l?this._url:te("img");if(Zt(h,"leaflet-image-layer"),this._zoomAnimated&&Zt(h,"leaflet-zoom-animated"),this.options.className&&Zt(h,this.options.className),h.onselectstart=E,h.onmousemove=E,h.onload=c(this.fire,this,"load"),h.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),l){this._url=h.src;return}h.src=this._url,h.alt=this.options.alt},_animateZoom:function(l){var h=this._map.getZoomScale(l.zoom),_=this._map._latLngBoundsToNewLayerBounds(this._bounds,l.zoom,l.center).min;Pn(this._image,_,h)},_reset:function(){var l=this._image,h=new ct(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),_=h.getSize();jt(l,h.min),l.style.width=_.x+"px",l.style.height=_.y+"px"},_updateOpacity:function(){ke(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var l=this.options.errorOverlayUrl;l&&this._url!==l&&(this._url=l,this._image.src=l)},getCenter:function(){return this._bounds.getCenter()}}),Ia=function(l,h,_){return new is(l,h,_)},Jl=is.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var l=this._url.tagName==="VIDEO",h=this._image=l?this._url:te("video");if(Zt(h,"leaflet-image-layer"),this._zoomAnimated&&Zt(h,"leaflet-zoom-animated"),this.options.className&&Zt(h,this.options.className),h.onselectstart=E,h.onmousemove=E,h.onloadeddata=c(this.fire,this,"load"),l){for(var _=h.getElementsByTagName("source"),T=[],S=0;S<_.length;S++)T.push(_[S].src);this._url=_.length>0?T:[h.src];return}W(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(h.style,"objectFit")&&(h.style.objectFit="fill"),h.autoplay=!!this.options.autoplay,h.loop=!!this.options.loop,h.muted=!!this.options.muted,h.playsInline=!!this.options.playsInline;for(var M=0;M<this._url.length;M++){var q=te("source");q.src=this._url[M],h.appendChild(q)}}});function rf(l,h,_){return new Jl(l,h,_)}var Ys=is.extend({_initImage:function(){var l=this._image=this._url;Zt(l,"leaflet-image-layer"),this._zoomAnimated&&Zt(l,"leaflet-zoom-animated"),this.options.className&&Zt(l,this.options.className),l.onselectstart=E,l.onmousemove=E}});function af(l,h,_){return new Ys(l,h,_)}var Oi=ye.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(l,h){l&&(l instanceof At||W(l))?(this._latlng=Et(l),O(this,h)):(O(this,l),this._source=h),this.options.content&&(this._content=this.options.content)},openOn:function(l){return l=arguments.length?l:this._source._map,l.hasLayer(this)||l.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(l){return this._map?this.close():(arguments.length?this._source=l:l=this._source,this._prepareOpen(),this.openOn(l._map)),this},onAdd:function(l){this._zoomAnimated=l._zoomAnimated,this._container||this._initLayout(),l._fadeAnimated&&ke(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),l._fadeAnimated&&ke(this._container,1),this.bringToFront(),this.options.interactive&&(Zt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(l){l._fadeAnimated?(ke(this._container,0),this._removeTimeout=setTimeout(c(_e,void 0,this._container),200)):_e(this._container),this.options.interactive&&(Te(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(l){return this._latlng=Et(l),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(l){return this._content=l,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var l={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Qi(this._container),this},bringToBack:function(){return this._map&&qs(this._container),this},_prepareOpen:function(l){var h=this._source;if(!h._map)return!1;if(h instanceof Me){h=null;var _=this._source._layers;for(var T in _)if(_[T]._map){h=_[T];break}if(!h)return!1;this._source=h}if(!l)if(h.getCenter)l=h.getCenter();else if(h.getLatLng)l=h.getLatLng();else if(h.getBounds)l=h.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(l),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var l=this._contentNode,h=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof h=="string")l.innerHTML=h;else{for(;l.hasChildNodes();)l.removeChild(l.firstChild);l.appendChild(h)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),h=U(this.options.offset),_=this._getAnchor();this._zoomAnimated?jt(this._container,l.add(_)):h=h.add(l).add(_);var T=this._containerBottom=-h.y,S=this._containerLeft=-Math.round(this._containerWidth/2)+h.x;this._container.style.bottom=T+"px",this._container.style.left=S+"px"}},_getAnchor:function(){return[0,0]}});Xt.include({_initOverlay:function(l,h,_,T){var S=h;return S instanceof l||(S=new l(T).setContent(h)),_&&S.setLatLng(_),S}}),ye.include({_initOverlay:function(l,h,_,T){var S=_;return S instanceof l?(O(S,T),S._source=this):(S=h&&!T?h:new l(T,this),S.setContent(_)),S}});var Jo=Oi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(l){return l=arguments.length?l:this._source._map,!l.hasLayer(this)&&l._popup&&l._popup.options.autoClose&&l.removeLayer(l._popup),l._popup=this,Oi.prototype.openOn.call(this,l)},onAdd:function(l){Oi.prototype.onAdd.call(this,l),l.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof As||this._source.on("preclick",Fn))},onRemove:function(l){Oi.prototype.onRemove.call(this,l),l.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof As||this._source.off("preclick",Fn))},getEvents:function(){var l=Oi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(l.preclick=this.close),this.options.keepInView&&(l.moveend=this._adjustPan),l},_initLayout:function(){var l="leaflet-popup",h=this._container=te("div",l+" "+(this.options.className||"")+" leaflet-zoom-animated"),_=this._wrapper=te("div",l+"-content-wrapper",h);if(this._contentNode=te("div",l+"-content",_),Ts(h),Ii(this._contentNode),Nt(h,"contextmenu",Fn),this._tipContainer=te("div",l+"-tip-container",h),this._tip=te("div",l+"-tip",this._tipContainer),this.options.closeButton){var T=this._closeButton=te("a",l+"-close-button",h);T.setAttribute("role","button"),T.setAttribute("aria-label","Close popup"),T.href="#close",T.innerHTML='<span aria-hidden="true">&#215;</span>',Nt(T,"click",function(S){Ae(S),this.close()},this)}},_updateLayout:function(){var l=this._contentNode,h=l.style;h.width="",h.whiteSpace="nowrap";var _=l.offsetWidth;_=Math.min(_,this.options.maxWidth),_=Math.max(_,this.options.minWidth),h.width=_+1+"px",h.whiteSpace="",h.height="";var T=l.offsetHeight,S=this.options.maxHeight,M="leaflet-popup-scrolled";S&&T>S?(h.height=S+"px",Zt(l,M)):Te(l,M),this._containerWidth=this._container.offsetWidth},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center),_=this._getAnchor();jt(this._container,h.add(_))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var l=this._map,h=parseInt(Xi(this._container,"marginBottom"),10)||0,_=this._container.offsetHeight+h,T=this._containerWidth,S=new pt(this._containerLeft,-_-this._containerBottom);S._add(Jn(this._container));var M=l.layerPointToContainerPoint(S),q=U(this.options.autoPanPadding),tt=U(this.options.autoPanPaddingTopLeft||q),ot=U(this.options.autoPanPaddingBottomRight||q),yt=l.getSize(),xt=0,Ct=0;M.x+T+ot.x>yt.x&&(xt=M.x+T-yt.x+ot.x),M.x-xt-tt.x<0&&(xt=M.x-tt.x),M.y+_+ot.y>yt.y&&(Ct=M.y+_-yt.y+ot.y),M.y-Ct-tt.y<0&&(Ct=M.y-tt.y),(xt||Ct)&&(this.options.keepInView&&(this._autopanning=!0),l.fire("autopanstart").panBy([xt,Ct]))}},_getAnchor:function(){return U(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ep=function(l,h){return new Jo(l,h)};Xt.mergeOptions({closePopupOnClick:!0}),Xt.include({openPopup:function(l,h,_){return this._initOverlay(Jo,l,h,_).openOn(this),this},closePopup:function(l){return l=arguments.length?l:this._popup,l&&l.close(),this}}),ye.include({bindPopup:function(l,h){return this._popup=this._initOverlay(Jo,this._popup,l,h),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(l){return this._popup&&(this instanceof Me||(this._popup._source=this),this._popup._prepareOpen(l||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(l){return this._popup&&this._popup.setContent(l),this},getPopup:function(){return this._popup},_openPopup:function(l){if(!(!this._popup||!this._map)){En(l);var h=l.layer||l.target;if(this._popup._source===h&&!(h instanceof As)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(l.latlng);return}this._popup._source=h,this.openPopup(l.latlng)}},_movePopup:function(l){this._popup.setLatLng(l.latlng)},_onKeyPress:function(l){l.originalEvent.keyCode===13&&this._openPopup(l)}});var tu=Oi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(l){Oi.prototype.onAdd.call(this,l),this.setOpacity(this.options.opacity),l.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(l){Oi.prototype.onRemove.call(this,l),l.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var l=Oi.prototype.getEvents.call(this);return this.options.permanent||(l.preclick=this.close),l},_initLayout:function(){var l="leaflet-tooltip",h=l+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=te("div",h),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+m(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(l){var h,_,T=this._map,S=this._container,M=T.latLngToContainerPoint(T.getCenter()),q=T.layerPointToContainerPoint(l),tt=this.options.direction,ot=S.offsetWidth,yt=S.offsetHeight,xt=U(this.options.offset),Ct=this._getAnchor();tt==="top"?(h=ot/2,_=yt):tt==="bottom"?(h=ot/2,_=0):tt==="center"?(h=ot/2,_=yt/2):tt==="right"?(h=0,_=yt/2):tt==="left"?(h=ot,_=yt/2):q.x<M.x?(tt="right",h=0,_=yt/2):(tt="left",h=ot+(xt.x+Ct.x)*2,_=yt/2),l=l.subtract(U(h,_,!0)).add(xt).add(Ct),Te(S,"leaflet-tooltip-right"),Te(S,"leaflet-tooltip-left"),Te(S,"leaflet-tooltip-top"),Te(S,"leaflet-tooltip-bottom"),Zt(S,"leaflet-tooltip-"+tt),jt(S,l)},_updatePosition:function(){var l=this._map.latLngToLayerPoint(this._latlng);this._setPosition(l)},setOpacity:function(l){this.options.opacity=l,this._container&&ke(this._container,l)},_animateZoom:function(l){var h=this._map._latLngToNewLayerPoint(this._latlng,l.zoom,l.center);this._setPosition(h)},_getAnchor:function(){return U(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),np=function(l,h){return new tu(l,h)};Xt.include({openTooltip:function(l,h,_){return this._initOverlay(tu,l,h,_).openOn(this),this},closeTooltip:function(l){return l.close(),this}}),ye.include({bindTooltip:function(l,h){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(tu,this._tooltip,l,h),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(l){if(!(!l&&this._tooltipHandlersAdded)){var h=l?"off":"on",_={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?_.add=this._openTooltip:(_.mouseover=this._openTooltip,_.mouseout=this.closeTooltip,_.click=this._openTooltip,this._map?this._addFocusListeners():_.add=this._addFocusListeners),this._tooltip.options.sticky&&(_.mousemove=this._moveTooltip),this[h](_),this._tooltipHandlersAdded=!l}},openTooltip:function(l){return this._tooltip&&(this instanceof Me||(this._tooltip._source=this),this._tooltip._prepareOpen(l)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(l){return this._tooltip&&this._tooltip.setContent(l),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&(Nt(h,"focus",function(){this._tooltip._source=l,this.openTooltip()},this),Nt(h,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(l){var h=typeof l.getElement=="function"&&l.getElement();h&&h.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(l){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var h=this;this._map.once("moveend",function(){h._openOnceFlag=!1,h._openTooltip(l)});return}this._tooltip._source=l.layer||l.target,this.openTooltip(this._tooltip.options.sticky?l.latlng:void 0)}},_moveTooltip:function(l){var h=l.latlng,_,T;this._tooltip.options.sticky&&l.originalEvent&&(_=this._map.mouseEventToContainerPoint(l.originalEvent),T=this._map.containerPointToLayerPoint(_),h=this._map.layerPointToLatLng(T)),this._tooltip.setLatLng(h)}});var hc=ns.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(l){var h=l&&l.tagName==="DIV"?l:document.createElement("div"),_=this.options;if(_.html instanceof Element?(rn(h),h.appendChild(_.html)):h.innerHTML=_.html!==!1?_.html:"",_.bgPos){var T=U(_.bgPos);h.style.backgroundPosition=-T.x+"px "+-T.y+"px"}return this._setIconStyles(h,"icon"),h},createShadow:function(){return null}});function of(l){return new hc(l)}ns.Default=xa;var Or=ye.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(l){O(this,l)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(l){l._addZoomLimit(this)},onRemove:function(l){this._removeAllTiles(),_e(this._container),l._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Qi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(qs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(l){return this.options.opacity=l,this._updateOpacity(),this},setZIndex:function(l){return this.options.zIndex=l,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var l=this._clampZoom(this._map.getZoom());l!==this._tileZoom&&(this._tileZoom=l,this._updateLevels()),this._update()}return this},getEvents:function(){var l={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),l.move=this._onMove),this._zoomAnimated&&(l.zoomanim=this._animateZoom),l},createTile:function(){return document.createElement("div")},getTileSize:function(){var l=this.options.tileSize;return l instanceof pt?l:new pt(l,l)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(l){for(var h=this.getPane().children,_=-l(-1/0,1/0),T=0,S=h.length,M;T<S;T++)M=h[T].style.zIndex,h[T]!==this._container&&M&&(_=l(_,+M));isFinite(_)&&(this.options.zIndex=_+l(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){ke(this._container,this.options.opacity);var l=+new Date,h=!1,_=!1;for(var T in this._tiles){var S=this._tiles[T];if(!(!S.current||!S.loaded)){var M=Math.min(1,(l-S.loaded)/200);ke(S.el,M),M<1?h=!0:(S.active?_=!0:this._onOpaqueTile(S),S.active=!0)}}_&&!this._noPrune&&this._pruneTiles(),h&&(Z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this))}},_onOpaqueTile:E,_initContainer:function(){this._container||(this._container=te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var l=this._tileZoom,h=this.options.maxZoom;if(l!==void 0){for(var _ in this._levels)_=Number(_),this._levels[_].el.children.length||_===l?(this._levels[_].el.style.zIndex=h-Math.abs(l-_),this._onUpdateLevel(_)):(_e(this._levels[_].el),this._removeTilesAtZoom(_),this._onRemoveLevel(_),delete this._levels[_]);var T=this._levels[l],S=this._map;return T||(T=this._levels[l]={},T.el=te("div","leaflet-tile-container leaflet-zoom-animated",this._container),T.el.style.zIndex=h,T.origin=S.project(S.unproject(S.getPixelOrigin()),l).round(),T.zoom=l,this._setZoomTransform(T,S.getCenter(),S.getZoom()),E(T.el.offsetWidth),this._onCreateLevel(T)),this._level=T,T}},_onUpdateLevel:E,_onRemoveLevel:E,_onCreateLevel:E,_pruneTiles:function(){if(this._map){var l,h,_=this._map.getZoom();if(_>this.options.maxZoom||_<this.options.minZoom){this._removeAllTiles();return}for(l in this._tiles)h=this._tiles[l],h.retain=h.current;for(l in this._tiles)if(h=this._tiles[l],h.current&&!h.active){var T=h.coords;this._retainParent(T.x,T.y,T.z,T.z-5)||this._retainChildren(T.x,T.y,T.z,T.z+2)}for(l in this._tiles)this._tiles[l].retain||this._removeTile(l)}},_removeTilesAtZoom:function(l){for(var h in this._tiles)this._tiles[h].coords.z===l&&this._removeTile(h)},_removeAllTiles:function(){for(var l in this._tiles)this._removeTile(l)},_invalidateAll:function(){for(var l in this._levels)_e(this._levels[l].el),this._onRemoveLevel(Number(l)),delete this._levels[l];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(l,h,_,T){var S=Math.floor(l/2),M=Math.floor(h/2),q=_-1,tt=new pt(+S,+M);tt.z=+q;var ot=this._tileCoordsToKey(tt),yt=this._tiles[ot];return yt&&yt.active?(yt.retain=!0,!0):(yt&&yt.loaded&&(yt.retain=!0),q>T?this._retainParent(S,M,q,T):!1)},_retainChildren:function(l,h,_,T){for(var S=2*l;S<2*l+2;S++)for(var M=2*h;M<2*h+2;M++){var q=new pt(S,M);q.z=_+1;var tt=this._tileCoordsToKey(q),ot=this._tiles[tt];if(ot&&ot.active){ot.retain=!0;continue}else ot&&ot.loaded&&(ot.retain=!0);_+1<T&&this._retainChildren(S,M,_+1,T)}},_resetView:function(l){var h=l&&(l.pinch||l.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),h,h)},_animateZoom:function(l){this._setView(l.center,l.zoom,!0,l.noUpdate)},_clampZoom:function(l){var h=this.options;return h.minNativeZoom!==void 0&&l<h.minNativeZoom?h.minNativeZoom:h.maxNativeZoom!==void 0&&h.maxNativeZoom<l?h.maxNativeZoom:l},_setView:function(l,h,_,T){var S=Math.round(h);this.options.maxZoom!==void 0&&S>this.options.maxZoom||this.options.minZoom!==void 0&&S<this.options.minZoom?S=void 0:S=this._clampZoom(S);var M=this.options.updateWhenZooming&&S!==this._tileZoom;(!T||M)&&(this._tileZoom=S,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),S!==void 0&&this._update(l),_||this._pruneTiles(),this._noPrune=!!_),this._setZoomTransforms(l,h)},_setZoomTransforms:function(l,h){for(var _ in this._levels)this._setZoomTransform(this._levels[_],l,h)},_setZoomTransform:function(l,h,_){var T=this._map.getZoomScale(_,l.zoom),S=l.origin.multiplyBy(T).subtract(this._map._getNewPixelOrigin(h,_)).round();Ot.any3d?Pn(l.el,S,T):jt(l.el,S)},_resetGrid:function(){var l=this._map,h=l.options.crs,_=this._tileSize=this.getTileSize(),T=this._tileZoom,S=this._map.getPixelWorldBounds(this._tileZoom);S&&(this._globalTileRange=this._pxBoundsToTileRange(S)),this._wrapX=h.wrapLng&&!this.options.noWrap&&[Math.floor(l.project([0,h.wrapLng[0]],T).x/_.x),Math.ceil(l.project([0,h.wrapLng[1]],T).x/_.y)],this._wrapY=h.wrapLat&&!this.options.noWrap&&[Math.floor(l.project([h.wrapLat[0],0],T).y/_.x),Math.ceil(l.project([h.wrapLat[1],0],T).y/_.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(l){var h=this._map,_=h._animatingZoom?Math.max(h._animateToZoom,h.getZoom()):h.getZoom(),T=h.getZoomScale(_,this._tileZoom),S=h.project(l,this._tileZoom).floor(),M=h.getSize().divideBy(T*2);return new ct(S.subtract(M),S.add(M))},_update:function(l){var h=this._map;if(h){var _=this._clampZoom(h.getZoom());if(l===void 0&&(l=h.getCenter()),this._tileZoom!==void 0){var T=this._getTiledPixelBounds(l),S=this._pxBoundsToTileRange(T),M=S.getCenter(),q=[],tt=this.options.keepBuffer,ot=new ct(S.getBottomLeft().subtract([tt,-tt]),S.getTopRight().add([tt,-tt]));if(!(isFinite(S.min.x)&&isFinite(S.min.y)&&isFinite(S.max.x)&&isFinite(S.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var yt in this._tiles){var xt=this._tiles[yt].coords;(xt.z!==this._tileZoom||!ot.contains(new pt(xt.x,xt.y)))&&(this._tiles[yt].current=!1)}if(Math.abs(_-this._tileZoom)>1){this._setView(l,_);return}for(var Ct=S.min.y;Ct<=S.max.y;Ct++)for(var Pt=S.min.x;Pt<=S.max.x;Pt++){var Gt=new pt(Pt,Ct);if(Gt.z=this._tileZoom,!!this._isValidTile(Gt)){var Ne=this._tiles[this._tileCoordsToKey(Gt)];Ne?Ne.current=!0:q.push(Gt)}}if(q.sort(function(Sn,ci){return Sn.distanceTo(M)-ci.distanceTo(M)}),q.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var qe=document.createDocumentFragment();for(Pt=0;Pt<q.length;Pt++)this._addTile(q[Pt],qe);this._level.el.appendChild(qe)}}}},_isValidTile:function(l){var h=this._map.options.crs;if(!h.infinite){var _=this._globalTileRange;if(!h.wrapLng&&(l.x<_.min.x||l.x>_.max.x)||!h.wrapLat&&(l.y<_.min.y||l.y>_.max.y))return!1}if(!this.options.bounds)return!0;var T=this._tileCoordsToBounds(l);return St(this.options.bounds).overlaps(T)},_keyToBounds:function(l){return this._tileCoordsToBounds(this._keyToTileCoords(l))},_tileCoordsToNwSe:function(l){var h=this._map,_=this.getTileSize(),T=l.scaleBy(_),S=T.add(_),M=h.unproject(T,l.z),q=h.unproject(S,l.z);return[M,q]},_tileCoordsToBounds:function(l){var h=this._tileCoordsToNwSe(l),_=new gt(h[0],h[1]);return this.options.noWrap||(_=this._map.wrapLatLngBounds(_)),_},_tileCoordsToKey:function(l){return l.x+":"+l.y+":"+l.z},_keyToTileCoords:function(l){var h=l.split(":"),_=new pt(+h[0],+h[1]);return _.z=+h[2],_},_removeTile:function(l){var h=this._tiles[l];h&&(_e(h.el),delete this._tiles[l],this.fire("tileunload",{tile:h.el,coords:this._keyToTileCoords(l)}))},_initTile:function(l){Zt(l,"leaflet-tile");var h=this.getTileSize();l.style.width=h.x+"px",l.style.height=h.y+"px",l.onselectstart=E,l.onmousemove=E,Ot.ielt9&&this.options.opacity<1&&ke(l,this.options.opacity)},_addTile:function(l,h){var _=this._getTilePos(l),T=this._tileCoordsToKey(l),S=this.createTile(this._wrapCoords(l),c(this._tileReady,this,l));this._initTile(S),this.createTile.length<2&&F(c(this._tileReady,this,l,null,S)),jt(S,_),this._tiles[T]={el:S,coords:l,current:!0},h.appendChild(S),this.fire("tileloadstart",{tile:S,coords:l})},_tileReady:function(l,h,_){h&&this.fire("tileerror",{error:h,tile:_,coords:l});var T=this._tileCoordsToKey(l);_=this._tiles[T],_&&(_.loaded=+new Date,this._map._fadeAnimated?(ke(_.el,0),Z(this._fadeFrame),this._fadeFrame=F(this._updateOpacity,this)):(_.active=!0,this._pruneTiles()),h||(Zt(_.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:_.el,coords:l})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?F(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(l){return l.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(l){var h=new pt(this._wrapX?v(l.x,this._wrapX):l.x,this._wrapY?v(l.y,this._wrapY):l.y);return h.z=l.z,h},_pxBoundsToTileRange:function(l){var h=this.getTileSize();return new ct(l.min.unscaleBy(h).floor(),l.max.unscaleBy(h).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var l in this._tiles)if(!this._tiles[l].loaded)return!1;return!0}});function Di(l){return new Or(l)}var Dr=Or.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(l,h){this._url=l,h=O(this,h),h.detectRetina&&Ot.retina&&h.maxZoom>0?(h.tileSize=Math.floor(h.tileSize/2),h.zoomReverse?(h.zoomOffset--,h.minZoom=Math.min(h.maxZoom,h.minZoom+1)):(h.zoomOffset++,h.maxZoom=Math.max(h.minZoom,h.maxZoom-1)),h.minZoom=Math.max(0,h.minZoom)):h.zoomReverse?h.minZoom=Math.min(h.maxZoom,h.minZoom):h.maxZoom=Math.max(h.minZoom,h.maxZoom),typeof h.subdomains=="string"&&(h.subdomains=h.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(l,h){return this._url===l&&h===void 0&&(h=!0),this._url=l,h||this.redraw(),this},createTile:function(l,h){var _=document.createElement("img");return Nt(_,"load",c(this._tileOnLoad,this,h,_)),Nt(_,"error",c(this._tileOnError,this,h,_)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(_.referrerPolicy=this.options.referrerPolicy),_.alt="",_.src=this.getTileUrl(l),_},getTileUrl:function(l){var h={r:Ot.retina?"@2x":"",s:this._getSubdomain(l),x:l.x,y:l.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var _=this._globalTileRange.max.y-l.y;this.options.tms&&(h.y=_),h["-y"]=_}return K(this._url,r(h,this.options))},_tileOnLoad:function(l,h){Ot.ielt9?setTimeout(c(l,this,null,h),0):l(null,h)},_tileOnError:function(l,h,_){var T=this.options.errorTileUrl;T&&h.getAttribute("src")!==T&&(h.src=T),l(_,h)},_onTileRemove:function(l){l.tile.onload=null},_getZoomForUrl:function(){var l=this._tileZoom,h=this.options.maxZoom,_=this.options.zoomReverse,T=this.options.zoomOffset;return _&&(l=h-l),l+T},_getSubdomain:function(l){var h=Math.abs(l.x+l.y)%this.options.subdomains.length;return this.options.subdomains[h]},_abortLoading:function(){var l,h;for(l in this._tiles)if(this._tiles[l].coords.z!==this._tileZoom&&(h=this._tiles[l].el,h.onload=E,h.onerror=E,!h.complete)){h.src=et;var _=this._tiles[l].coords;_e(h),delete this._tiles[l],this.fire("tileabort",{tile:h,coords:_})}},_removeTile:function(l){var h=this._tiles[l];if(h)return h.el.setAttribute("src",et),Or.prototype._removeTile.call(this,l)},_tileReady:function(l,h,_){if(!(!this._map||_&&_.getAttribute("src")===et))return Or.prototype._tileReady.call(this,l,h,_)}});function ii(l,h){return new Dr(l,h)}var si=Dr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(l,h){this._url=l;var _=r({},this.defaultWmsParams);for(var T in h)T in this.options||(_[T]=h[T]);h=O(this,h);var S=h.detectRetina&&Ot.retina?2:1,M=this.getTileSize();_.width=M.x*S,_.height=M.y*S,this.wmsParams=_},onAdd:function(l){this._crs=this.options.crs||l.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var h=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[h]=this._crs.code,Dr.prototype.onAdd.call(this,l)},getTileUrl:function(l){var h=this._tileCoordsToNwSe(l),_=this._crs,T=bt(_.project(h[0]),_.project(h[1])),S=T.min,M=T.max,q=(this._wmsVersion>=1.3&&this._crs===Ye?[S.y,S.x,M.y,M.x]:[S.x,S.y,M.x,M.y]).join(","),tt=Dr.prototype.getTileUrl.call(this,l);return tt+D(this.wmsParams,tt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+q},setParams:function(l,h){return r(this.wmsParams,l),h||this.redraw(),this}});function Ma(l,h){return new si(l,h)}Dr.WMS=si,ii.wms=Ma;var ki=ye.extend({options:{padding:.1},initialize:function(l){O(this,l),m(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Zt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var l={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(l.zoomanim=this._onAnimZoom),l},_onAnimZoom:function(l){this._updateTransform(l.center,l.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(l,h){var _=this._map.getZoomScale(h,this._zoom),T=this._map.getSize().multiplyBy(.5+this.options.padding),S=this._map.project(this._center,h),M=T.multiplyBy(-_).add(S).subtract(this._map._getNewPixelOrigin(l,h));Ot.any3d?Pn(this._container,M,_):jt(this._container,M)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var l in this._layers)this._layers[l]._reset()},_onZoomEnd:function(){for(var l in this._layers)this._layers[l]._project()},_updatePaths:function(){for(var l in this._layers)this._layers[l]._update()},_update:function(){var l=this.options.padding,h=this._map.getSize(),_=this._map.containerPointToLayerPoint(h.multiplyBy(-l)).round();this._bounds=new ct(_,_.add(h.multiplyBy(1+l*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),tl=ki.extend({options:{tolerance:0},getEvents:function(){var l=ki.prototype.getEvents.call(this);return l.viewprereset=this._onViewPreReset,l},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ki.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var l=this._container=document.createElement("canvas");Nt(l,"mousemove",this._onMouseMove,this),Nt(l,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Nt(l,"mouseout",this._handleMouseOut,this),l._leaflet_disable_events=!0,this._ctx=l.getContext("2d")},_destroyContainer:function(){Z(this._redrawRequest),delete this._ctx,_e(this._container),ce(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var l;this._redrawBounds=null;for(var h in this._layers)l=this._layers[h],l._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var l=this._bounds,h=this._container,_=l.getSize(),T=Ot.retina?2:1;jt(h,l.min),h.width=T*_.x,h.height=T*_.y,h.style.width=_.x+"px",h.style.height=_.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-l.min.x,-l.min.y),this.fire("update")}},_reset:function(){ki.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(l){this._updateDashArray(l),this._layers[m(l)]=l;var h=l._order={layer:l,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=h),this._drawLast=h,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(l){this._requestRedraw(l)},_removePath:function(l){var h=l._order,_=h.next,T=h.prev;_?_.prev=T:this._drawLast=T,T?T.next=_:this._drawFirst=_,delete l._order,delete this._layers[m(l)],this._requestRedraw(l)},_updatePath:function(l){this._extendRedrawBounds(l),l._project(),l._update(),this._requestRedraw(l)},_updateStyle:function(l){this._updateDashArray(l),this._requestRedraw(l)},_updateDashArray:function(l){if(typeof l.options.dashArray=="string"){var h=l.options.dashArray.split(/[, ]+/),_=[],T,S;for(S=0;S<h.length;S++){if(T=Number(h[S]),isNaN(T))return;_.push(T)}l.options._dashArray=_}else l.options._dashArray=l.options.dashArray},_requestRedraw:function(l){this._map&&(this._extendRedrawBounds(l),this._redrawRequest=this._redrawRequest||F(this._redraw,this))},_extendRedrawBounds:function(l){if(l._pxBounds){var h=(l.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ct,this._redrawBounds.extend(l._pxBounds.min.subtract([h,h])),this._redrawBounds.extend(l._pxBounds.max.add([h,h]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var l=this._redrawBounds;if(l){var h=l.getSize();this._ctx.clearRect(l.min.x,l.min.y,h.x,h.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var l,h=this._redrawBounds;if(this._ctx.save(),h){var _=h.getSize();this._ctx.beginPath(),this._ctx.rect(h.min.x,h.min.y,_.x,_.y),this._ctx.clip()}this._drawing=!0;for(var T=this._drawFirst;T;T=T.next)l=T.layer,(!h||l._pxBounds&&l._pxBounds.intersects(h))&&l._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(l,h){if(this._drawing){var _,T,S,M,q=l._parts,tt=q.length,ot=this._ctx;if(tt){for(ot.beginPath(),_=0;_<tt;_++){for(T=0,S=q[_].length;T<S;T++)M=q[_][T],ot[T?"lineTo":"moveTo"](M.x,M.y);h&&ot.closePath()}this._fillStroke(ot,l)}}},_updateCircle:function(l){if(!(!this._drawing||l._empty())){var h=l._point,_=this._ctx,T=Math.max(Math.round(l._radius),1),S=(Math.max(Math.round(l._radiusY),1)||T)/T;S!==1&&(_.save(),_.scale(1,S)),_.beginPath(),_.arc(h.x,h.y/S,T,0,Math.PI*2,!1),S!==1&&_.restore(),this._fillStroke(_,l)}},_fillStroke:function(l,h){var _=h.options;_.fill&&(l.globalAlpha=_.fillOpacity,l.fillStyle=_.fillColor||_.color,l.fill(_.fillRule||"evenodd")),_.stroke&&_.weight!==0&&(l.setLineDash&&l.setLineDash(h.options&&h.options._dashArray||[]),l.globalAlpha=_.opacity,l.lineWidth=_.weight,l.strokeStyle=_.color,l.lineCap=_.lineCap,l.lineJoin=_.lineJoin,l.stroke())},_onClick:function(l){for(var h=this._map.mouseEventToLayerPoint(l),_,T,S=this._drawFirst;S;S=S.next)_=S.layer,_.options.interactive&&_._containsPoint(h)&&(!(l.type==="click"||l.type==="preclick")||!this._map._draggableMoved(_))&&(T=_);this._fireEvent(T?[T]:!1,l)},_onMouseMove:function(l){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var h=this._map.mouseEventToLayerPoint(l);this._handleMouseHover(l,h)}},_handleMouseOut:function(l){var h=this._hoveredLayer;h&&(Te(this._container,"leaflet-interactive"),this._fireEvent([h],l,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(l,h){if(!this._mouseHoverThrottled){for(var _,T,S=this._drawFirst;S;S=S.next)_=S.layer,_.options.interactive&&_._containsPoint(h)&&(T=_);T!==this._hoveredLayer&&(this._handleMouseOut(l),T&&(Zt(this._container,"leaflet-interactive"),this._fireEvent([T],l,"mouseover"),this._hoveredLayer=T)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,l),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(l,h,_){this._map._fireDOMEvent(h,_||h.type,l)},_bringToFront:function(l){var h=l._order;if(h){var _=h.next,T=h.prev;if(_)_.prev=T;else return;T?T.next=_:_&&(this._drawFirst=_),h.prev=this._drawLast,this._drawLast.next=h,h.next=null,this._drawLast=h,this._requestRedraw(l)}},_bringToBack:function(l){var h=l._order;if(h){var _=h.next,T=h.prev;if(T)T.next=_;else return;_?_.prev=T:T&&(this._drawLast=T),h.prev=null,h.next=this._drawFirst,this._drawFirst.prev=h,this._drawFirst=h,this._requestRedraw(l)}}});function el(l){return Ot.canvas?new tl(l):null}var kr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return document.createElement("<lvml:"+l+' class="lvml">')}}catch{}return function(l){return document.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Pa={_initContainer:function(){this._container=te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ki.prototype._update.call(this),this.fire("update"))},_initPath:function(l){var h=l._container=kr("shape");Zt(h,"leaflet-vml-shape "+(this.options.className||"")),h.coordsize="1 1",l._path=kr("path"),h.appendChild(l._path),this._updateStyle(l),this._layers[m(l)]=l},_addPath:function(l){var h=l._container;this._container.appendChild(h),l.options.interactive&&l.addInteractiveTarget(h)},_removePath:function(l){var h=l._container;_e(h),l.removeInteractiveTarget(h),delete this._layers[m(l)]},_updateStyle:function(l){var h=l._stroke,_=l._fill,T=l.options,S=l._container;S.stroked=!!T.stroke,S.filled=!!T.fill,T.stroke?(h||(h=l._stroke=kr("stroke")),S.appendChild(h),h.weight=T.weight+"px",h.color=T.color,h.opacity=T.opacity,T.dashArray?h.dashStyle=W(T.dashArray)?T.dashArray.join(" "):T.dashArray.replace(/( *, *)/g," "):h.dashStyle="",h.endcap=T.lineCap.replace("butt","flat"),h.joinstyle=T.lineJoin):h&&(S.removeChild(h),l._stroke=null),T.fill?(_||(_=l._fill=kr("fill")),S.appendChild(_),_.color=T.fillColor||T.color,_.opacity=T.fillOpacity):_&&(S.removeChild(_),l._fill=null)},_updateCircle:function(l){var h=l._point.round(),_=Math.round(l._radius),T=Math.round(l._radiusY||_);this._setPath(l,l._empty()?"M0 0":"AL "+h.x+","+h.y+" "+_+","+T+" 0,"+65535*360)},_setPath:function(l,h){l._path.v=h},_bringToFront:function(l){Qi(l._container)},_bringToBack:function(l){qs(l._container)}},nl=Ot.vml?kr:oa,Xs=ki.extend({_initContainer:function(){this._container=nl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=nl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_e(this._container),ce(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ki.prototype._update.call(this);var l=this._bounds,h=l.getSize(),_=this._container;(!this._svgSize||!this._svgSize.equals(h))&&(this._svgSize=h,_.setAttribute("width",h.x),_.setAttribute("height",h.y)),jt(_,l.min),_.setAttribute("viewBox",[l.min.x,l.min.y,h.x,h.y].join(" ")),this.fire("update")}},_initPath:function(l){var h=l._path=nl("path");l.options.className&&Zt(h,l.options.className),l.options.interactive&&Zt(h,"leaflet-interactive"),this._updateStyle(l),this._layers[m(l)]=l},_addPath:function(l){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(l._path),l.addInteractiveTarget(l._path)},_removePath:function(l){_e(l._path),l.removeInteractiveTarget(l._path),delete this._layers[m(l)]},_updatePath:function(l){l._project(),l._update()},_updateStyle:function(l){var h=l._path,_=l.options;h&&(_.stroke?(h.setAttribute("stroke",_.color),h.setAttribute("stroke-opacity",_.opacity),h.setAttribute("stroke-width",_.weight),h.setAttribute("stroke-linecap",_.lineCap),h.setAttribute("stroke-linejoin",_.lineJoin),_.dashArray?h.setAttribute("stroke-dasharray",_.dashArray):h.removeAttribute("stroke-dasharray"),_.dashOffset?h.setAttribute("stroke-dashoffset",_.dashOffset):h.removeAttribute("stroke-dashoffset")):h.setAttribute("stroke","none"),_.fill?(h.setAttribute("fill",_.fillColor||_.color),h.setAttribute("fill-opacity",_.fillOpacity),h.setAttribute("fill-rule",_.fillRule||"evenodd")):h.setAttribute("fill","none"))},_updatePoly:function(l,h){this._setPath(l,Oo(l._parts,h))},_updateCircle:function(l){var h=l._point,_=Math.max(Math.round(l._radius),1),T=Math.max(Math.round(l._radiusY),1)||_,S="a"+_+","+T+" 0 1,0 ",M=l._empty()?"M0 0":"M"+(h.x-_)+","+h.y+S+_*2+",0 "+S+-_*2+",0 ";this._setPath(l,M)},_setPath:function(l,h){l._path.setAttribute("d",h)},_bringToFront:function(l){Qi(l._path)},_bringToBack:function(l){qs(l._path)}});Ot.vml&&Xs.include(Pa);function Lr(l){return Ot.svg||Ot.vml?new Xs(l):null}Xt.include({getRenderer:function(l){var h=l.options.renderer||this._getPaneRenderer(l.options.pane)||this.options.renderer||this._renderer;return h||(h=this._renderer=this._createRenderer()),this.hasLayer(h)||this.addLayer(h),h},_getPaneRenderer:function(l){if(l==="overlayPane"||l===void 0)return!1;var h=this._paneRenderers[l];return h===void 0&&(h=this._createRenderer({pane:l}),this._paneRenderers[l]=h),h},_createRenderer:function(l){return this.options.preferCanvas&&el(l)||Lr(l)}});var lf=Ra.extend({initialize:function(l,h){Ra.prototype.initialize.call(this,this._boundsToLatLngs(l),h)},setBounds:function(l){return this.setLatLngs(this._boundsToLatLngs(l))},_boundsToLatLngs:function(l){return l=St(l),[l.getSouthWest(),l.getNorthWest(),l.getNorthEast(),l.getSouthEast()]}});function ri(l,h){return new lf(l,h)}Xs.create=nl,Xs.pointsToPath=Oo,ni.geometryToLayer=Xo,ni.coordsToLatLng=Xl,ni.coordsToLatLngs=Qo,ni.latLngToCoords=$o,ni.latLngsToCoords=Ql,ni.getFeature=Pi,ni.asFeature=Ca,Xt.mergeOptions({boxZoom:!0});var eu=qn.extend({initialize:function(l){this._map=l,this._container=l._container,this._pane=l._panes.overlayPane,this._resetStateTimeout=0,l.on("unload",this._destroy,this)},addHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ce(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(l){if(!l.shiftKey||l.which!==1&&l.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Tn(),Ar(),this._startPoint=this._map.mouseEventToContainerPoint(l),Nt(document,{contextmenu:En,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(l){this._moved||(this._moved=!0,this._box=te("div","leaflet-zoom-box",this._container),Zt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(l);var h=new ct(this._point,this._startPoint),_=h.getSize();jt(this._box,h.min),this._box.style.width=_.x+"px",this._box.style.height=_.y+"px"},_finish:function(){this._moved&&(_e(this._box),Te(this._container,"leaflet-crosshair")),Ai(),Fo(),ce(document,{contextmenu:En,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(l){if(!(l.which!==1&&l.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var h=new gt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(h).fire("boxzoomend",{boxZoomBounds:h})}},_onKeyDown:function(l){l.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Xt.addInitHook("addHandler","boxZoom",eu),Xt.mergeOptions({doubleClickZoom:!0});var ss=qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var h=this._map,_=h.getZoom(),T=h.options.zoomDelta,S=l.originalEvent.shiftKey?_-T:_+T;h.options.doubleClickZoom==="center"?h.setZoom(S):h.setZoomAround(l.containerPoint,S)}});Xt.addInitHook("addHandler","doubleClickZoom",ss),Xt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fc=qn.extend({addHooks:function(){if(!this._draggable){var l=this._map;this._draggable=new Mi(l._mapPane,l._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),l.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),l.on("zoomend",this._onZoomEnd,this),l.whenReady(this._onZoomEnd,this))}Zt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Te(this._map._container,"leaflet-grab"),Te(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var l=this._map;if(l._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var h=St(this._map.options.maxBounds);this._offsetLimit=bt(this._map.latLngToContainerPoint(h.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(h.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;l.fire("movestart").fire("dragstart"),l.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(l){if(this._map.options.inertia){var h=this._lastTime=+new Date,_=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(_),this._times.push(h),this._prunePositions(h)}this._map.fire("move",l).fire("drag",l)},_prunePositions:function(l){for(;this._positions.length>1&&l-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var l=this._map.getSize().divideBy(2),h=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=h.subtract(l).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(l,h){return l-(l-h)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var l=this._draggable._newPos.subtract(this._draggable._startPos),h=this._offsetLimit;l.x<h.min.x&&(l.x=this._viscousLimit(l.x,h.min.x)),l.y<h.min.y&&(l.y=this._viscousLimit(l.y,h.min.y)),l.x>h.max.x&&(l.x=this._viscousLimit(l.x,h.max.x)),l.y>h.max.y&&(l.y=this._viscousLimit(l.y,h.max.y)),this._draggable._newPos=this._draggable._startPos.add(l)}},_onPreDragWrap:function(){var l=this._worldWidth,h=Math.round(l/2),_=this._initialWorldOffset,T=this._draggable._newPos.x,S=(T-h+_)%l+h-_,M=(T+h+_)%l-h-_,q=Math.abs(S+_)<Math.abs(M+_)?S:M;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=q},_onDragEnd:function(l){var h=this._map,_=h.options,T=!_.inertia||l.noInertia||this._times.length<2;if(h.fire("dragend",l),T)h.fire("moveend");else{this._prunePositions(+new Date);var S=this._lastPos.subtract(this._positions[0]),M=(this._lastTime-this._times[0])/1e3,q=_.easeLinearity,tt=S.multiplyBy(q/M),ot=tt.distanceTo([0,0]),yt=Math.min(_.inertiaMaxSpeed,ot),xt=tt.multiplyBy(yt/ot),Ct=yt/(_.inertiaDeceleration*q),Pt=xt.multiplyBy(-Ct/2).round();!Pt.x&&!Pt.y?h.fire("moveend"):(Pt=h._limitOffset(Pt,h.options.maxBounds),F(function(){h.panBy(Pt,{duration:Ct,easeLinearity:q,noMoveStart:!0,animate:!0})}))}}});Xt.addInitHook("addHandler","dragging",fc),Xt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var il=qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(l){this._map=l,this._setPanDelta(l.options.keyboardPanDelta),this._setZoomDelta(l.options.zoomDelta)},addHooks:function(){var l=this._map._container;l.tabIndex<=0&&(l.tabIndex="0"),Nt(l,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ce(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var l=document.body,h=document.documentElement,_=l.scrollTop||h.scrollTop,T=l.scrollLeft||h.scrollLeft;this._map._container.focus(),window.scrollTo(T,_)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(l){var h=this._panKeys={},_=this.keyCodes,T,S;for(T=0,S=_.left.length;T<S;T++)h[_.left[T]]=[-1*l,0];for(T=0,S=_.right.length;T<S;T++)h[_.right[T]]=[l,0];for(T=0,S=_.down.length;T<S;T++)h[_.down[T]]=[0,l];for(T=0,S=_.up.length;T<S;T++)h[_.up[T]]=[0,-1*l]},_setZoomDelta:function(l){var h=this._zoomKeys={},_=this.keyCodes,T,S;for(T=0,S=_.zoomIn.length;T<S;T++)h[_.zoomIn[T]]=l;for(T=0,S=_.zoomOut.length;T<S;T++)h[_.zoomOut[T]]=-l},_addHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ce(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){if(!(l.altKey||l.ctrlKey||l.metaKey)){var h=l.keyCode,_=this._map,T;if(h in this._panKeys){if(!_._panAnim||!_._panAnim._inProgress)if(T=this._panKeys[h],l.shiftKey&&(T=U(T).multiplyBy(3)),_.options.maxBounds&&(T=_._limitOffset(U(T),_.options.maxBounds)),_.options.worldCopyJump){var S=_.wrapLatLng(_.unproject(_.project(_.getCenter()).add(T)));_.panTo(S)}else _.panBy(T)}else if(h in this._zoomKeys)_.setZoom(_.getZoom()+(l.shiftKey?3:1)*this._zoomKeys[h]);else if(h===27&&_._popup&&_._popup.options.closeOnEscapeKey)_.closePopup();else return;En(l)}}});Xt.addInitHook("addHandler","keyboard",il),Xt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Qs=qn.extend({addHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ce(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(l){var h=Rr(l),_=this._map.options.wheelDebounceTime;this._delta+=h,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var T=Math.max(_-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),T),En(l)},_performZoom:function(){var l=this._map,h=l.getZoom(),_=this._map.options.zoomSnap||0;l._stop();var T=this._delta/(this._map.options.wheelPxPerZoomLevel*4),S=4*Math.log(2/(1+Math.exp(-Math.abs(T))))/Math.LN2,M=_?Math.ceil(S/_)*_:S,q=l._limitZoom(h+(this._delta>0?M:-M))-h;this._delta=0,this._startTime=null,q&&(l.options.scrollWheelZoom==="center"?l.setZoom(h+q):l.setZoomAround(this._lastMousePos,h+q))}});Xt.addInitHook("addHandler","scrollWheelZoom",Qs);var dc=600;Xt.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var nu=qn.extend({addHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ce(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(clearTimeout(this._holdTimeout),l.touches.length===1){var h=l.touches[0];this._startPos=this._newPos=new pt(h.clientX,h.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Nt(document,"touchend",Ae),Nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",h))},this),dc),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function l(){ce(document,"touchend",Ae),ce(document,"touchend touchcancel",l)},_cancel:function(){clearTimeout(this._holdTimeout),ce(document,"touchend touchcancel contextmenu",this._cancel,this),ce(document,"touchmove",this._onMove,this)},_onMove:function(l){var h=l.touches[0];this._newPos=new pt(h.clientX,h.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(l,h){var _=new MouseEvent(l,{bubbles:!0,cancelable:!0,view:window,screenX:h.screenX,screenY:h.screenY,clientX:h.clientX,clientY:h.clientY});_._simulated=!0,h.target.dispatchEvent(_)}});Xt.addInitHook("addHandler","tapHold",nu),Xt.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var Nr=qn.extend({addHooks:function(){Zt(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Te(this._map._container,"leaflet-touch-zoom"),ce(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(l){var h=this._map;if(!(!l.touches||l.touches.length!==2||h._animatingZoom||this._zooming)){var _=h.mouseEventToContainerPoint(l.touches[0]),T=h.mouseEventToContainerPoint(l.touches[1]);this._centerPoint=h.getSize()._divideBy(2),this._startLatLng=h.containerPointToLatLng(this._centerPoint),h.options.touchZoom!=="center"&&(this._pinchStartLatLng=h.containerPointToLatLng(_.add(T)._divideBy(2))),this._startDist=_.distanceTo(T),this._startZoom=h.getZoom(),this._moved=!1,this._zooming=!0,h._stop(),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),Ae(l)}},_onTouchMove:function(l){if(!(!l.touches||l.touches.length!==2||!this._zooming)){var h=this._map,_=h.mouseEventToContainerPoint(l.touches[0]),T=h.mouseEventToContainerPoint(l.touches[1]),S=_.distanceTo(T)/this._startDist;if(this._zoom=h.getScaleZoom(S,this._startZoom),!h.options.bounceAtZoomLimits&&(this._zoom<h.getMinZoom()&&S<1||this._zoom>h.getMaxZoom()&&S>1)&&(this._zoom=h._limitZoom(this._zoom)),h.options.touchZoom==="center"){if(this._center=this._startLatLng,S===1)return}else{var M=_._add(T)._divideBy(2)._subtract(this._centerPoint);if(S===1&&M.x===0&&M.y===0)return;this._center=h.unproject(h.project(this._pinchStartLatLng,this._zoom).subtract(M),this._zoom)}this._moved||(h._moveStart(!0,!1),this._moved=!0),Z(this._animRequest);var q=c(h._move,h,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=F(q,this,!0),Ae(l)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Z(this._animRequest),ce(document,"touchmove",this._onTouchMove,this),ce(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Xt.addInitHook("addHandler","touchZoom",Nr),Xt.BoxZoom=eu,Xt.DoubleClickZoom=ss,Xt.Drag=fc,Xt.Keyboard=il,Xt.ScrollWheelZoom=Qs,Xt.TapHold=nu,Xt.TouchZoom=Nr,e.Bounds=ct,e.Browser=Ot,e.CRS=xe,e.Canvas=tl,e.Circle=uc,e.CircleMarker=Yo,e.Class=Yt,e.Control=fn,e.DivIcon=hc,e.DivOverlay=Oi,e.DomEvent=ql,e.DomUtil=qo,e.Draggable=Mi,e.Evented=vt,e.FeatureGroup=Me,e.GeoJSON=ni,e.GridLayer=Or,e.Handler=qn,e.Icon=ns,e.ImageOverlay=is,e.LatLng=At,e.LatLngBounds=gt,e.Layer=ye,e.LayerGroup=Le,e.LineUtil=N,e.Map=Xt,e.Marker=Aa,e.Mixin=Ir,e.Path=As,e.Point=pt,e.PolyUtil=Ea,e.Polygon=Ra,e.Polyline=Rs,e.Popup=Jo,e.PosAnimation=Cr,e.Projection=wt,e.Rectangle=lf,e.Renderer=ki,e.SVG=Xs,e.SVGOverlay=Ys,e.TileLayer=Dr,e.Tooltip=tu,e.Transformation=vi,e.Util=j,e.VideoOverlay=Jl,e.bind=c,e.bounds=bt,e.canvas=el,e.circle=Jm,e.circleMarker=nf,e.control=wn,e.divIcon=of,e.extend=r,e.featureGroup=es,e.geoJSON=$l,e.geoJson=sf,e.gridLayer=Di,e.icon=Yl,e.imageOverlay=Ia,e.latLng=Et,e.latLngBounds=St,e.layerGroup=xs,e.map=Ji,e.marker=lc,e.point=U,e.polygon=ei,e.polyline=tp,e.popup=ep,e.rectangle=ri,e.setOptions=O,e.stamp=m,e.svg=Lr,e.svgOverlay=af,e.tileLayer=ii,e.tooltip=np,e.transformation=bi,e.version=i,e.videoOverlay=rf;var Oa=window.L;e.noConflict=function(){return window.L=Oa,this},window.L=e})}(mh,mh.exports)),mh.exports}var ef=X3();const Q3=q_(ef);function sv(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function rv(n,t){return t==null?function(i,r){const o=$.useRef(void 0);return o.current||(o.current=n(i,r)),o}:function(i,r){const o=$.useRef(void 0);o.current||(o.current=n(i,r));const c=$.useRef(i),{instance:f}=o.current;return $.useEffect(function(){c.current!==i&&(t(f,i,c.current),c.current=i)},[f,i,t]),o}}function $3(n,t){$.useEffect(function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(n.instance),t.map.removeLayer(n.instance)}},[t,n])}function DA(n){return function(e){const i=nv(),r=n(iv(e,i),i);return PA(i.map,e.attribution),OA(r.current,e.eventHandlers),$3(r.current,i),r}}function J3(n,t){const e=rv(n,t),i=DA(e);return G3(i)}function t6(n,t){const e=rv(n),i=K3(e,t);return Z3(i)}function e6(n,t){const e=rv(n,t),i=DA(e);return W3(i)}function n6(n,t,e){const{opacity:i,zIndex:r}=t;i!=null&&i!==e.opacity&&n.setOpacity(i),r!=null&&r!==e.zIndex&&n.setZIndex(r)}function i6(){return nv().map}function s6(n){const t=i6();return $.useEffect(function(){return t.on(n),function(){t.off(n)}},[t,n]),t}function r6({bounds:n,boundsOptions:t,center:e,children:i,className:r,id:o,placeholder:c,style:f,whenReady:m,zoom:p,...v},E){const[x]=$.useState({className:r,id:o,style:f}),[R,I]=$.useState(null),O=$.useRef(void 0);$.useImperativeHandle(E,()=>(R==null?void 0:R.map)??null,[R]);const D=$.useCallback(K=>{if(K!==null&&!O.current){const W=new ef.Map(K,v);O.current=W,e!=null&&p!=null?W.setView(e,p):n!=null&&W.fitBounds(n,t),m!=null&&W.whenReady(m),I(F3(W))}},[]);$.useEffect(()=>()=>{R==null||R.map.remove()},[R]);const V=R?ji.createElement(ev,{value:R},i):c??null;return ji.createElement("div",{...x,ref:D},V)}const a6=$.forwardRef(r6),o6=J3(function({position:t,...e},i){const r=new ef.Marker(t,e);return sv(r,q3(i,{overlayContainer:r}))},function(t,e,i){e.position!==i.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==i.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==i.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==i.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==i.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),l6=t6(function(t,e){const i=new ef.Popup(t,e.overlayContainer);return sv(i,e)},function(t,e,{position:i},r){$.useEffect(function(){const{instance:c}=t;function f(p){p.popup===c&&(c.update(),r(!0))}function m(p){p.popup===c&&r(!1)}return e.map.on({popupopen:f,popupclose:m}),e.overlayContainer==null?(i!=null&&c.setLatLng(i),c.openOn(e.map)):e.overlayContainer.bindPopup(c),function(){var v;e.map.off({popupopen:f,popupclose:m}),(v=e.overlayContainer)==null||v.unbindPopup(),e.map.removeLayer(c)}},[t,e,r,i])}),u6=e6(function({url:t,...e},i){const r=new ef.TileLayer(t,iv(e,i));return sv(r,i)},function(t,e,i){n6(t,e,i);const{url:r}=e;r!=null&&r!==i.url&&t.setUrl(r)}),c6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",h6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",f6="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";Q3.Icon.Default.mergeOptions({iconRetinaUrl:c6,iconUrl:h6,shadowUrl:f6});const d6=()=>{const[n,t]=$.useState([{id:1,name:"Colaba",position:[18.91,72.809]},{id:2,name:"Dadar",position:[19.0196,72.8425]},{id:3,name:"Bandra",position:[19.06,72.83]},{id:4,name:"Andheri",position:[19.1196,72.8465]},{id:5,name:"Thane",position:[19.2183,72.9781]}]),e=o=>{const c={id:n.length+1,name:`New Location ${n.length+1}`,position:[o.latlng.lat,o.latlng.lng]};t([...n,c])};function i(){return s6({click:e}),null}const r=o=>{t(n.filter(c=>c.id!==o))};return X.jsxs("div",{className:"p-6",children:[X.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Interactive Map"}),X.jsxs(a6,{center:[19.076,72.8777],zoom:12,scrollWheelZoom:!0,className:"w-full h-[500px] rounded-lg shadow-lg",children:[X.jsx(u6,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),X.jsx(i,{}),n.map(o=>X.jsx(o6,{position:o.position,draggable:!0,eventHandlers:{dragend:c=>{const f=n.map(m=>m.id===o.id?{...m,position:[c.target.getLatLng().lat,c.target.getLatLng().lng]}:m);t(f)}},children:X.jsx(l6,{children:X.jsxs("div",{className:"flex flex-col",children:[X.jsx("h3",{className:"font-bold",children:o.name}),X.jsx("button",{className:"text-red-500 mt-2",onClick:()=>r(o.id),children:"Remove Marker"})]})})},o.id))]})]})};function m6(){return X.jsxs(w2,{children:[X.jsx(W2,{}),X.jsx("div",{className:"flex flex-col min-h-screen",children:X.jsx("main",{className:"flex-grow",children:X.jsxs(JC,{children:[X.jsx(sr,{path:"/",element:X.jsx(Y2,{})}),X.jsx(sr,{path:"/login",element:X.jsx(dN,{})}),X.jsx(sr,{path:"/register",element:X.jsx(mN,{})}),X.jsxs(sr,{path:"/dashboard/*",element:X.jsx(pN,{}),children:[X.jsx(sr,{path:"reportcrime",element:X.jsx(gN,{})}),X.jsx(sr,{path:"missingpeople",element:X.jsx(_N,{})}),X.jsx(sr,{path:"analytics",element:X.jsx(U3,{})})]}),X.jsx(sr,{path:"/community",element:X.jsx(j3,{})}),X.jsx(sr,{path:"/map",element:X.jsx(d6,{})})," "]})})}),X.jsx(K2,{})]})}rC.createRoot(document.getElementById("root")).render(X.jsx(ji.StrictMode,{children:X.jsx(m6,{})}));
